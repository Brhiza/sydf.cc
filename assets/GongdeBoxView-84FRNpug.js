import{d as a,r as t,e as s,c as l,E as e,a as n,h as i,t as c,n as o,g as r,F as d,l as u,o as v}from"./vendor-DTFIXZ-L.js";import{_ as h}from"./index-BVDBoCg1.js";import"./utils-B-ODjm7Z.js";const f={class:"page-container"},g={class:"content-card"},m={class:"stats-container"},p={class:"stat-item"},b={class:"stat-number"},y={class:"stat-item"},k={class:"stat-number"},w={class:"stat-item"},x={class:"stat-number"},L={class:"content-card"},j={class:"section-header"},_={class:"section-title"},C=["disabled","title"],M={class:"table-container"},A={class:"certificate-table"},q={key:0,class:"anonymous-badge"},z={key:1},B={class:"amount-cell"},D={class:"link-cell"},E=["onClick"],S={key:1,class:"no-certificate"},T={key:0},U={class:"total-row"},$={colspan:"3",class:"amount-cell"},F={key:0,class:"empty-state"},G=h(a({__name:"GongdeBoxView",setup(a){const h=t([]),G=t({url:"https://sydf.cc/juanzeng.json",isLoading:!1,error:null});function H(a){return`Â¥${a.toLocaleString()}`}function I(){return h.value.reduce((a,t)=>a+t.amount,0)}function N(){return h.value.length}async function P(){G.value.isLoading=!0,G.value.error=null;try{const a=await fetch(G.value.url);if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const t=await a.json();h.value=t}catch(a){G.value.error="è·å–è¿œç¨‹æ•°æ®å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®"}finally{G.value.isLoading=!1}}return s(()=>{P()}),(a,t)=>(v(),l("div",f,[t[10]||(t[10]=e('<h1 class="page-title" data-v-f738c123>åŠŸå¾·ç®± ğŸ™</h1><div class="content-card" data-v-f738c123><div class="donation-container" data-v-f738c123><div class="merit-box-section" data-v-f738c123><img src="/gongdexiang.jpg" alt="åŠŸå¾·ç®±" class="merit-box-image" data-v-f738c123></div><div class="payment-methods" data-v-f738c123><div class="payment-method" data-v-f738c123><img src="/alipay.png" alt="æ”¯ä»˜å®æ”¶æ¬¾ç " class="qrcode-image" data-v-f738c123><p class="donation-hint" data-v-f738c123>æ”¯ä»˜å®æ‰«ç æèµ </p></div><div class="payment-method" data-v-f738c123><img src="/wechat.png" alt="å¾®ä¿¡æ”¶æ¬¾ç " class="qrcode-image" data-v-f738c123><p class="donation-hint" data-v-f738c123>å¾®ä¿¡æ‰«ç æèµ </p></div></div><div class="merit-box-link" data-v-f738c123><a href="/#/gongdeboard" target="_blank" rel="noopener noreferrer" data-v-f738c123> ğŸ™ åŠŸå¾·æ¦œ </a></div></div></div>',2)),n("div",g,[t[3]||(t[3]=n("h2",{class:"section-title"},[i("åŠŸå¾·ç»Ÿè®¡ "),n("span",{class:"highlight-text"},"çˆ±å¿ƒæ±‡èš")],-1)),n("div",m,[n("div",p,[n("div",b,c(I()),1),t[0]||(t[0]=n("div",{class:"stat-label"},"æ€»æèµ é¢ (å…ƒ)",-1))]),n("div",y,[n("div",k,c(N()),1),t[1]||(t[1]=n("div",{class:"stat-label"},"æèµ æ¬¡æ•°",-1))]),n("div",w,[n("div",x,c(Math.round(I()/N())),1),t[2]||(t[2]=n("div",{class:"stat-label"},"æ¬¡å‡æèµ  (å…ƒ)",-1))])])]),n("div",L,[n("div",j,[n("h2",_,[t[5]||(t[5]=i(" æèµ è¯ä¹¦ ",-1)),n("button",{class:"refresh-button",onClick:P,disabled:G.value.isLoading,title:G.value.isLoading?"æ­£åœ¨åˆ·æ–°...":"ç‚¹å‡»åˆ·æ–°æ•°æ®"},[(v(),l("svg",{class:o(["refresh-icon",{rotating:G.value.isLoading}]),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[...t[4]||(t[4]=[n("path",{d:"M1 4v6h6M23 20v-6h-6"},null,-1),n("path",{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"},null,-1)])],2))],8,C)])]),t[9]||(t[9]=n("div",{class:"refresh-notice"},[n("p",null,"ğŸ’¡ æ•°æ®æ›´æ–°å¯èƒ½å­˜åœ¨å»¶è¿Ÿï¼Œå¦‚éœ€æŸ¥çœ‹æœ€æ–°æèµ è®°å½•ï¼Œè¯·ç‚¹å‡»ä¸Šæ–¹åˆ·æ–°æŒ‰é’®")],-1)),n("div",M,[n("table",A,[t[7]||(t[7]=n("thead",null,[n("tr",null,[n("th",null,"åºå·"),n("th",null,"æèµ é¡¹ç›®"),n("th",null,"é‡‘é¢"),n("th",null,"æ—¥æœŸ"),n("th",null,"é“¾æ¥")])],-1)),n("tbody",null,[(v(!0),l(d,null,u(h.value,(a,t)=>{return v(),l("tr",{key:a.id},[n("td",null,c(t+1),1),n("td",null,[a.isAnonymous?(v(),l("span",q,"ğŸ™ˆ åŒ¿åæèµ ")):(v(),l("span",z,c(a.name||"çˆ±å¿ƒæèµ "),1))]),n("td",B,c(H(a.amount)),1),n("td",null,c((s=a.date,new Date(s).toLocaleDateString("zh-CN"))),1),n("td",D,[a.certificateUrl?(v(),l("button",{key:0,onClick:t=>{return s=a.certificateUrl,void(null==window||window.open(s,"_blank"));var s},class:"view-certificate-btn"}," æŸ¥çœ‹è¯ä¹¦ ",8,E)):(v(),l("span",S,"æš‚æ— è¯ä¹¦"))])]);var s}),128))]),h.value.length>0?(v(),l("tfoot",T,[n("tr",U,[t[6]||(t[6]=n("td",{colspan:"2"},[n("strong",null,"æ€»è®¡")],-1)),n("td",$,[n("strong",null,c(H(I())),1)])])])):r("",!0)]),0===h.value.length?(v(),l("div",F,[...t[8]||(t[8]=[n("div",{class:"empty-icon"},"ğŸ“‹",-1),n("p",null,"æš‚æ— æèµ è®°å½•",-1)])])):r("",!0)])])]))}}),[["__scopeId","data-v-f738c123"]]);export{G as default};
