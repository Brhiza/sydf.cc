import{d as Z,i as B,j as le,k as h,l as d,c as u,b as t,m as T,F as O,r as X,n as j,t as R,e as a,_ as K,o as te,p as ce,q as z,s as l,v as ne,x as ee,f as ge,y as re,z as de,A as ve,h as _,B as fe,u as pe,C as me,D as ae,E as ke,G as $e,H as ue,I as ye}from"./index-xHaJBDbl.js";import{d as Ce,D as be}from"./DivinationResult-B2G56S14.js";const we="/static/ssgw.jpg",Te={class:"inspiration-card"},Se={class:"inspiration-tabs"},qe=["onClick"],Re={class:"category-heading"},Ie={class:"questions-wrapper"},De=["onClick"],Ve={class:"questions-wrapper"},Ae={class:"questions-wrapper"},xe={class:"questions-wrapper"},Be={class:"questions-wrapper"},Me={class:"questions-wrapper"},Ue={class:"questions-wrapper"},Le={class:"questions-wrapper"},Pe={class:"questions-wrapper"},Ee={class:"questions-wrapper"},Fe={class:"questions-wrapper"},He={class:"questions-wrapper"},je={class:"questions-wrapper"},Qe={class:"questions-wrapper"},We={class:"questions-wrapper"},Ne={class:"questions-wrapper"},Ge=Z({__name:"InspirationPanel",props:{spreadType:{}},emits:["select","submit"],setup(H,{emit:I}){const p=H,C=I,c=B(()=>p.spreadType?le(p.spreadType):[]),$=B(()=>{var v;return p.spreadType&&((v=h[p.spreadType])==null?void 0:v.name)||""}),g=B(()=>{const v=[{id:"ganqing",name:"æ„Ÿæƒ…"},{id:"shiye",name:"äº‹ä¸š"},{id:"caifu",name:"è´¢å¯Œ"},{id:"renji",name:"äººé™…"},{id:"rensheng",name:"æˆé•¿"}];return p.spreadType&&c.value.length>0?[{id:"spread",name:"ç‰Œé˜µ"},...v]:v}),r=d(p.spreadType&&le(p.spreadType).length>0?"spread":"ganqing");function n(v){console.log("InspirationPanel selectAndSubmitQuestion è¢«è°ƒç”¨ï¼Œé—®é¢˜:",v),document.querySelectorAll(".questions-wrapper p").forEach(s=>{s.textContent===v&&(s.classList.add("clicked"),setTimeout(()=>{s.classList.remove("clicked")},300))}),console.log("InspirationPanel å³å°†è§¦å‘submitäº‹ä»¶ï¼Œé—®é¢˜:",v),C("submit",v)}return(v,e)=>(a(),u("div",Te,[e[104]||(e[104]=t("h3",{class:"inspiration-title"},"é—®é¢˜çµæ„Ÿ",-1)),t("div",Se,[(a(!0),u(O,null,X(g.value,s=>(a(),u("button",{key:s.id,class:j(["tab-btn",{active:r.value===s.id}]),onClick:w=>r.value=s.id},R(s.name),11,qe))),128))]),v.spreadType&&c.value.length>0?(a(),u("div",{key:0,id:"spread",class:j(["tab-pane",{active:r.value==="spread"}])},[t("h4",Re,R($.value)+"ä¸“å±é—®é¢˜",1),t("div",Ie,[(a(!0),u(O,null,X(c.value,s=>(a(),u("p",{key:s,onClick:w=>n(s)},R(s),9,De))),128))])],2)):T("",!0),t("div",{id:"ganqing",class:j(["tab-pane",{active:r.value==="ganqing"}])},[e[89]||(e[89]=t("h4",{class:"category-heading"},"æƒ…æ„Ÿå‘å±•",-1)),t("div",Ve,[t("p",{onClick:e[0]||(e[0]=s=>n("æˆ‘è¿‘æœŸçš„æ¡ƒèŠ±è¿æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘è¿‘æœŸçš„æ¡ƒèŠ±è¿æ€ä¹ˆæ ·ï¼Ÿ"),t("p",{onClick:e[1]||(e[1]=s=>n("æˆ‘ä»¬ç›®å‰çš„æ„Ÿæƒ…èµ°å‘å¦‚ä½•ï¼Ÿ"))},"æˆ‘ä»¬ç›®å‰çš„æ„Ÿæƒ…èµ°å‘å¦‚ä½•ï¼Ÿ"),t("p",{onClick:e[2]||(e[2]=s=>n("ä»–/å¥¹å¯¹æˆ‘çš„çœŸå®æƒ…æ„Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"))}," ä»–/å¥¹å¯¹æˆ‘çš„çœŸå®æƒ…æ„Ÿæ˜¯ä»€ä¹ˆï¼Ÿ "),t("p",{onClick:e[3]||(e[3]=s=>n("æˆ‘ä»¬ä¹‹é—´æœ‰æœªæ¥å—ï¼Ÿ"))},"æˆ‘ä»¬ä¹‹é—´æœ‰æœªæ¥å—ï¼Ÿ"),t("p",{onClick:e[4]||(e[4]=s=>n("å¦‚ä½•æ”¹å–„æˆ‘ä»¬ç›®å‰çš„å…³ç³»ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„æˆ‘ä»¬ç›®å‰çš„å…³ç³»ï¼Ÿ"),t("p",{onClick:e[5]||(e[5]=s=>n("è¿™æ®µæ„Ÿæƒ…å¯¹æˆ‘çš„å½±å“ï¼Ÿ"))},"è¿™æ®µæ„Ÿæƒ…å¯¹æˆ‘çš„å½±å“ï¼Ÿ")]),e[90]||(e[90]=t("h4",{class:"category-heading"},"æ­£ç¼˜å©šå§»",-1)),t("div",Ae,[t("p",{onClick:e[6]||(e[6]=s=>n("æˆ‘çš„æ­£ç¼˜ä»€ä¹ˆæ—¶å€™å‡ºç°ï¼Ÿ"))},"æˆ‘çš„æ­£ç¼˜ä»€ä¹ˆæ—¶å€™å‡ºç°ï¼Ÿ"),t("p",{onClick:e[7]||(e[7]=s=>n("æˆ‘çš„å¦ä¸€åŠæ˜¯ä»€ä¹ˆæ ·çš„äººï¼Ÿ"))},"æˆ‘çš„å¦ä¸€åŠæ˜¯ä»€ä¹ˆæ ·çš„äººï¼Ÿ"),t("p",{onClick:e[8]||(e[8]=s=>n("æˆ‘ä½•æ—¶ä¼šç»“å©šï¼Ÿ"))},"æˆ‘ä½•æ—¶ä¼šç»“å©šï¼Ÿ"),t("p",{onClick:e[9]||(e[9]=s=>n("æˆ‘é€‚åˆå’Œç°åœ¨çš„å¯¹è±¡ç»“å©šå—ï¼Ÿ"))}," æˆ‘é€‚åˆå’Œç°åœ¨çš„å¯¹è±¡ç»“å©šå—ï¼Ÿ "),t("p",{onClick:e[10]||(e[10]=s=>n("æˆ‘çš„å©šå§»ç”Ÿæ´»ä¼šå¹¸ç¦å—ï¼Ÿ"))},"æˆ‘çš„å©šå§»ç”Ÿæ´»ä¼šå¹¸ç¦å—ï¼Ÿ"),t("p",{onClick:e[11]||(e[11]=s=>n("å¦‚ä½•å¸å¼•æˆ‘çš„æ­£ç¼˜æ¡ƒèŠ±ï¼Ÿ"))},"å¦‚ä½•å¸å¼•æˆ‘çš„æ­£ç¼˜æ¡ƒèŠ±ï¼Ÿ")]),e[91]||(e[91]=t("h4",{class:"category-heading"},"å…³ç³»éš¾é¢˜",-1)),t("div",xe,[t("p",{onClick:e[12]||(e[12]=s=>n("æˆ‘ä»¬ä¹‹é—´å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"))},"æˆ‘ä»¬ä¹‹é—´å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"),t("p",{onClick:e[13]||(e[13]=s=>n("å¦‚ä½•è§£å†³ç°åœ¨çš„æ„Ÿæƒ…å±æœºï¼Ÿ"))},"å¦‚ä½•è§£å†³ç°åœ¨çš„æ„Ÿæƒ…å±æœºï¼Ÿ"),t("p",{onClick:e[14]||(e[14]=s=>n("æˆ‘ä»¬æœ‰æœºä¼šå¤åˆå—ï¼Ÿ"))},"æˆ‘ä»¬æœ‰æœºä¼šå¤åˆå—ï¼Ÿ"),t("p",{onClick:e[15]||(e[15]=s=>n("æˆ‘åº”è¯¥æ”¾å¼ƒè¿™æ®µæ„Ÿæƒ…å—ï¼Ÿ"))},"æˆ‘åº”è¯¥æ”¾å¼ƒè¿™æ®µæ„Ÿæƒ…å—ï¼Ÿ"),t("p",{onClick:e[16]||(e[16]=s=>n("æˆ‘å’ŒTaçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"))},"æˆ‘å’ŒTaçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"),t("p",{onClick:e[17]||(e[17]=s=>n("æˆ‘çš„çµé­‚ä¼´ä¾£æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ"))},"æˆ‘çš„çµé­‚ä¼´ä¾£æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ")])],2),t("div",{id:"shiye",class:j(["tab-pane",{active:r.value==="shiye"}])},[e[92]||(e[92]=t("h4",{class:"category-heading"},"äº‹ä¸šå‘å±•",-1)),t("div",Be,[t("p",{onClick:e[18]||(e[18]=s=>n("æˆ‘é€‚åˆç°åœ¨çš„å·¥ä½œ/è¡Œä¸šå—ï¼Ÿ"))}," æˆ‘é€‚åˆç°åœ¨çš„å·¥ä½œ/è¡Œä¸šå—ï¼Ÿ "),t("p",{onClick:e[19]||(e[19]=s=>n("æˆ‘çš„äº‹ä¸šä»€ä¹ˆæ—¶å€™èƒ½æˆåŠŸï¼Ÿ"))},"æˆ‘çš„äº‹ä¸šä»€ä¹ˆæ—¶å€™èƒ½æˆåŠŸï¼Ÿ"),t("p",{onClick:e[20]||(e[20]=s=>n("æˆ‘é€‚åˆè·³æ§½è¿˜æ˜¯ç»§ç»­åšå®ˆï¼Ÿ"))},"æˆ‘é€‚åˆè·³æ§½è¿˜æ˜¯ç»§ç»­åšå®ˆï¼Ÿ"),t("p",{onClick:e[21]||(e[21]=s=>n("æˆ‘äº‹ä¸šä¸Šçš„è´µäººä¼šæ˜¯è°ï¼Ÿ"))},"æˆ‘äº‹ä¸šä¸Šçš„è´µäººä¼šæ˜¯è°ï¼Ÿ"),t("p",{onClick:e[22]||(e[22]=s=>n("æˆ‘æœªæ¥çš„äº‹ä¸šèµ°å‘æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘æœªæ¥çš„äº‹ä¸šèµ°å‘æ€ä¹ˆæ ·ï¼Ÿ"),t("p",{onClick:e[23]||(e[23]=s=>n("æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œï¼Ÿ"))}," æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œï¼Ÿ ")]),e[93]||(e[93]=t("h4",{class:"category-heading"},"èŒåœºæœºé‡",-1)),t("div",Me,[t("p",{onClick:e[24]||(e[24]=s=>n("æˆ‘ä»Šå¹´æœ‰æœºä¼šå‡èŒåŠ è–ªå—ï¼Ÿ"))},"æˆ‘ä»Šå¹´æœ‰æœºä¼šå‡èŒåŠ è–ªå—ï¼Ÿ"),t("p",{onClick:e[25]||(e[25]=s=>n("å¦‚ä½•å¾—åˆ°é¢†å¯¼çš„èµè¯†å’Œé‡ç”¨ï¼Ÿ"))}," å¦‚ä½•å¾—åˆ°é¢†å¯¼çš„èµè¯†å’Œé‡ç”¨ï¼Ÿ "),t("p",{onClick:e[26]||(e[26]=s=>n("æˆ‘åœ¨å…¬å¸çš„å‘å±•å‰æ™¯å¦‚ä½•ï¼Ÿ"))},"æˆ‘åœ¨å…¬å¸çš„å‘å±•å‰æ™¯å¦‚ä½•ï¼Ÿ"),t("p",{onClick:e[27]||(e[27]=s=>n("å¦‚ä½•æ”¹å–„å½“å‰çš„å·¥ä½œçŠ¶æ€ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„å½“å‰çš„å·¥ä½œçŠ¶æ€ï¼Ÿ"),t("p",{onClick:e[28]||(e[28]=s=>n("æˆ‘æœ€è¿‘çš„èŒåœºäººé™…è¿å¦‚ä½•ï¼Ÿ"))},"æˆ‘æœ€è¿‘çš„èŒåœºäººé™…è¿å¦‚ä½•ï¼Ÿ")]),e[94]||(e[94]=t("h4",{class:"category-heading"},"åˆ›ä¸šä¹‹è·¯",-1)),t("div",Ue,[t("p",{onClick:e[29]||(e[29]=s=>n("æˆ‘é€‚åˆåˆ›ä¸šå—ï¼Ÿ"))},"æˆ‘é€‚åˆåˆ›ä¸šå—ï¼Ÿ"),t("p",{onClick:e[30]||(e[30]=s=>n("æˆ‘çš„åˆ›ä¸šæœ€ä½³æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ"))}," æˆ‘çš„åˆ›ä¸šæœ€ä½³æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ "),t("p",{onClick:e[31]||(e[31]=s=>n("æˆ‘è¯¥å’Œä»€ä¹ˆæ ·çš„äººåˆä¼™ï¼Ÿ"))},"æˆ‘è¯¥å’Œä»€ä¹ˆæ ·çš„äººåˆä¼™ï¼Ÿ"),t("p",{onClick:e[32]||(e[32]=s=>n("æˆ‘çš„åˆ›ä¸šé¡¹ç›®å‰æ™¯å¦‚ä½•ï¼Ÿ"))},"æˆ‘çš„åˆ›ä¸šé¡¹ç›®å‰æ™¯å¦‚ä½•ï¼Ÿ"),t("p",{onClick:e[33]||(e[33]=s=>n("åˆ›ä¸šè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„å“ªäº›é£é™©ï¼Ÿ"))}," åˆ›ä¸šè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„å“ªäº›é£é™©ï¼Ÿ "),t("p",{onClick:e[34]||(e[34]=s=>n("æˆ‘çš„åˆ›ä¸šä¼šæˆåŠŸå—ï¼Ÿ"))},"æˆ‘çš„åˆ›ä¸šä¼šæˆåŠŸå—ï¼Ÿ")])],2),t("div",{id:"caifu",class:j(["tab-pane",{active:r.value==="caifu"}])},[e[95]||(e[95]=t("h4",{class:"category-heading"},"è´¢è¿è¶‹åŠ¿",-1)),t("div",Le,[t("p",{onClick:e[35]||(e[35]=s=>n("æˆ‘è¿‘æœŸçš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘è¿‘æœŸçš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ"),t("p",{onClick:e[36]||(e[36]=s=>n("æˆ‘è¿™è¾ˆå­è´¢è¿çš„æ•´ä½“è¶‹åŠ¿ï¼Ÿ"))},"æˆ‘è¿™è¾ˆå­è´¢è¿çš„æ•´ä½“è¶‹åŠ¿ï¼Ÿ"),t("p",{onClick:e[37]||(e[37]=s=>n("æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å‘è´¢ï¼Ÿ"))},"æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å‘è´¢ï¼Ÿ"),t("p",{onClick:e[38]||(e[38]=s=>n("æˆ‘é€‚åˆé ä»€ä¹ˆæ–¹å¼èµšé’±ï¼Ÿ"))},"æˆ‘é€‚åˆé ä»€ä¹ˆæ–¹å¼èµšé’±ï¼Ÿ"),t("p",{onClick:e[39]||(e[39]=s=>n("å¦‚ä½•æœ‰æ•ˆæå‡æˆ‘çš„è´¢è¿ï¼Ÿ"))},"å¦‚ä½•æœ‰æ•ˆæå‡æˆ‘çš„è´¢è¿ï¼Ÿ"),t("p",{onClick:e[40]||(e[40]=s=>n("æˆ‘è¿‘æœŸä¼šæœ‰æ„å¤–ä¹‹è´¢å—ï¼Ÿ"))},"æˆ‘è¿‘æœŸä¼šæœ‰æ„å¤–ä¹‹è´¢å—ï¼Ÿ")]),e[96]||(e[96]=t("h4",{class:"category-heading"},"æŠ•èµ„ç†è´¢",-1)),t("div",Pe,[t("p",{onClick:e[41]||(e[41]=s=>n("æˆ‘é€‚åˆåšæŠ•èµ„å—ï¼Ÿ"))},"æˆ‘é€‚åˆåšæŠ•èµ„å—ï¼Ÿ"),t("p",{onClick:e[42]||(e[42]=s=>n("æˆ‘åº”è¯¥é€‰æ‹©ä»€ä¹ˆæ ·çš„æŠ•èµ„æ–¹å‘ï¼Ÿ"))}," æˆ‘åº”è¯¥é€‰æ‹©ä»€ä¹ˆæ ·çš„æŠ•èµ„æ–¹å‘ï¼Ÿ "),t("p",{onClick:e[43]||(e[43]=s=>n("è¿™ä¸ªæŠ•èµ„é¡¹ç›®èƒ½èµšé’±å—ï¼Ÿ"))},"è¿™ä¸ªæŠ•èµ„é¡¹ç›®èƒ½èµšé’±å—ï¼Ÿ"),t("p",{onClick:e[44]||(e[44]=s=>n("å¦‚ä½•æ‰èƒ½å®ˆä½æˆ‘çš„è´¢å¯Œï¼Ÿ"))},"å¦‚ä½•æ‰èƒ½å®ˆä½æˆ‘çš„è´¢å¯Œï¼Ÿ"),t("p",{onClick:e[45]||(e[45]=s=>n("æˆ‘çš„æŠ•èµ„é£é™©å¤§å—ï¼Ÿ"))},"æˆ‘çš„æŠ•èµ„é£é™©å¤§å—ï¼Ÿ"),t("p",{onClick:e[46]||(e[46]=s=>n("å¦‚ä½•æ›´å¥½åœ°ç®¡ç†æˆ‘çš„è´¢å¯Œï¼Ÿ"))},"å¦‚ä½•æ›´å¥½åœ°ç®¡ç†æˆ‘çš„è´¢å¯Œï¼Ÿ")]),e[97]||(e[97]=t("h4",{class:"category-heading"},"è´¢åŠ¡çŠ¶å†µ",-1)),t("div",Ee,[t("p",{onClick:e[47]||(e[47]=s=>n("æˆ‘ä¸ºä»€ä¹ˆæ€»æ˜¯å­˜ä¸ä½é’±ï¼Ÿ"))},"æˆ‘ä¸ºä»€ä¹ˆæ€»æ˜¯å­˜ä¸ä½é’±ï¼Ÿ"),t("p",{onClick:e[48]||(e[48]=s=>n("æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æˆ‘è´¢åŠ¡ç´§å¼ ï¼Ÿ"))}," æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æˆ‘è´¢åŠ¡ç´§å¼ ï¼Ÿ "),t("p",{onClick:e[49]||(e[49]=s=>n("æˆ‘æœ€è¿‘ä¼šæœ‰ç ´è´¢é£é™©å—ï¼Ÿ"))},"æˆ‘æœ€è¿‘ä¼šæœ‰ç ´è´¢é£é™©å—ï¼Ÿ"),t("p",{onClick:e[50]||(e[50]=s=>n("å¦‚ä½•é¿å…ä¸å¿…è¦çš„è´¢åŠ¡æŸå¤±ï¼Ÿ"))}," å¦‚ä½•é¿å…ä¸å¿…è¦çš„è´¢åŠ¡æŸå¤±ï¼Ÿ "),t("p",{onClick:e[51]||(e[51]=s=>n("æˆ‘éœ€è¦æ³¨æ„å“ªäº›å¹´ä»½çš„ç ´è´¢ï¼Ÿ"))}," æˆ‘éœ€è¦æ³¨æ„å“ªäº›å¹´ä»½çš„ç ´è´¢ï¼Ÿ "),t("p",{onClick:e[52]||(e[52]=s=>n("æˆ‘è¯¥å¦‚ä½•å¤„ç†æˆ‘çš„å€ºåŠ¡é—®é¢˜ï¼Ÿ"))}," æˆ‘è¯¥å¦‚ä½•å¤„ç†æˆ‘çš„å€ºåŠ¡é—®é¢˜ï¼Ÿ ")])],2),t("div",{id:"renji",class:j(["tab-pane",{active:r.value==="renji"}])},[e[98]||(e[98]=t("h4",{class:"category-heading"},"ç¤¾äº¤æ¨¡å¼",-1)),t("div",Fe,[t("p",{onClick:e[53]||(e[53]=s=>n("æˆ‘çš„äººé™…äº¤å¾€æ¨¡å¼æœ‰ä½•ä¼˜ç¼ºç‚¹ï¼Ÿ"))}," æˆ‘çš„äººé™…äº¤å¾€æ¨¡å¼æœ‰ä½•ä¼˜ç¼ºç‚¹ï¼Ÿ "),t("p",{onClick:e[54]||(e[54]=s=>n("å¦‚ä½•æ‹“å±•æˆ‘çš„é«˜è´¨é‡ç¤¾äº¤åœˆï¼Ÿ"))}," å¦‚ä½•æ‹“å±•æˆ‘çš„é«˜è´¨é‡ç¤¾äº¤åœˆï¼Ÿ "),t("p",{onClick:e[55]||(e[55]=s=>n("æˆ‘ç›®å‰çš„äººé™…å…³ç³»çŠ¶æ€å¦‚ä½•ï¼Ÿ"))}," æˆ‘ç›®å‰çš„äººé™…å…³ç³»çŠ¶æ€å¦‚ä½•ï¼Ÿ "),t("p",{onClick:e[56]||(e[56]=s=>n("æˆ‘ä¼šå¸å¼•å“ªäº›äººè¿›å…¥æˆ‘çš„ç”Ÿæ´»ï¼Ÿ"))}," æˆ‘ä¼šå¸å¼•å“ªäº›äººè¿›å…¥æˆ‘çš„ç”Ÿæ´»ï¼Ÿ "),t("p",{onClick:e[57]||(e[57]=s=>n("å¦‚ä½•è·å¾—ä»–äººçš„ä¿¡ä»»ä¸æ”¯æŒï¼Ÿ"))}," å¦‚ä½•è·å¾—ä»–äººçš„ä¿¡ä»»ä¸æ”¯æŒï¼Ÿ "),t("p",{onClick:e[58]||(e[58]=s=>n("å¦‚ä½•å¤„ç†ä¸æœ‹å‹çš„çŸ›ç›¾ï¼Ÿ"))},"å¦‚ä½•å¤„ç†ä¸æœ‹å‹çš„çŸ›ç›¾ï¼Ÿ")]),e[99]||(e[99]=t("h4",{class:"category-heading"},"è´µäººå–„ç¼˜",-1)),t("div",He,[t("p",{onClick:e[59]||(e[59]=s=>n("ä»€ä¹ˆæ ·çš„æœ‹å‹æ˜¯æˆ‘çš„è´µäººï¼Ÿ"))},"ä»€ä¹ˆæ ·çš„æœ‹å‹æ˜¯æˆ‘çš„è´µäººï¼Ÿ"),t("p",{onClick:e[60]||(e[60]=s=>n("æˆ‘åº”è¯¥è¿œç¦»ä»€ä¹ˆæ ·çš„æœ‹å‹ï¼Ÿ"))},"æˆ‘åº”è¯¥è¿œç¦»ä»€ä¹ˆæ ·çš„æœ‹å‹ï¼Ÿ"),t("p",{onClick:e[61]||(e[61]=s=>n("å¦‚ä½•ç»“äº¤æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹ï¼Ÿ"))}," å¦‚ä½•ç»“äº¤æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹ï¼Ÿ "),t("p",{onClick:e[62]||(e[62]=s=>n("æˆ‘è¯¥å¦‚ä½•ç»´ç³»é‡è¦çš„å‹è°Šï¼Ÿ"))},"æˆ‘è¯¥å¦‚ä½•ç»´ç³»é‡è¦çš„å‹è°Šï¼Ÿ"),t("p",{onClick:e[63]||(e[63]=s=>n("æˆ‘è¯¥ä¿¡ä»»æˆ‘èº«è¾¹çš„æœ‹å‹å—ï¼Ÿ"))},"æˆ‘è¯¥ä¿¡ä»»æˆ‘èº«è¾¹çš„æœ‹å‹å—ï¼Ÿ"),t("p",{onClick:e[64]||(e[64]=s=>n("å¦‚ä½•è·å¾—é¢†å¯¼æˆ–é•¿è¾ˆçš„èµè¯†ï¼Ÿ"))}," å¦‚ä½•è·å¾—é¢†å¯¼æˆ–é•¿è¾ˆçš„èµè¯†ï¼Ÿ ")]),e[100]||(e[100]=t("h4",{class:"category-heading"},"å®¶åº­å…³ç³»",-1)),t("div",je,[t("p",{onClick:e[65]||(e[65]=s=>n("æˆ‘å’Œå®¶äººçš„å…³ç³»æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘å’Œå®¶äººçš„å…³ç³»æ€ä¹ˆæ ·ï¼Ÿ"),t("p",{onClick:e[66]||(e[66]=s=>n("æˆ‘çš„å®¶åº­å¯¹æˆ‘æœ‰ä»€ä¹ˆæ ·çš„å½±å“ï¼Ÿ"))}," æˆ‘çš„å®¶åº­å¯¹æˆ‘æœ‰ä»€ä¹ˆæ ·çš„å½±å“ï¼Ÿ "),t("p",{onClick:e[67]||(e[67]=s=>n("å¦‚ä½•æ”¹å–„æˆ‘ä¸å®¶äººçš„å…³ç³»ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„æˆ‘ä¸å®¶äººçš„å…³ç³»ï¼Ÿ"),t("p",{onClick:e[68]||(e[68]=s=>n("æˆ‘è¯¥å¦‚ä½•å¤„ç†å®¶åº­çŸ›ç›¾ï¼Ÿ"))},"æˆ‘è¯¥å¦‚ä½•å¤„ç†å®¶åº­çŸ›ç›¾ï¼Ÿ"),t("p",{onClick:e[69]||(e[69]=s=>n("æˆ‘ä¸å®¶äººçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"))},"æˆ‘ä¸å®¶äººçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"),t("p",{onClick:e[70]||(e[70]=s=>n("å¦‚ä½•æ›´å¥½åœ°ä¸å®¶äººæ²Ÿé€šï¼Ÿ"))},"å¦‚ä½•æ›´å¥½åœ°ä¸å®¶äººæ²Ÿé€šï¼Ÿ")])],2),t("div",{id:"rensheng",class:j(["tab-pane",{active:r.value==="rensheng"}])},[e[101]||(e[101]=t("h4",{class:"category-heading"},"å­¦ä¸šè§„åˆ’",-1)),t("div",Qe,[t("p",{onClick:e[71]||(e[71]=s=>n("æˆ‘çš„å­¦ä¸šè¿åŠ¿å¦‚ä½•ï¼Ÿ"))},"æˆ‘çš„å­¦ä¸šè¿åŠ¿å¦‚ä½•ï¼Ÿ"),t("p",{onClick:e[72]||(e[72]=s=>n("æˆ‘é€‚åˆè€ƒç ”/è€ƒå…¬å—ï¼Ÿ"))},"æˆ‘é€‚åˆè€ƒç ”/è€ƒå…¬å—ï¼Ÿ"),t("p",{onClick:e[73]||(e[73]=s=>n("æˆ‘é€‚åˆç»§ç»­æ·±é€ è¿˜æ˜¯å·¥ä½œï¼Ÿ"))},"æˆ‘é€‚åˆç»§ç»­æ·±é€ è¿˜æ˜¯å·¥ä½œï¼Ÿ"),t("p",{onClick:e[74]||(e[74]=s=>n("å¦‚ä½•æå‡æˆ‘çš„å­¦ä¹ æ•ˆç‡ï¼Ÿ"))},"å¦‚ä½•æå‡æˆ‘çš„å­¦ä¹ æ•ˆç‡ï¼Ÿ"),t("p",{onClick:e[75]||(e[75]=s=>n("æˆ‘è¯¥é€‰æ‹©å“ªä¸ªä¸“ä¸š/å­¦æ ¡ï¼Ÿ"))},"æˆ‘è¯¥é€‰æ‹©å“ªä¸ªä¸“ä¸š/å­¦æ ¡ï¼Ÿ"),t("p",{onClick:e[76]||(e[76]=s=>n("æˆ‘è¿™æ¬¡è€ƒè¯•èƒ½é€šè¿‡å—ï¼Ÿ"))},"æˆ‘è¿™æ¬¡è€ƒè¯•èƒ½é€šè¿‡å—ï¼Ÿ")]),e[102]||(e[102]=t("h4",{class:"category-heading"},"ä¸ªäººæˆé•¿",-1)),t("div",We,[t("p",{onClick:e[77]||(e[77]=s=>n("æˆ‘çš„æ€§æ ¼ä¼˜åŠ¿å’ŒåŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"))}," æˆ‘çš„æ€§æ ¼ä¼˜åŠ¿å’ŒåŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ "),t("p",{onClick:e[78]||(e[78]=s=>n("æˆ‘çš„äººç”Ÿä¸»è¦è¯¾é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ"))},"æˆ‘çš„äººç”Ÿä¸»è¦è¯¾é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ"),t("p",{onClick:e[79]||(e[79]=s=>n("å¦‚ä½•æ‰¾åˆ°æˆ‘çš„äººç”Ÿæ–¹å‘ï¼Ÿ"))},"å¦‚ä½•æ‰¾åˆ°æˆ‘çš„äººç”Ÿæ–¹å‘ï¼Ÿ"),t("p",{onClick:e[80]||(e[80]=s=>n("å¦‚ä½•å…‹æœæˆ‘æ€§æ ¼ä¸­çš„å¼±ç‚¹ï¼Ÿ"))},"å¦‚ä½•å…‹æœæˆ‘æ€§æ ¼ä¸­çš„å¼±ç‚¹ï¼Ÿ"),t("p",{onClick:e[81]||(e[81]=s=>n("å¦‚ä½•æœ‰æ•ˆæå‡è‡ªå·±çš„èƒ½é‡çŠ¶æ€ï¼Ÿ"))}," å¦‚ä½•æœ‰æ•ˆæå‡è‡ªå·±çš„èƒ½é‡çŠ¶æ€ï¼Ÿ "),t("p",{onClick:e[82]||(e[82]=s=>n("æˆ‘çš„äººç”Ÿè½¬æŠ˜ç‚¹åœ¨ä½•æ—¶ï¼Ÿ"))},"æˆ‘çš„äººç”Ÿè½¬æŠ˜ç‚¹åœ¨ä½•æ—¶ï¼Ÿ")]),e[103]||(e[103]=t("h4",{class:"category-heading"},"äººç”Ÿæœºé‡",-1)),t("div",Ne,[t("p",{onClick:e[83]||(e[83]=s=>n("æˆ‘æœªæ¥åå¹´çš„äººç”Ÿå¤§è¿æ€ä¹ˆæ ·ï¼Ÿ"))}," æˆ‘æœªæ¥åå¹´çš„äººç”Ÿå¤§è¿æ€ä¹ˆæ ·ï¼Ÿ "),t("p",{onClick:e[84]||(e[84]=s=>n("æˆ‘è¯¥å¦‚ä½•å®ç°æˆ‘çš„äººç”Ÿç›®æ ‡ï¼Ÿ"))}," æˆ‘è¯¥å¦‚ä½•å®ç°æˆ‘çš„äººç”Ÿç›®æ ‡ï¼Ÿ "),t("p",{onClick:e[85]||(e[85]=s=>n("æˆ‘çš„äººç”Ÿä¼šæœ‰ä»€ä¹ˆé‡å¤§æœºé‡ï¼Ÿ"))}," æˆ‘çš„äººç”Ÿä¼šæœ‰ä»€ä¹ˆé‡å¤§æœºé‡ï¼Ÿ "),t("p",{onClick:e[86]||(e[86]=s=>n("æˆ‘åº”è¯¥æ³¨æ„å“ªäº›å¥åº·é—®é¢˜ï¼Ÿ"))},"æˆ‘åº”è¯¥æ³¨æ„å“ªäº›å¥åº·é—®é¢˜ï¼Ÿ"),t("p",{onClick:e[87]||(e[87]=s=>n("å¦‚ä½•æ‰èƒ½æ´»å‡ºæ›´ç²¾å½©çš„äººç”Ÿï¼Ÿ"))}," å¦‚ä½•æ‰èƒ½æ´»å‡ºæ›´ç²¾å½©çš„äººç”Ÿï¼Ÿ "),t("p",{onClick:e[88]||(e[88]=s=>n("æœªæ¥çš„äººç”Ÿä¹‹è·¯èµ°å‘å¦‚ä½•ï¼Ÿ"))},"æœªæ¥çš„äººç”Ÿä¹‹è·¯èµ°å‘å¦‚ä½•ï¼Ÿ")])],2)]))}}),he=K(Ge,[["__scopeId","data-v-597f1530"]]),ze={class:"spread-bubbles-container"},Oe={class:"spread-bubbles"},Je=["onClick"],Xe={class:"bubble-icon"},Ye={class:"bubble-text"},Ze={key:0,class:"all-spreads-dropdown"},Ke={class:"dropdown-content"},_e=["onClick"],et={class:"item-icon"},tt={class:"item-content"},nt={class:"item-title"},st={class:"item-description"},ot={class:"item-meta"},it={class:"item-count"},lt={key:1,class:"positions-detail"},at={class:"positions-grid"},ut=Z({__name:"TarotSpreadSelector",props:{modelValue:{default:"single"},showPositions:{type:Boolean,default:!1},maxVisibleSpreads:{default:4}},emits:["update:modelValue","change"],setup(H,{emit:I}){const p=H,C=I,c=d(p.modelValue),$=d(!1),g=d(0),r=d(),n=["single","three","love","career","decision","celtic","chakra","year"],v=B(()=>{if(g.value===0)return p.maxVisibleSpreads;const f=g.value<=480,A=g.value<=768;let y=95,S=75,L=6,P=10;f?(y=75,S=60,L=4,P=8):A&&(y=85,S=65,L=5,P=8);const E=g.value;if(E<y)return 1;if(n.length*y+(n.length-1)*L<=E)return n.length;const N=E-S-L-P;let m=1,k=y;for(let F=1;F<n.length;F++){const G=k+L+y;if(G<=N)m=F+1,k=G;else break}const q=Math.min(2,n.length);return Math.max(q,m)}),e=B(()=>{const f=v.value,A=n.indexOf(c.value);return f>=n.length?n:A<f?n.slice(0,f):[...n.slice(0,f-1),c.value]}),s=B(()=>v.value<n.length);function w(f){c.value=f,C("update:modelValue",f),C("change",f)}function M(f){w(f),V()}function D(){$.value=!$.value}function V(){$.value=!1}function b(f){return{single:"ğŸ”®",three:"ğŸƒ",love:"ğŸ’•",career:"ğŸ’¼",decision:"âš–ï¸",celtic:"âœ¨",chakra:"ğŸ§˜",year:"ğŸ“…"}[f]||"ğŸ´"}function U(){if(r.value){const f=r.value.getBoundingClientRect();g.value=f.width}}function W(f){r.value&&!r.value.contains(f.target)&&V()}return te(()=>{setTimeout(()=>{U()},100),window.addEventListener("resize",U),document.addEventListener("click",W)}),ce(()=>{window.removeEventListener("resize",U),document.removeEventListener("click",W)}),z(()=>p.modelValue,f=>{f&&f!==c.value&&(c.value=f)}),(f,A)=>(a(),u("div",{ref_key:"selectorRef",ref:r,class:"tarot-spread-selector"},[t("div",ze,[t("div",Oe,[(a(!0),u(O,null,X(e.value,y=>(a(),u("button",{key:y,class:j(["spread-bubble",{active:c.value===y}]),onClick:S=>w(y)},[t("span",Xe,R(b(y)),1),t("span",Ye,R(l(h)[y].name),1)],10,Je))),128)),s.value?(a(),u("button",{key:0,class:"spread-bubble expand-button",onClick:D},A[0]||(A[0]=[t("span",{class:"bubble-icon"},"â‹¯",-1),t("span",{class:"bubble-text"},"å…¨éƒ¨",-1)]))):T("",!0)])]),$.value?(a(),u("div",Ze,[t("div",Ke,[(a(),u(O,null,X(n,y=>t("div",{key:y,class:j(["spread-item",{active:c.value===y}]),onClick:S=>M(y)},[t("div",et,R(b(y)),1),t("div",tt,[t("div",nt,R(l(h)[y].name),1),t("div",st,R(l(h)[y].description),1)]),t("div",ot,[t("span",it,R(l(h)[y].cardCount)+"å¼ ",1)])],10,_e)),64))])])):T("",!0),f.showPositions&&c.value?(a(),u("div",lt,[A[1]||(A[1]=t("h4",null,"ç‰Œä½è¯´æ˜",-1)),t("div",at,[(a(!0),u(O,null,X(l(h)[c.value].positions,(y,S)=>(a(),u("span",{key:S,class:"position-item"},R(S+1)+". "+R(y),1))),128))])])):T("",!0)],512))}}),rt=K(ut,[["__scopeId","data-v-ad63d20b"]]),dt={key:0,src:we,alt:"ä¸‰å±±å›½ç‹",class:"card-image"},vt={class:"card-title"},pt={class:"card-description"},ct={key:1,class:"tarot-spread-container"},gt={class:"input-container"},ft=["placeholder","disabled"],mt=["disabled"],kt={key:0},$t={key:1,class:"loading-text"},yt={key:2,class:"ssgw-process"},Ct={key:0,class:"shaking-animation"},bt={class:"shaking-text"},wt={class:"shaking-visual"},Tt={class:"sign-container"},St={key:1,class:"tossing-section"},qt={class:"result-section"},Rt={key:0,class:"result-section"},It=["innerHTML"],Dt={key:1,class:"bei-container"},Vt=["src","alt"],At={key:2,class:"button-wrapper"},xt=["disabled"],Bt=Z({__name:"DivinationInput",props:{title:{},description:{},placeholder:{default:"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜"},buttonText:{default:"è¯¢é—®èµ›åšå¤§å¸ˆ"},loadingText:{default:"AIæ€è€ƒä¸­"},loading:{type:Boolean,default:!1},modelValue:{default:""},examples:{default:()=>[]},showInspiration:{type:Boolean,default:!0},hideAfterSubmit:{type:Boolean,default:!0},divinationType:{default:""}},emits:["update:modelValue","submit","typeChange","clear"],setup(H,{emit:I}){const p=H,C=I,c=ne();pe();const $=d(p.modelValue),g=d(E()),r=d("single"),n=d(!1),v=d(!1),e=d(""),s=d(0),w=d(!1),M=d(!1),D=d(0),V=d([]),b=d(""),U=d(0),W=d(!1),f=d(""),A=B(()=>p.divinationType==="ssgw"?"å¯è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œä¹Ÿå¯ç›´æ¥æ±‚ç­¾":p.placeholder),y=B(()=>p.divinationType==="ssgw"||c.path.includes("/divination/ssgw")?!1:p.showInspiration),S=B(()=>c.path.includes("/divination/tarot")),L=B(()=>{if(S.value){const o=h[r.value];return o?`å¡”ç½—ç‰ŒÂ·${o.name}`:p.title}return p.title}),P=B(()=>{if(S.value){const o=h[r.value];return o?o.description:p.description}return p.description});function E(){const o=c.path;return o.includes("/divination/tarot_single")?"tarot_single":(o.includes("/divination/tarot"),"tarot")}z(()=>p.modelValue,o=>{$.value=o}),z($,o=>{C("update:modelValue",o)});function J(){$.value="",n.value=!1}z(()=>p.divinationType,(o,i)=>{i&&o!==i&&(console.log("DivinationInput: å åœç±»å‹å˜åŒ–:",i,"->",o),J())}),z(()=>c.path,()=>{S.value&&(g.value=E()),J()});function N(){if(p.divinationType==="ssgw"||c.path.includes("/ssgw")){const o=$.value.trim()||"å¿ƒä¸­æ‰€æƒ³ä¹‹äº‹";n.value=!0,C("clear"),m(o);return}!$.value.trim()||p.loading||(n.value=!0,C("submit",{question:$.value.trim()}))}function m(o){f.value=o,v.value=!0,e.value="è¯·é™å¿ƒé»˜å¿µï¼Œå‡†å¤‡æ‘‡ç­¾...",s.value=0,setTimeout(()=>{e.value="æ­£åœ¨æ‘‡ç­¾ä¸­...";const i=setInterval(()=>{s.value++,s.value>=5&&(clearInterval(i),setTimeout(()=>{D.value=Math.floor(Math.random()*61)+1,v.value=!1,M.value=!0,U.value=0,W.value=!1,V.value=[],b.value=""},1e3))},400)},2e3)}function k(){if(w.value)return;w.value=!0,V.value=[],b.value="";const o=fe();setTimeout(()=>{V.value=[o.bei1,o.bei2];const i=o.result;i==="åœ£æ¯"&&(W.value=!0),i==="åœ£æ¯"?(b.value="<strong>åœ£æ¯</strong> (ä¸€å¹³ä¸€å‡¸) - ç¥æ˜åŒæ„æ­¤ç­¾ã€‚",setTimeout(()=>{b.value+="<p>æ­£åœ¨ä¸ºæ‚¨è§£è¯»ç­¾æ–‡...</p>",setTimeout(()=>{C("submit",{question:f.value,signNumber:D.value})},2e3)},1e3)):(U.value++,i==="ç¬‘æ¯"?b.value="<strong>ç¬‘æ¯</strong> (ä¸¤å¹³) - ç¥æ˜ç¬‘è€Œä¸è¯­ï¼Œå¯èƒ½é—®é¢˜ä¸æ˜æˆ–æ—¶æœºæœªåˆ°ã€‚":b.value="<strong>é˜´æ¯</strong> (ä¸¤å‡¸) - ç¥æ˜ä¸åŒæ„æ­¤ç­¾ã€‚",U.value>=3?(b.value+="<p>æ‚¨å·²è¿ç»­ä¸‰æ¬¡æœªèƒ½è·å¾—åœ£æ¯ï¼Œçœ‹æ¥ä»Šæ—¥ä¸å®œå†é—®æ­¤äº‹ï¼Œè¯·æ”¹æ—¥å†æ¥ã€‚</p>",w.value=!1):(b.value+="<p>è¯·é‡æ–°ä¸ºæ‚¨æ‘‡ç­¾...</p>",setTimeout(()=>{M.value=!1,V.value=[],b.value="",m(f.value)},2e3))),w.value=!1},1300)}function q(o){if(p.loading)return;$.value=o;const i=document.getElementById("userInput");i&&i.focus()}function F(o){if(p.loading){console.log("æ­£åœ¨åŠ è½½ä¸­ï¼Œå¿½ç•¥æäº¤");return}if(!o||!o.trim()){console.error("é—®é¢˜ä¸ºç©ºï¼Œæ— æ³•æäº¤");return}console.log("handleDirectSubmit è¢«è°ƒç”¨ï¼Œé—®é¢˜:",o),$.value=o,n.value=!0,console.log("å³å°†è§¦å‘submitäº‹ä»¶ï¼Œé—®é¢˜:",o),C("submit",{question:o})}function G(o){r.value=o,C("typeChange",`tarot_${o}`),$.value=""}return te(()=>{S.value&&C("typeChange",`tarot_${r.value}`)}),(o,i)=>(a(),u(O,null,[t("div",{class:j(["input-card",{loading:o.loading}])},[o.divinationType==="ssgw"?(a(),u("img",dt)):T("",!0),t("h2",vt,R(L.value),1),t("p",pt,R(P.value),1),S.value?(a(),u("div",ct,[ge(rt,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=x=>r.value=x),onChange:G},null,8,["modelValue"])])):T("",!0),t("div",gt,[re(t("input",{id:"userInput","onUpdate:modelValue":i[1]||(i[1]=x=>$.value=x),type:"text",placeholder:A.value,disabled:o.loading,class:"question-input",onKeyup:ve(N,["enter"])},null,40,ft),[[de,$.value]]),i[2]||(i[2]=t("div",{class:"input-focus-border"},null,-1))]),t("div",{class:j(["button-wrapper",{"ai-thinking":o.loading}])},[t("button",{id:"submitButton",disabled:o.loading||o.divinationType!=="ssgw"&&!$.value.trim(),class:"submit-button",onClick:N},[o.loading?(a(),u("span",$t,[_(R(o.loadingText)+" ",1),i[3]||(i[3]=t("span",{class:"loading-dots"},[t("span",{class:"dot"}),t("span",{class:"dot"}),t("span",{class:"dot"})],-1))])):(a(),u("span",kt,R(o.buttonText),1))],8,mt)],2),o.divinationType==="ssgw"&&(v.value||w.value||M.value)?(a(),u("div",yt,[v.value?(a(),u("div",Ct,[t("p",bt,R(e.value),1),t("div",wt,[t("div",Tt,[(a(),u(O,null,X(5,x=>t("div",{key:x,class:j(["sign-stick",{active:x<=s.value}])},null,2)),64))])])])):T("",!0),w.value||M.value?(a(),u("div",St,[t("div",qt,[t("p",null,[i[4]||(i[4]=_(" æ±‚å¾—ç¬¬ ")),t("strong",null,R(D.value),1),i[5]||(i[5]=_(" ç­¾ã€‚ "))]),i[6]||(i[6]=t("p",null,"è¯·æŠ•æ·åœ£æ¯ï¼Œè¯¢é—®ä¸‰å±±å›½ç‹æ˜¯å¦åŒæ„æ­¤ç­¾...",-1))]),b.value?(a(),u("div",Rt,[t("p",{innerHTML:b.value},null,8,It)])):T("",!0),V.value.length>0?(a(),u("div",Dt,[(a(!0),u(O,null,X(V.value,(x,Y)=>(a(),u("img",{key:Y,src:`/static/${x}.png`,alt:x,class:"bei-image"},null,8,Vt))),128))])):T("",!0),!W.value&&U.value<3?(a(),u("div",At,[t("button",{disabled:w.value,class:"toss-button",onClick:k},R(w.value?"æŠ•æ·ä¸­...":"æŠ•æ·åœ£æ¯"),9,xt)])):T("",!0)])):T("",!0)])):T("",!0)],2),y.value?(a(),ee(he,{key:0,"spread-type":S.value?r.value:null,onSelect:q,onSubmit:F},null,8,["spread-type"])):T("",!0)],64))}}),Mt=K(Bt,[["__scopeId","data-v-a4205aea"]]);function Ut(H){if(!H)return"";const I=Ce.parse(H);return(new DOMParser().parseFromString(I,"text/html").body.textContent||"").replace(/"/g,'"').replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/'/g,"'").replace(/\n{3,}/g,`

`).trim()}function Lt(H){const I=ne(),p=pe(),C=B(()=>H.divinationType),c=d(""),$=d(!1),g=d(null),r=d(""),n=d(null),v=d(!1),e=d(!1),s=d(!1),w=d(null),M=d(!1),D=d([]),V=d(""),b=d(!1),U=B(()=>g.value!==null),W=B(()=>r.value!=="");function f(){w.value&&(w.value.abort(),M.value=!0,v.value=!1)}async function A(m={}){if(e.value)return;const{signNumber:k,spreadType:q}=m;if(!($.value||!c.value.trim())){$.value=!0,v.value=!0,n.value=null,g.value=null,r.value="",M.value=!1,w.value=new AbortController,D.value=[];try{const F={role:"system",content:"ä½ æ˜¯ç²¾é€šå‘¨æ˜“ã€æ¢…èŠ±æ˜“æ•°ã€å¥‡é—¨éç”²ã€å¡”ç½—ç‰Œç­‰æœ¯æ•°çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®å åœç»“æœï¼Œä¸ºç”¨æˆ·æä¾›è§£è¯»ã€‚"},G={id:`msg-${Date.now()}`,role:"user",content:c.value},o={id:`msg-${Date.now()+1}`,role:"assistant",content:d("")};D.value=[F,G,o],g.value={id:"",type:C.value,data:{},aiResponse:""},$.value=!1,ae({type:C.value,question:c.value.trim(),signNumber:k,spreadType:q,signal:w.value.signal},i=>{r.value+=i,typeof o.content=="object"&&"value"in o.content&&(o.content.value+=i)},i=>{n.value=i,typeof o.content=="object"&&"value"in o.content&&(o.content.value=i)},i=>{v.value=!1,g.value&&(g.value.id=i.id,g.value.data=i.data,g.value.aiResponse=r.value)}).then(i=>{g.value&&(g.value.id=i.id,g.value.data=i.data)}).catch(i=>{console.error("å åœæ•°æ®ç”Ÿæˆå¤±è´¥:",i),n.value=i instanceof Error?i.message:"å åœå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",$.value=!1,v.value=!1})}catch(F){console.error("å åœå¤±è´¥:",F),n.value=F instanceof Error?F.message:"å åœå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",$.value=!1}}}function y(){g.value=null,r.value="",n.value=null,c.value="",e.value=!1,D.value=[],V.value=""}function S(m){e.value=!0;const k=ke.getRecord(m);k?(console.log("åŠ è½½å†å²è®°å½•:",k),c.value=k.question,g.value=k.result,r.value=k.result.aiResponse||"",D.value=[{id:`hist-sys-${k.id}`,role:"system",content:"ä½ æ˜¯ç²¾é€šå‘¨æ˜“ã€æ¢…èŠ±æ˜“æ•°ã€å¥‡é—¨éç”²ã€å¡”ç½—ç‰Œç­‰æœ¯æ•°çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®å åœç»“æœï¼Œä¸ºç”¨æˆ·æä¾›è§£è¯»ã€‚"},{id:`hist-user-${k.id}`,role:"user",content:k.question},{id:`hist-asst-${k.id}`,role:"assistant",content:k.result.aiResponse||""}]):(console.error("æœªæ‰¾åˆ°å†å²è®°å½•:",m),p.push(`/divination/${C.value}`))}async function L(){if(!g.value||v.value)return;v.value=!0,n.value=null,r.value="",M.value=!1,w.value=new AbortController;const m={id:`msg-${Date.now()}`,role:"assistant",content:d("")};D.value.push(m);try{const k=await ae({type:C.value,question:c.value,signal:w.value.signal},q=>{r.value+=q,typeof m.content=="object"&&"value"in m.content&&(m.content.value+=q)},q=>{n.value=q,typeof m.content=="object"&&"value"in m.content&&(m.content.value=q)},()=>{v.value=!1,g.value&&(g.value.aiResponse=r.value)});k.aiResponse&&typeof m.content=="object"&&"value"in m.content&&(m.content.value=k.aiResponse),g.value&&(g.value.aiResponse=k.aiResponse||"")}catch(k){console.error("é‡æ–°ç”ŸæˆAIè§£è¯»å¤±è´¥:",k),n.value="é‡æ–°ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"}}function P(){const m=I.query.historyId;m&&S(m)}function E(){if(I.query.historyId){const m={...I.query};delete m.historyId,p.replace({path:I.path,query:m})}}function J(){if(!r.value)return;const m=Ut(r.value);navigator.clipboard.writeText(m).then(()=>{s.value=!0,setTimeout(()=>{s.value=!1},2e3)})}function N(){if(!V.value.trim()||b.value)return;const m={id:`msg-${Date.now()}`,role:"user",content:V.value.trim()};D.value.push(m);const k={id:`msg-${Date.now()+1}`,role:"assistant",content:d("")};D.value.push(k),V.value="",b.value=!0,me(D.value,q=>{r.value+=q,typeof k.content=="object"&&"value"in k.content&&(k.content.value+=q)},q=>{b.value=!1,g.value&&(g.value.aiResponse=q)},q=>{b.value=!1,typeof k.content=="object"&&"value"in k.content&&(k.content.value=q)})}return{question:c,isLoading:$,result:g,aiResponse:r,error:n,isAiLoading:v,viewingHistory:e,isCopied:s,isCancelled:M,conversationHistory:D,followUpQuestion:V,isFollowUpLoading:b,hasResult:U,hasAiResponse:W,startDivination:A,clearResult:y,loadResultFromHistory:S,regenerateAI:L,handleHistoryParam:P,clearHistoryParam:E,shareResult:J,cancelGeneration:f,handleSendFollowUp:N}}const Pt={class:"page-container"},Et={key:1,class:"result-header-actions"},Ft={key:3,class:"ai-actions"},Ht={key:4,class:"content-card error-card"},jt={class:"content-text"},Qt={key:5,class:"content-card follow-up-card"},Wt={class:"follow-up-input"},Nt=["disabled"],Gt=["disabled"],ht={key:0},zt={key:1},Ot=Z({__name:"UnifiedDivinationView",props:{divinationType:{}},setup(H){const I=H,p=ne(),C=B(()=>$e(I.divinationType)),{question:c,isLoading:$,result:g,aiResponse:r,error:n,isAiLoading:v,hasResult:e,hasAiResponse:s,viewingHistory:w,isCopied:M,isCancelled:D,startDivination:V,clearResult:b,shareResult:U,regenerateAI:W,handleHistoryParam:f,clearHistoryParam:A,cancelGeneration:y,conversationHistory:S,followUpQuestion:L,isFollowUpLoading:P,handleSendFollowUp:E}=Lt(I),J=B(()=>g.value?{data:g.value.data,aiResponse:r.value}:{data:{},aiResponse:""}),N=d("single");function m(o){if(console.log("ç±»å‹å˜åŒ–:",o),o.startsWith("tarot_")){const i=o.replace("tarot_","");N.value=i,console.log("ç‰Œé˜µç±»å‹æ›´æ–°ä¸º:",i)}}function k(o){const i=o.question||c.value;console.log("UnifiedDivinationView handleSubmit:",i),o.question&&(c.value=o.question);const x={};I.divinationType==="tarot"?x.spreadType=N.value:I.divinationType==="ssgw"&&(x.signNumber=o.signNumber),V(x)}function q(){b(),A()}function F(){n.value=null}function G(){W()}return z(()=>I.divinationType,(o,i)=>{!w.value&&i&&o!==i&&(console.log("å åœç±»å‹å˜åŒ–:",i,"->",o),console.log("æ–°é…ç½®:",C.value),b(),A())}),z(C,o=>{console.log("é…ç½®æ›´æ–°:",o)}),z(()=>p.query.historyId,(o,i)=>{console.log("è·¯ç”±æŸ¥è¯¢å‚æ•°å˜åŒ–:",{oldId:i,newId:o}),o&&typeof o=="string"?(console.log("æ£€æµ‹åˆ°å†å²è®°å½•å‚æ•°:",o),f()):i&&!o&&(console.log("ä»å†å²è®°å½•æ¨¡å¼åˆ‡æ¢åˆ°æ–°å»ºæ¨¡å¼"),b())},{immediate:!0}),te(()=>{console.log("UnifiedDivinationView mounted, type:",I.divinationType),f()}),(o,i)=>{var x,Y,se,oe,ie;return a(),u("div",Pt,[!l(e)&&!l($)?(a(),ee(Mt,{key:0,modelValue:l(c),"onUpdate:modelValue":i[0]||(i[0]=Q=>ue(c)?c.value=Q:null),title:((x=C.value)==null?void 0:x.title)||"",description:((Y=C.value)==null?void 0:Y.description)||"","button-text":((se=C.value)==null?void 0:se.buttonText)||"å¼€å§‹å åœ",loading:l($),placeholder:((oe=C.value)==null?void 0:oe.placeholder)||"",examples:((ie=C.value)==null?void 0:ie.examples)||[],"divination-type":o.divinationType,"hide-after-submit":!1,onSubmit:k,onTypeChange:m,onClear:l(b)},null,8,["modelValue","title","description","button-text","loading","placeholder","examples","divination-type","onClear"])):T("",!0),l(e)&&!l(p).query.historyId?(a(),u("div",Et,[t("button",{class:"btn-secondary",onClick:q},"â† è¿”å›"),l(s)&&!l(v)?(a(),u("button",{key:0,class:"btn-secondary",onClick:i[1]||(i[1]=(...Q)=>l(U)&&l(U)(...Q))},R(l(M)?"å·²å¤åˆ¶!":"åˆ†äº«"),1)):T("",!0)])):T("",!0),l(e)?(a(),ee(be,{key:2,type:o.divinationType,result:J.value,"is-ai-loading":l(v)||l(P),error:l(n),question:l(c),"conversation-history":l(S),"is-follow-up-loading":l(P),onRetry:G},null,8,["type","result","is-ai-loading","error","question","conversation-history","is-follow-up-loading"])):T("",!0),l(e)?(a(),u("div",Ft,[l(v)?(a(),u("button",{key:0,class:"btn-secondary",onClick:i[2]||(i[2]=(...Q)=>l(y)&&l(y)(...Q))},"å–æ¶ˆç”Ÿæˆ")):T("",!0),!l(v)&&(l(n)||l(D))?(a(),u("button",{key:1,class:"btn-primary",onClick:G}," é‡æ–°ç”Ÿæˆ ")):T("",!0)])):T("",!0),l(n)&&!l(e)?(a(),u("div",Ht,[t("p",jt,R(l(n)),1),t("div",{class:"form-actions"},[t("button",{class:"btn-primary",onClick:F},"é‡è¯•")])])):T("",!0),l(s)&&!l(v)?(a(),u("div",Qt,[t("div",Wt,[re(t("textarea",{"onUpdate:modelValue":i[3]||(i[3]=Q=>ue(L)?L.value=Q:null),placeholder:"å¯¹AIçš„è§£è¯»è¿›è¡Œè¿½é—®...",disabled:l(P),onKeydown:i[4]||(i[4]=ve(ye((...Q)=>l(E)&&l(E)(...Q),["prevent"]),["enter"]))},null,40,Nt),[[de,l(L)]]),t("button",{onClick:i[5]||(i[5]=(...Q)=>l(E)&&l(E)(...Q)),disabled:l(P)},[l(P)?(a(),u("span",zt,"å‘é€ä¸­...")):(a(),u("span",ht,"å‘é€"))],8,Gt)])])):T("",!0)])}}}),Yt=K(Ot,[["__scopeId","data-v-ff258a76"]]);export{Yt as default};
