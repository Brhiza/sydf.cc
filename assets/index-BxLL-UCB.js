const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UnifiedDivinationView-BaIOJ3A6.js","assets/vendor-CRSRHeae.js","assets/DivinationResult-dlujZDQ6.js","assets/markdown-CaxBdgEJ.js","assets/DivinationResult-BirmLmhf.css","assets/utils-CwRxlNlL.js","assets/UnifiedDivinationView-CcjQF_Jd.css","assets/HistoryView-DlGd9NH5.js","assets/HistoryView-DO_4nsLx.css","assets/ApiKeyView-CGXkOgMp.js","assets/ApiKeyView-BoDmKZU8.css","assets/HomeView-VMg7Vgsq.js","assets/HomeView-CH82Tujq.css","assets/RengongView-BmUYOxOg.js","assets/weixin-De6NQgJA.js","assets/RengongView-DkEGkdRp.css","assets/AboutView-D-PBDRk8.js","assets/AboutView-B6bn8gw2.css","assets/GongdeBoxView-DnpAfM0D.js","assets/GongdeBoxView-bEzMQD30.css","assets/GongdeBoardView-B3pr3QOu.js","assets/GongdeBoardView-C6x0HsHc.css","assets/NotFoundView-Dcq2ULdn.js","assets/NotFoundView-Cy0r3syM.css"])))=>i.map(i=>d[i]);
import{r as e,o as t,a as n,d as i,c as a,b as o,n as s,t as r,e as l,f as c,g as u,h as m,w as d,i as p,j as y,v as g,k as h,F as b,l as f,u as w,m as v,p as $,q as S,s as x,x as R,y as E,z as C,A as I,B as A,C as T,D as _}from"./vendor-CRSRHeae.js";import{S as D,v as N}from"./utils-CwRxlNlL.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const k=new class{getItem(e){try{const t=localStorage.getItem(e);return null===t?null:JSON.parse(t)}catch(t){return null}}setItem(e,t){try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(n){}}removeItem(e){try{localStorage.removeItem(e)}catch(t){}}clear(){try{localStorage.clear()}catch(e){}}};function O(){const i=e("auto"),a=e({text:"自动主题",icon:"🌓"});function o(){return"auto"===i.value?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":i.value}function s(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),function(e){const t=document.querySelector('meta[name="theme-color"]');if(t){const n="dark"===e?"#191a1b":"#ffffff";t.setAttribute("content",n)}const n=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');n&&("dark"===e?n.setAttribute("content","black-translucent"):n.setAttribute("content","default"))}(e),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(t=>{t.active?.postMessage({type:"THEME_CHANGE",theme:e})})}function r(e){i.value=e;s(o()),l(),k.setItem("theme",e)}function l(){const e={auto:{text:"自动主题",icon:"🌓"},light:{text:"浅色主题",icon:"☀️"},dark:{text:"深色主题",icon:"🌙"}}[i.value];a.value={text:e.text,icon:e.icon}}return t(()=>{const e=k.getItem("theme");e&&["light","dark","auto"].includes(e)?i.value=e:i.value="auto";s(o()),l();const t=window.matchMedia("(prefers-color-scheme: dark)"),a=e=>{if("auto"===i.value){s(e.matches?"dark":"light")}};t.addEventListener("change",a),n(()=>{t.removeEventListener("change",a)})}),{currentTheme:i,themeConfig:a,toggleTheme:function(){const e=["auto","light","dark"],t=e.indexOf(i.value);r(e[(t+1)%e.length])},setTheme:r,getAvailableThemes:function(){return[{type:"auto",text:"自动主题",icon:"🔄"},{type:"light",text:"浅色主题",icon:"☀️"},{type:"dark",text:"深色主题",icon:"🌙"}]}}}const q="emotion",P="career",j="wealth",M="relation",L="growth",H={liuyao:{type:"liuyao",title:"六爻占卜",icon:"☰",description:"六爻是中国传统的占卜方式，通过卦象阴阳变化来预测事物的发展趋势",placeholder:"请输入您想要占卜的问题",maxLength:200,buttonText:"询问赛博大师",examples:[{text:"我近期的事业发展如何？",category:P},{text:"我和TA的感情会有结果吗？",category:q},{text:"这个投资项目适合我吗？",category:j},{text:"我应该换工作吗？",category:P},{text:"我和朋友之间的矛盾该如何解决？",category:M},{text:"我的健康状况如何？",category:L}]},meihua:{type:"meihua",title:"梅花易数",icon:"🌸",description:"梅花易数是中国传统的占卜方式，通过数字和卦象来预测吉凶祸福",placeholder:"请输入您想要占卜的问题",maxLength:200,buttonText:"询问赛博大师",examples:[{text:"我近期的财运如何？",category:j},{text:"我和TA的缘分如何？",category:q},{text:"我应该接受这个工作机会吗？",category:P},{text:"我的学业发展会顺利吗？",category:L},{text:"如何改善我的人际关系？",category:M},{text:"这次出行会顺利吗？",category:L}]},qimen:{type:"qimen",title:"奇门遁甲",icon:"⚡",description:'奇门遁甲是中国古代的术数，被誉为"三式之首"，可预测事物的发展趋势',placeholder:"请输入您想要占卜的问题",maxLength:200,buttonText:"询问赛博大师",examples:[{text:"我应该在什么时机投资？",category:j},{text:"我和TA的关系会如何发展？",category:q},{text:"我的事业会有突破吗？",category:P},{text:"我该如何处理当前的困境？",category:L},{text:"我和家人的关系如何改善？",category:M},{text:"我该如何提升自己？",category:L}]},ssgw:{type:"ssgw",title:"三山国王灵签",icon:"🏛️",description:"为迷茫者指点迷津，解答人生困惑。三山是指揭西县河婆镇北面的三座山—巾山、明山、独山，随着当地移民向外扩展，成为香港、台湾及东南亚的汉人民间主要信仰",placeholder:"请输入问题，或在心中默念",maxLength:200,buttonText:"开始求签",examples:[]},tarot:{type:"tarot",title:"塔罗占卜",icon:"🔮",description:"在处理复杂问题或需要考虑多方面因素时，三牌布局可以提供更丰富的细节和更全面的视角，过去现在和未来",placeholder:"请输入您的问题",maxLength:200,buttonText:"询问塔罗大师",examples:[{text:"我的爱情运势如何？",category:q},{text:"我应该如何处理这段关系？",category:q},{text:"我的内心真正想要什么？",category:L},{text:"未来三个月的运势如何？",category:L},{text:"我的事业会有什么变化？",category:P},{text:"如何改善我的财务状况？",category:j},{text:"我和家人的关系会如何发展？",category:M},{text:"我该如何处理当前的人际关系？",category:M}]},tarot_single:{type:"tarot_single",title:"塔罗牌·单牌",icon:"🔮",description:"在需要快速得到答案或建议时非常实用，例如紧急决策和日运，想知道大致的方向，抽取单牌能迅速给出一个直观的指引",placeholder:"请输入您的问题",maxLength:200,buttonText:"询问塔罗大师",examples:[{text:"今天的运势如何？",category:L},{text:"这个决定是否正确？",category:L},{text:"我应该相信直觉吗？",category:L},{text:"现在适合行动吗？",category:P},{text:"我们的感情会有进展吗？",category:q},{text:"这笔投资值得吗？",category:j},{text:"如何处理当前的人际冲突？",category:M}]}},z=Object.values(H).filter(e=>!e.type.includes("_"));function Y(e){return H[e]||null}const G=new class{events=new Map;on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){const n=this.events.get(e);if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){const n=this.events.get(e);n&&n.forEach(e=>e(...t))}clear(){this.events.clear()}},V={HISTORY_UPDATED:"history:updated",HISTORY_SELECTION_RESET:"history:selection-reset"},B={class:"nav-item"},F={class:"nav-icon"},W={class:"nav-text"},U=(e,t)=>{const n=e.__vccOpts||e;for(const[i,a]of t)n[i]=a;return n},Q=U(i({__name:"NavItem",props:{path:{},title:{},icon:{},isActive:{type:Boolean}},emits:["navigate"],setup(e,{emit:t}){const n=e,i=t,c=()=>{i("navigate",n.path)};return(t,n)=>(l(),a("li",B,[o("div",{class:s([{"nav-link-active":e.isActive},"nav-link-content"]),onClick:c},[o("span",F,r(e.icon),1),o("span",W,r(e.title),1)],2)]))}}),[["__scopeId","data-v-d16d82e3"]]),K="sydf/v1-250520,qwen/qwen3-max,ovo/deepseek-v3.1,ovo/glm-4.5,ovo/kimi-k2-0905,ovo/gemini-2.5-pro,ovo/gpt-oss-120,ovo/llama-v4-maverick".split(",").map(e=>e.trim()).filter(Boolean),Z={customApiKey:"",customApiEndpoint:"",useCustomApi:!1,selectedModel:K[0]||"",availableModels:K},J="sydf-settings",X=c("settings",()=>{const t=e({...Z}),n=e(null),i=e(!1);function a(){try{const e=k.getItem(J);t.value=e?{...Z,...e}:{...Z}}catch(e){t.value={...Z}}}function o(e){try{const n={customApiKey:e.customApiKey??t.value.customApiKey,customApiEndpoint:e.customApiEndpoint??t.value.customApiEndpoint,useCustomApi:e.useCustomApi??t.value.useCustomApi,selectedModel:e.selectedModel??t.value.selectedModel,availableModels:e.availableModels??t.value.availableModels};!1===e.useCustomApi&&(n.availableModels=K,n.selectedModel=K[0]||""),k.setItem(J,n),t.value=n}catch(i){n.value=i instanceof Error?i.message:"更新设置失败"}}return a(),{settings:t,error:n,isLoadingModels:i,loadSettings:a,updateSettings:o,resetSettings:function(){t.value={...Z},k.removeItem(J)},fetchAvailableModels:async function(e,a){if(!e||!a)return Z.availableModels;i.value=!0,n.value=null;try{const n=`${e.replace(/\/v1(\/chat\/completions)?\/?$/,"")}/v1/models`,i=await fetch(n,{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!i.ok){const e=await i.json().catch(()=>null),t=e?.error?.message||`HTTP error! status: ${i.status}`;throw new Error(`获取模型列表失败: ${t}`)}const s=await i.json();if(!s.data||!Array.isArray(s.data))throw new Error("API响应格式不符合预期");const r=["embedding","reranker","BAAI","bge"],l=s.data.map(e=>e.id).filter(e=>!r.some(t=>e.toLowerCase().includes(t.toLowerCase()))).sort((e,t)=>{const n=e=>e.split(/[-/]/)[0],i=n(e),a=n(t);return i!==a?i.localeCompare(a):e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})});return l.length>0&&o({availableModels:l}),l.length>0?l:t.value.availableModels}catch(s){return n.value=s instanceof Error?s.message:"获取模型列表失败",t.value.availableModels}finally{i.value=!1}}}});class ee{static instance;constructor(){}static getInstance(){return ee.instance||(ee.instance=new ee),ee.instance}async generateResponse(e,t,n,i){const{settings:a}=X(),{useCustomApi:o,customApiKey:s,customApiEndpoint:r,selectedModel:l}=a,c=o&&s&&r,u=c?r:"https://oai.ovo.gs/v1",m=this.buildFullEndpoint(u),d=c?s:"sk-sydf",p=i||l;Array.isArray(e)||(e=[{role:"user",content:String(e)}]);const y={model:p,messages:e.map(e=>({...e,content:e.content})),max_tokens:8192,stream:!!n};let g=null;for(let b=1;b<=5;b++)try{const e=new AbortController,i=setTimeout(()=>e.abort(),5e4),a=t?this.linkSignals(t,e.signal):e.signal,o={"Content-Type":"application/json"};d&&(o.Authorization=`Bearer ${d}`);const s=await fetch(m,{method:"POST",headers:o,body:JSON.stringify(y),signal:a});if(clearTimeout(i),!s.ok)throw await this.handleErrorResponse(s);let r;if(n&&s.body)r=await this.handleStreamResponse(s,n);else{const e=await s.json();r={content:e.choices?.[0]?.message?.content||e.content||"抱歉，AI服务暂时不可用。",usage:e.usage}}return r}catch(h){if(g=h,h instanceof DOMException&&"AbortError"===h.name){if(!t?.aborted)throw new Error("AI 请求超时，请检查网络连接或API端点设置。");throw h}if(b<5){const e=Math.min(1e3*Math.pow(2,b-1),5e3);await new Promise(t=>setTimeout(t,e))}}if(!c)return{content:"抱歉，AI服务暂时不可用，请稍后重试。"};throw g}buildFullEndpoint(e){const t=e.replace(/\/+$/,"");return t.includes("/chat/completions")?t:`${t}/chat/completions`}async handleErrorResponse(e){let t="";try{const n=await e.json();t=n.error?.message||n.message||e.statusText}catch{t=e.statusText}const n=this.getErrorMessage(e.status);return new Error(`${n} (错误代码: ${e.status} - ${t})`)}getErrorMessage(e){return{400:"请求参数错误",401:"API密钥无效或已过期",403:"访问被拒绝，请检查API权限",404:"API端点不存在，请检查地址是否正确",429:"请求过于频繁，请稍等片刻再试",500:"服务器内部错误",502:"网关错误，服务暂时不可用",503:"服务暂时不可用",504:"请求超时，请稍后重试"}[e]||(e>=500?"服务器错误":"请求失败")}async handleStreamResponse(e,t){if(!e.body)throw new Error("Response body is null");const n=e.body.getReader(),i=new TextDecoder;let a="",o="",s=!1;try{for(;;){const{done:e,value:l}=await n.read();if(e)break;o+=i.decode(l,{stream:!0});const c=o.split("\n");o=c.pop()||"";for(const n of c){if(""===n.trim()||!n.startsWith("data: "))continue;const e=n.slice(6).trim();if("[DONE]"===e)break;if(""!==e)try{const n=JSON.parse(e),i=n.choices?.[0]?.delta;if(!i)continue;const o="reasoning_content"in i,r=i.reasoning_content||i.content;if(!r)continue;o&&!s&&(s=!0,t("<think>")),!o&&s&&(s=!1,t("</think>")),t(r),o||(a+=r)}catch(r){}}}}finally{n.releaseLock()}return s&&t("</think>"),{content:a}}linkSignals(...e){const t=new AbortController;for(const n of e)if(n){if(n.aborted)return t.abort(n.reason),t.signal;n.addEventListener("abort",()=>t.abort(n.reason),{signal:t.signal})}return t.signal}}const te=ee.getInstance();function ne(e){return{isQuestion:/能不能|可不可以|是不是|能否|可以吗|对吗|好吗|行吗|会不会|有没有|值得吗|该不该|要不要/.test(e),isChoice:/还是|或者|选哪个|选择哪个|哪一个更好|比较一下|哪个好/.test(e),isTime:/什么时候|何时|几时|多久|什么时候能|何时能|几时能|多久能|时间|期限|日程|安排|时机/.test(e),isAction:/怎么做|如何|怎么办|怎么处理|怎么解决|方法|步骤|流程|策略|方案/.test(e),isFeasibility:/可行|合适|适合|有利|成功|能成|能实现|能达成|可能性|概率|机会|希望/.test(e),isRelationship:/感情|爱情|关系|恋爱|结婚|分手|复合|喜欢|爱|暗恋|表白|约会|夫妻|情侣|恋人|伴侣/.test(e),isCareer:/工作|事业|职业| job|职位|就业|失业|跳槽|升职|加薪|老板|同事|公司|创业|生意|业务/.test(e),isFinance:/钱|钱|财富|财运|收入|支出|投资|理财|赚钱|赔钱|债务|贷款|财务|经济|买卖|交易/.test(e),isHealth:/健康|身体|疾病|病情|治疗|康复|医院|医生|药|体检|症状|疼痛|不舒服|养生|保健/.test(e),isStudy:/学习|考试|成绩|学校|老师|同学|升学|毕业|论文|作业|课程|专业|技能|知识|教育/.test(e),isReason:/为什么|为何|什么原因|怎么回事|什么情况|为什么能|为什么不能/.test(e),isPrediction:/会怎么样|将来|未来|前景|趋势|发展|结果|后果|命运|运势|预示|预兆/.test(e),isAdvice:/建议|意见|看法|想法|推荐|指导|指点|提醒|告诉|告知/.test(e),isComparison:/对比|比较|区别|差异|优劣|好坏|强弱|哪个更好|哪个更适合/.test(e),isQuantity:/多少|几个|几岁|多长|多高|多重|多深|多宽|程度|比例|百分比/.test(e),isLocation:/哪里|哪儿|什么地方|哪个地方|位置|地点|地址|方向/.test(e),isPerson:/谁|什么人|什么样的人|哪个|哪位|人物|人|他|她|他们|她们/.test(e)}}function ie(e){const t=[];let n=0;e.length>50&&(t.push("问题描述详细"),n+=1);const i=ne(e);Object.values(i).filter(Boolean).length>2&&(t.push("多维度问题"),n+=2);/策略|规划|长期|影响|后果|风险|机会|挑战|平衡|协调|整合|优化|提升|改善|解决|处理|应对|预防|避免|促进|推动|实现|达成|获得|取得|达到|满足|符合|适应|调整|改变|转变|发展|进步|成长|突破|创新|改革|转型|升级|迭代|完善|健全|建立|构建|打造|创建|设计|制定|规划|安排|组织|协调|管理|控制|监督|指导|引导|支持|帮助|协助|配合|合作|联合|整合|融合|结合|混合|综合|全面|系统|整体|部分|细节|具体|抽象|理论|实践|经验|知识|技能|能力|素质|素养|品质|特性|特征|特点|优势|劣势|机会|威胁|Strength|Weakness|Opportunity|Threat/i.test(e)&&(t.push("涉及复杂概念"),n+=2);let a;a=n<=1?"simple":n<=3?"medium":"complex";return{complexity:a,factors:t,requiredDepth:"simple"===a?3:"medium"===a?5:7,timeUrgency:/紧急|马上|立刻|尽快|现在|今天|明天|本周|本月|急需|急切|迫在眉睫|火烧眉毛|十万火急|刻不容缓|当务之急|首当其冲|迫不及待|心急如焚|焦虑不安|忧心忡忡|寝食难安|坐立不安|辗转反侧|夜不能寐|日思夜想|朝思暮想|牵肠挂肚|魂牵梦绕|念念不忘|耿耿于怀|难以释怀|放不下心|操碎了心|费尽心机|绞尽脑汁|煞费苦心|苦心经营|精心策划|周密安排|详细计划|认真考虑|仔细思考|深入分析|全面评估|综合判断|权衡利弊|斟酌再三|三思而后行|深思熟虑|反复推敲|仔细琢磨|认真研究|深入探讨|广泛征求意见|集思广益|群策群力|同心协力|齐心协力|共同努力|共同奋斗|携手并进|并肩作战|同舟共济|风雨同舟|患难与共|生死与共|荣辱与共|休戚相关|息息相关|密不可分|缺一不可|相辅相成|相得益彰|相映成趣|相映生辉|相映成章|相映成趣|相映生辉|相映成章/i.test(e)?"high":/什么时候|何时|几时|多久/.test(e)?"medium":"low",importance:/重要|关键|核心|主要|首要|根本|基本|基础|本质|实质|关键|核心|要害|重点|焦点|中心|重心|重心|核心|关键|要害|重点|焦点|中心|重心|重心|核心|关键|要害|重点|焦点|中心|重心|重心|重要|重大|严重|厉害|强烈|激烈|剧烈|猛烈|强烈|重要|重大|严重|厉害|强烈|激烈|剧烈|猛烈|强烈/i.test(e)?"high":/决定|影响|关系|涉及|关于|相关|有关|联系|关联|连接|衔接|过渡|转换|变化|改变|转变|发展|进步|成长|提升|改善|优化|完善|健全|建立|构建|打造|创建|设计|制定|规划|安排|组织|协调|管理|控制|监督|指导|引导|支持|帮助|协助|配合|合作|联合|整合|融合|结合|混合|综合|全面|系统|整体|部分|细节|具体|抽象|理论|实践|经验|知识|技能|能力|素质|素养|品质|特性|特征|特点|优势|劣势|机会|威胁/i.test(e)?"medium":"low"}}function ae(e){let t="neutral",n=0;/担心|焦虑|害怕|恐惧|紧张|不安|忧虑|忧愁|烦恼|困扰|痛苦|难受|煎熬|折磨|压力|负担|重担|累|疲惫|筋疲力尽|心力交瘁|身心俱疲|疲惫不堪|精疲力竭|力不从心|无能为力|无可奈何|束手无策|走投无路|山穷水尽|穷途末路|日暮途穷|穷途末路|走投无路|山穷水尽|日暮途穷|穷途末路|走投无路|山穷水尽|日暮途穷|穷途末路/i.test(e)?(t="anxious",n=.8):/希望|期待|盼望|渴望|向往|憧憬|梦想|理想|目标|愿望|心愿|期盼|等待|守候|盼望|期望|指望|企盼|企望|希冀|希求|希图|企图|想要|愿意|乐意|喜欢|热爱|钟爱|深爱|挚爱|热爱|喜爱|爱好|嗜好|癖好|兴趣|乐趣|娱乐|消遣|休闲|放松|休息|休假|度假|旅游|旅行|出游|出门|外出|离开|走开|避开|逃避|躲开|藏起来|隐藏|隐匿|潜伏|埋伏|等候|等待|守候|期待|盼望|期望|指望|企盼|企望|希冀|希求|希图|企图|想要|愿意|乐意|喜欢|热爱|钟爱|深爱|挚爱|热爱|喜爱|爱好|嗜好|癖好|兴趣|乐趣|娱乐|消遣|休闲|放松|休息|休假|度假|旅游|旅行|出游|出门|外出|离开|走开|避开|逃避|躲开|藏起来|隐藏|隐匿|潜伏|埋伏/i.test(e)?(t="hopeful",n=.7):/困惑|迷茫|糊涂|不明白|不理解|不清楚|不知道|不晓得|不了解|不熟悉|不认识/i.test(e)?(t="confused",n=.6):/决心|决定|坚定|坚持|努力|奋斗|拼搏|争取|追求|目标|计划|行动|执行|实施|落实|完成|实现|达成|成功|胜利|克服|战胜|解决|处理|应对|面对|接受|承担|负责|担当|勇敢|坚强|坚定|坚决|果断|迅速|及时|主动|积极|乐观|自信|信任|相信|肯定|确定|明确|清晰|具体|详细|周密|完善|健全|建立|构建|打造|创建|设计|制定|规划|安排|组织|协调|管理|控制|监督|指导|引导|支持|帮助|协助|配合|合作|联合|整合|融合|结合|混合|综合|全面|系统|整体|部分|细节|具体|抽象|理论|实践|经验|知识|技能|能力|素质|素养|品质|特性|特征|特点|优势|劣势|机会|威胁/i.test(e)&&(t="determined",n=.9);let i="";switch(t){case"anxious":i="需要安抚和鼓励，提供安全感和确定性";break;case"hopeful":i="需要肯定和指引，帮助实现目标";break;case"confused":i="需要清晰的解释和方向指引";break;case"determined":i="需要具体的行动建议和策略支持";break;default:i="需要客观分析和实用建议"}return{emotion:t,intensity:n,supportNeeded:i}}function oe(e,t){let n="intermediate",i=.5,a=.5;return/简单|基础|入门|新手|第一次|刚开始|不懂|不会|不知道|请教|学习|了解|解释|说明|什么是|怎么用|如何做/i.test(e)?(n="beginner",i=.2,a=.3):/深度|专业|详细|分析|解读|原理|机制|系统|全面|综合|多维度|深层次|内在|本质|规律|趋势|预测|预判|策略|规划|优化|提升|改善|解决|处理|应对|预防|避免|促进|推动|实现|达成|获得|取得|达到|满足|符合|适应|调整|改变|转变|发展|进步|成长|突破|创新|改革|转型|升级|迭代|完善|健全|建立|构建|打造|创建|设计|制定|规划|安排|组织|协调|管理|控制|监督|指导|引导|支持|帮助|协助|配合|合作|联合|整合|融合|结合|混合|综合|全面|系统|整体|部分|细节|具体|抽象|理论|实践|经验|知识|技能|能力|素质|素养|品质|特性|特征|特点|优势|劣势|机会|威胁/i.test(e)&&(n="advanced",i=.8,a=.9),{level:n,familiarity:i,terminologyTolerance:a}}function se(e,t,n,i,a,o="",s=""){if(t.isQuestion){return`- **问题回答**：\n\n**核心答案**：针对"${e}"，请直接给出最核心、最精准的答案（是/否、能/不能、可以/不可以），${"anxious"===i.emotion?"请用温和安抚的语气回答，给予用户安全感和信心":"hopeful"===i.emotion?"请用积极鼓励的语气回答，支持用户的期望":"confused"===i.emotion?"请用清晰易懂的语气回答，帮助用户理清思路":"请用坚定有力的语气回答，支持用户的决心"}。${o}\n\n**简要依据**：用1-2句话说明判断依据。`}return`- **问题回答**：\n\n**核心答案**：针对"${e}"，请直接给出最核心的答案，${s}。\n\n**简要依据**：用1-2句话说明判断依据。\n\n**分析深度**：${"simple"===n.complexity?"简洁分析":"medium"===n.complexity?"适度分析":"深入分析"}，适合${"beginner"===a.level?"基础":"intermediate"===a.level?"中级":"高级"}用户。`}function re(e,t,n,i,a,o,s){const r="anxious"===n.emotion?"建议中包含安抚和稳定情绪的内容":"hopeful"===n.emotion?"建议中包含鼓励和支持的内容":"confused"===n.emotion?"建议中包含清晰的方向指引":"建议中包含具体的行动计划",l="simple"===t.complexity?"提供简单直接的步骤":"medium"===t.complexity?"提供详细的策略和步骤":"提供全面系统的解决方案",c="beginner"===i.level?"使用通俗易懂的语言，避免专业术语":"intermediate"===i.level?"适当使用专业术语并提供解释":"可以使用专业术语，提供深度分析";return e.isQuestion?`- **如果答案为肯定**：${a}\n- **如果答案为否定**：${o}\n- **最佳策略**：${s}\n\n**个性化指导**：\n- ${r}\n- ${l}\n- ${c}`:`- **最佳策略**：${s}\n\n**个性化指导**：\n- ${r}\n- ${l}\n- ${c}`}function le(e,t,n,i,a,o,s,r,l,c,u,m){const d=`${o}\n\n请从时间、空间、人物、能量、因果等多个维度进行全面分析。`,p=`${s}\n\n请根据用户的具体情况，提供个性化的行动建议。`,y=i?`基于问题分析：${i}`:"",g="simple"===l.complexity?"简洁分析":"medium"===l.complexity?"适度分析":"深入分析",h="anxious"===c.emotion?"温和安抚":"hopeful"===c.emotion?"积极鼓励":"confused"===c.emotion?"清晰耐心":"determined"===c.emotion?"坚定有力":"客观专业",b="beginner"===u.level?"通俗易懂":"intermediate"===u.level?"适度专业":"专业深入",f=function(e){if(!e||0===Object.keys(e).length)return"";const{gender:t,birthYear:n}=e,i=[];return t&&i.push(`性别: ${t}`),n&&i.push(`出生年份: ${n}`),i.length>0?`**补充信息**：${i.join("，")}`:""}(m);return`\n**时间信息**：\n${e||"时间信息未知"}\n${f}\n\n**数据信息**：\n${n}\n\n**用户问题**：\n"${t}"\n${y}\n\n请直接回答：\n\n## 核心答案\n${a}\n\n## 简要分析\n${d}\n\n**分析要求**：${g}，语气${h}，术语${b}\n\n## 行动建议\n${p}\n\n## 总结\n${r}\n`}function ce(e,t,n,i){const a=ne(e),o=ie(e),s=ae(e),r=oe(e),l=function(e){let t=`六爻卦象信息：\n${e.ganzhi?`干支：${e.ganzhi.year}年 ${e.ganzhi.month}月 ${e.ganzhi.day}日 ${e.ganzhi.hour}时`:"干支信息未知"}\n主卦：${e.originalName}（${e.palace?.name||""}宫）\n变卦：${e.changedName}\n互卦：${e.interName}\n空亡：${e.voidBranches?.join("、")||"无"}\n\n爻象详情：`;e.yaosDetail&&Array.isArray(e.yaosDetail)?[...e.yaosDetail].reverse().forEach((e,n)=>{const i=6-n;let a=e.isChanging?`（${e.changeType}）`:"";const o=e.isWorld?" 世":e.isResponse?" 应":"",s=e.isVoid?" 空":"";if(e.isChanging&&e.changedYao){const t=e.changedYao;a+=` 动变 -> ${t.liuqin}${t.dizhi}${t.wuxing}`}t+=`\n第${i}爻：${e.yaoType}爻${a}，六神：${e.sixGod||""}，六亲：${e.sixRelative||""}，纳甲：${e.najiaDizhi||""}${e.wuxing||""}${o}${s}`}):e.yaoArray&&Array.isArray(e.yaoArray)&&e.yaoArray.forEach((n,i)=>{t+=`\n第${6-i}爻：${6===n||8===n?"阴":"阳"}爻${6===n||9===n?"（动爻）":""}，六神：${e.sixGods?.[i]||""}，六亲：${e.sixRelatives?.[i]||""}，世应：${e.worldAndResponse?.[i]||""}`});return e.changingYaos&&Array.isArray(e.changingYaos)&&e.changingYaos.length>0&&(t+=`\n\n动爻：${e.changingYaos.map(e=>`第${e.position}爻（${e.type}）`).join("、")}`),t}(t);return le(n||"时间信息未知",e,l,`${a.isQuestion?"- **问题类型**：判断类问题，需要基于卦象给出明确的是/否或能/不能的回答":""}\n${a.isChoice?"- **问题类型**：选择类问题，需要分析不同选项的卦象支持度":""}\n${a.isTime?"- **问题类型**：时间类问题，需要结合卦象变化给出时间指引":""}\n${a.isAction?"- **问题类型**：行动类问题，需要提供具体的执行策略":""}\n${a.isFeasibility?"- **问题类型**：可行性类问题，需要评估方案的成功概率":""}\n${a.isRelationship?"- **问题类型**：感情类问题，需要关注情感层面的深层指引":""}\n${a.isCareer?"- **问题类型**：事业类问题，需要分析工作发展的机遇与挑战":""}\n${a.isFinance?"- **问题类型**：财运类问题，需要关注财富流动和投资机会":""}\n${a.isHealth?"- **问题类型**：健康类问题，需要重点关注身体状况和康复建议":""}\n${a.isStudy?"- **问题类型**：学业类问题，需要分析学习进度和考试运势":""}\n${a.isReason?"- **问题类型**：原因类问题，需要深入分析问题产生的根源":""}\n${a.isPrediction?"- **问题类型**：预测类问题，需要基于卦象预示未来发展趋势":""}\n${a.isAdvice?"- **问题类型**：建议类问题，需要提供针对性的指导和建议":""}\n${a.isComparison?"- **问题类型**：比较类问题，需要对比分析不同选项的优劣":""}\n${a.isQuantity?"- **问题类型**：数量类问题，需要评估程度和数量关系":""}\n${a.isLocation?"- **问题类型**：地点类问题，需要分析方位和地点的影响":""}\n${a.isPerson?"- **问题类型**：人物类问题，需要关注人际关系和人物特征":""}`,se(e,a,o,s,r,"基于六爻卦象的专业分析","结合六爻爻象、世应关系"),`- **主卦解读**：${t.originalName}卦说明现在什么情况？请从卦宫、六亲、六神等角度深入分析\n- **变卦预示**：${t.changedName}卦表示未来会如何发展？分析变卦对主卦的影响和趋势\n- **动爻分析**：动爻的位置、性质揭示了什么？【核心】动爻的变化（如“父化财”）是吉是凶？它对用神和世爻有何影响？\n- **世应关系**：世爻代表求测者，应爻代表对方或所测之事，二者关系如何？生克冲合有何启示？\n- **用神分析**：根据问题确定用神，分析用神的旺衰、生克、动静状态\n- **六神启示**：六神（青龙、朱雀、勾陈、螣蛇、白虎、玄武）各代表什么含义？对问题有何指引？\n- **空亡影响**：空亡爻对卦象有何影响？是否需要特别关注？\n- **与问题的关联**：综合以上分析，卦象如何直接回应用户的具体疑问？`,re(a,o,s,r,"具体的行动步骤和注意事项，结合卦象吉凶","替代方案和建议，参考变卦指引","根据六爻卦象分析，现在应该采取什么策略？")+`\n- **专业术语解释**：${"beginner"===r.level?"请用简单语言解释世爻、应爻、用神等概念":"intermediate"===r.level?"可适当使用专业术语并简要解释":"可使用专业术语进行深度分析"}\n- **时机把握**：${a.isTime?"基于卦象变化和动爻情况，给出具体的时间指引":"根据卦象分析，什么时候行动最有利？"}\n- **方位建议**：根据六爻方位和卦象，给出有利的方位建议\n- **风险提示**：需要避免什么风险和不利因素？卦象中的凶格如何化解？`,"用一句话概括这次六爻占卜对用户问题的核心建议。",o,s,r,i)}function ue(e,t,n,i){const a=ne(e),o=ie(e),s=ae(e),r=oe(e),l=function(e){const t=e.timeInfo?`${e.timeInfo.solarTerm} ${e.timeInfo.epoch}`:"未知时间",n=e.ganzhi?`干支：${e.ganzhi.year}年 ${e.ganzhi.month}月 ${e.ganzhi.day}日 ${e.ganzhi.hour}时`:"干支信息未知";let i="| 巽四宫 | 离九宫 | 坤二宫 |\n|---|---|---|\n";if(e.jiuGongGe&&Array.isArray(e.jiuGongGe)){const t=t=>{const n=e.jiuGongGe.find(e=>e.gong===t);return n?`**神**：${n.shenPan.god||" "}<br>**星**：${n.tianPan.star||" "}<br>**门**：${n.renPan.door||" "}<br>**天**：${n.tianPan.stem||" "}<br>**地**：${n.diPan.stem||" "}`:" "};i+=`| ${t(4)} | ${t(9)} | ${t(2)} |\n| 震三宫 | 中五宫 | 兑七宫 |\n|---|---|---|\n| ${t(3)} | ${t(5)} | ${t(7)} |\n| 艮八宫 | 坎一宫 | 乾六宫 |\n|---|---|---|\n| ${t(8)} | ${t(1)} | ${t(6)} |`}return`**奇门盘信息**:\n- **公历**: ${t}\n- **${n}**\n- **局数**: ${e.isYangDun?"阳遁":"阴遁"}${e.juShu}局\n- **核心**: 值符: ${e.zhiFu} | 值使: ${e.zhiShi}\n\n**九宫格详情 (方位图)**:\n${i}`}(t);return le(n||"时间信息未知",e,l,`${a.isQuestion?"- **问题类型**：判断类问题，需要基于奇门局给出明确的是/否或能/不能的战略性回答":""}\n${a.isChoice?"- **问题类型**：选择类问题，需要分析不同选项的奇门局支持度":""}\n${a.isTime?"- **问题类型**：时间类问题，需要结合奇门时辰给出精确时间指引":""}\n${a.isAction?"- **问题类型**：行动类问题，需要提供具体的战略执行方案":""}\n${a.isFeasibility?"- **问题类型**：可行性类问题，需要评估方案的成功概率和合适程度":""}\n${a.isRelationship?"- **问题类型**：感情类问题，需要关注情感层面的奇门局分析":""}\n${a.isCareer?"- **问题类型**：事业类问题，需要分析工作发展的奇门机遇":""}\n${a.isFinance?"- **问题类型**：财运类问题，需要关注财富流动的奇门格局":""}\n${a.isHealth?"- **问题类型**：健康类问题，需要重点关注身体状况的奇门预示":""}\n${a.isStudy?"- **问题类型**：学业类问题，需要分析学习进度的奇门支持":""}\n${a.isReason?"- **问题类型**：原因类问题，需要深入分析问题产生的奇门根源":""}\n${a.isPrediction?"- **问题类型**：预测类问题，需要基于奇门局预示未来发展趋势":""}\n${a.isAdvice?"- **问题类型**：建议类问题，需要提供奇门局的战略指导":""}\n${a.isComparison?"- **问题类型**：比较类问题，需要对比分析不同选项的奇门优劣":""}\n${a.isQuantity?"- **问题类型**：数量类问题，需要评估程度的奇门关系":""}\n${a.isLocation?"- **问题类型**：地点类问题，需要分析方位的奇门吉凶":""}\n${a.isPerson?"- **问题类型**：人物类问题，需要关注人际关系的奇门特征":""}`,se(e,a,o,s,r,"基于奇门遁甲局的专业战略分析","结合奇门九宫格局、用神关系"),`- **格局概览**: 简要说明当前奇门局的基本特性（如伏吟、反吟等），并点明其核心能量状态。请深入分析格局的深层含义和影响。\n- **用神选取**: 根据用户问题"${e}"，明确核心用神（如求测者本人、所测之事等），并定位其落宫。分析用神的旺衰状态和吉凶。\n- **核心矛盾**: 分析用神宫位与时干宫位、值符值使宫位的关系，揭示当前局势的主要矛盾和机遇。请详细分析各宫位之间的生克关系。\n- **九宫分析**: 逐一分析九宫的星、门、神、干组合，揭示各方位的能量状态和对问题的影响。\n- **吉格与凶格**: 指出盘中出现的关键吉格（如青龙返首、飞鸟跌穴）或凶格（如白虎猖狂、朱雀投江），并解释其具体影响和化解方法。\n- **时空能量**: 分析当前奇门局的时空能量分布，以及其对用户问题的具体影响。\n- **战略态势**: 评估当前的利主利客、利内利外态势，为行动策略提供依据。\n- **与问题的关联**: 综合以上分析，奇门局格局如何直接回应用户的具体疑问？`,re(a,o,s,r,"具体的战略行动步骤和注意事项，结合奇门吉凶格局","替代战略方案和建议，参考格局变化","基于奇门遁甲分析，应该采取什么战略策略？")+`\n- **专业术语解释**：${"beginner"===r.level?"请用简单语言解释值符、值使、用神、九宫等概念":"intermediate"===r.level?"可适当使用专业术语并简要解释":"可使用专业术语进行深度战略分析"}\n- **最优策略**: 基于以上分析，提出最符合当前局势的行动策略。是应该主动出击，还是静待时机？是利主还是利客？\n- **方位指引**: 明确对用户最有利的方位（基于奇门吉方），并说明原因。${a.isLocation?"结合问题性质，给出具体的方位建议":""}\n- **时机建议**: ${a.isTime?"基于奇门时辰分析，给出精确的行动时间点建议":"提供一个明确的、可执行的行动时间点建议"}\n- **成功概率**: ${a.isFeasibility?"基于奇门局分析，评估方案的成功概率和可行性":"评估当前行动的成功可能性"}\n- **风险提示**: 需要避免什么风险和不利因素？奇门局中的凶格如何化解？`,"用一句话概括这次奇门遁甲分析对用户问题的核心战略建议。",o,s,r,i)}function me(e,t,n,i){const a=ne(e),o=ie(e),s=ae(e),r=oe(e),l=function(e){return`你是一位经验丰富的灵签解签师，擅长根据签文给出明确、实用的指导。请根据用户的问题和以下三山国王灵签，进行精准解读。\n\n**灵签信息**：\n- **签号**: 第 ${e.number} 签\n- **签题**: ${e.title}\n- **签诗**: "${e.poem}"\n- **典故**: ${JSON.stringify(e.details)}`}(t);return le(n||"时间信息未知",e,l,`${a.isQuestion?"- **问题类型**：判断类问题，需要明确回答是/否或能/不能":""}\n${a.isChoice?"- **问题类型**：选择类问题，需要分析不同选项的优劣":""}\n${a.isTime?"- **问题类型**：时间类问题，需要给出具体的时间指引":""}\n${a.isFeasibility?"- **问题类型**：可行性类问题，需要评估方案的成功概率":""}\n${a.isRelationship?"- **问题类型**：感情类问题，需要关注情感层面的签文指引":""}\n${a.isCareer?"- **问题类型**：事业类问题，需要分析工作发展的签文启示":""}\n${a.isFinance?"- **问题类型**：财运类问题，需要关注财富流动的签文预示":""}\n${a.isHealth?"- **问题类型**：健康类问题，需要重点关注身体状况的签文指引":""}\n${a.isStudy?"- **问题类型**：学业类问题，需要分析学习进度的签文支持":""}\n${a.isReason?"- **问题类型**：原因类问题，需要深入分析问题产生的签文根源":""}\n${a.isPrediction?"- **问题类型**：预测类问题，需要基于签文预示未来发展趋势":""}\n${a.isAdvice?"- **问题类型**：建议类问题，需要提供签文的指导建议":""}\n${a.isComparison?"- **问题类型**：比较类问题，需要对比分析不同选项的签文优劣":""}\n${a.isQuantity?"- **问题类型**：数量类问题，需要评估程度的签文关系":""}\n${a.isLocation?"- **问题类型**：地点类问题，需要分析方位的签文影响":""}\n${a.isPerson?"- **问题类型**：人物类问题，需要关注人际关系的签文特征":""}`,se(e,a,o,s,r,"基于三山国王灵签的专业解读分析","结合签文、典故、历史背景"),`- **签诗意思**：用简单的话解释"${t.poem}"的含义。请深入分析签诗的字面意思和深层寓意。\n- **核心寓意**：这支签主要想告诉我们什么？（比如：需要耐心、积极行动、顺其自然等）请详细分析签文的核心启示和指导意义。\n- **典故解读**：${t.details?"结合签文背后的历史典故，分析典故对当前问题的启示和借鉴意义。请深入理解典故的来龙去脉和教育意义。":"分析签文的历史背景和文化内涵。"}\n- **签文层次**：从不同层次解读签文，包括字面层、象征层、哲理层和实践层。\n- **时空关联**：分析签文与当前时空环境的关联性，以及其对用户问题的具体指导意义。\n- **与问题的关联**：综合以上分析，签诗如何直接回应用户的具体疑问？`,re(a,o,s,r,"具体的行动步骤和注意事项，结合签文指引","替代方案和建议，参考签文启示","根据三山国王灵签分析，应该采取什么行动？")+`\n- **专业术语解释**：${"beginner"===r.level?"请用简单语言解释签文、典故等概念":"intermediate"===r.level?"可适当使用专业术语并简要解释":"可使用专业术语进行深度灵签分析"}\n- **具体建议**：结合签诗和典故，给出1-2个具体可行的建议\n- **注意事项**：提醒需要避免什么或注意什么，特别是签文中的警示内容\n- **时间指引**：${a.isTime?"基于签文分析，给出具体的时间指引":"根据签文，给出行动时机建议"}\n- **成功概率**：${a.isFeasibility?"基于签文分析，评估方案的成功概率":"评估当前行动的成功可能性"}\n- **情感支持**：${s.supportNeeded}`,"用一句话概括这支三山国王灵签对用户问题的核心指引。",o,s,r,i)}function de(e,t,n,i){const a=ne(e),o=ie(e),s=ae(e),r=oe(e),l=function(e,t){let n="";return Array.isArray(e.cards)&&(n=e.cards.map(e=>`- **${e.position}**: ${e.name} ${e.reversed?" (逆位)":""} (关键词: ${e.keywords.join(", ")})`).join("\n")),(t?`**时间信息**：\n${t}\n\n`:"")+n}(t,n);return le(n||"时间信息未知",e,`**牌阵信息**：\n${l}`,`${a.isQuestion?"- **问题类型**：判断类问题，需要基于塔罗牌给出明确的是/否或能/不能的回答":""}\n${a.isChoice?"- **问题类型**：选择类问题，需要分析不同选项的牌面支持度":""}\n${a.isTime?"- **问题类型**：时间类问题，需要结合塔罗牌时序给出时间指引":""}\n${a.isAction?"- **问题类型**：行动类问题，需要提供具体的执行策略":""}\n${a.isFeasibility?"- **问题类型**：可行性类问题，需要评估方案的成功概率":""}\n${a.isRelationship?"- **问题类型**：感情类问题，需要关注情感层面的深层指引":""}\n${a.isCareer?"- **问题类型**：事业类问题，需要分析工作发展的牌面启示":""}\n${a.isFinance?"- **问题类型**：财运类问题，需要关注财富流动的牌面预示":""}\n${a.isHealth?"- **问题类型**：健康类问题，需要重点关注身体状况的牌面指引":""}\n${a.isStudy?"- **问题类型**：学业类问题，需要分析学习进度的牌面支持":""}\n${a.isReason?"- **问题类型**：原因类问题，需要深入分析问题产生的牌面根源":""}\n${a.isPrediction?"- **问题类型**：预测类问题，需要基于塔罗牌预示未来发展趋势":""}\n${a.isAdvice?"- **问题类型**：建议类问题，需要提供塔罗牌的指导建议":""}\n${a.isComparison?"- **问题类型**：比较类问题，需要对比分析不同选项的牌面优劣":""}\n${a.isQuantity?"- **问题类型**：数量类问题，需要评估程度的牌面关系":""}\n${a.isLocation?"- **问题类型**：地点类问题，需要分析方位的牌面影响":""}\n${a.isPerson?"- **问题类型**：人物类问题，需要关注人际关系的牌面特征":""}`,se(e,a,o,s,r,"基于塔罗牌的专业解读分析","结合塔罗牌阵、牌面含义"),`- **整体解读**：将所有牌融合成一个流畅、简洁的故事，直接回应用户的问题。点出1-2张关键牌，并解释其核心作用。\n- **牌面速解**：${Array.isArray(t.cards)?t.cards.map(e=>`- **${e.position}**: ${e.name} ${e.reversed?" (逆位)":""} - 一句话点明这张牌在此处的核心启示。`).join("\n"):""}`,"- **核心建议**：基于牌阵，提供1-2个最关键、最可行的行动建议。\n- **展望与提醒**：简要说明若遵循建议，可能出现的积极展望，并提醒需要注意的潜在挑战。","用一句话总结这次塔罗解读对用户问题的核心启示。",o,s,r,i)}function pe(e,t,n,i){const a=`**当前时间**：${(new Date).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1,timeZone:"Asia/Shanghai"})}`;switch(e){case"liuyao":return ce(t,n,a,i);case"meihua":return function(e,t,n,i){const a=ne(e),o=ie(e),s=ae(e),r=oe(e),l=function(e){return`**梅花易数卦象信息**：\n- **时间**: ${e.ganzhi?`干支：${e.ganzhi.year}年 ${e.ganzhi.month}月 ${e.ganzhi.day}日 ${e.ganzhi.hour}时`:"时间信息未知"}\n- **主卦**: ${e.originalName}\n- **互卦**: ${e.interName||"无"}\n- **变卦**: ${e.changedName||"无"}\n- **动爻**: 第${e.movingYao?.position}爻\n\n**核心体用分析**：\n- **体卦**: ${e.tiGua?.name}（五行属${e.tiGua?.element}）\n- **用卦**: ${e.yongGua?.name}（五行属${e.yongGua?.element}）\n\n**生克关系链 (吉凶判断之本)**：\n- **事之始 (用卦与体卦)**: ${e.analysis?.tiYongRelation}\n- **事之中 (互卦与体卦)**: 互上${e.analysis?.inter2Relation}体，互下${e.analysis?.inter1Relation}体\n- **事之终 (变卦与体卦)**: ${e.analysis?.changedRelation}`}(t);return le(n||"时间信息未知",e,l,`${a.isQuestion?"- **问题类型**：判断类问题，需要基于体用关系给出明确的是/否或能/不能的回答":""}\n${a.isChoice?"- **问题类型**：选择类问题，需要分析不同选项的体用支持度":""}\n${a.isTime?"- **问题类型**：时间类问题，需要结合卦象变化给出时间指引":""}\n${a.isAction?"- **问题类型**：行动类问题，需要提供具体的执行策略":""}\n${a.isFeasibility?"- **问题类型**：可行性类问题，需要评估方案的合适程度":""}\n${a.isRelationship?"- **问题类型**：感情类问题，需要关注情感层面的体用关系":""}\n${a.isCareer?"- **问题类型**：事业类问题，需要分析工作发展的体用生克":""}\n${a.isFinance?"- **问题类型**：财运类问题，需要关注财富流动的体用关系":""}\n${a.isHealth?"- **问题类型**：健康类问题，需要重点关注身体状况的体用影响":""}\n${a.isStudy?"- **问题类型**：学业类问题，需要分析学习进度的体用支持":""}\n${a.isReason?"- **问题类型**：原因类问题，需要深入分析问题产生的体用根源":""}\n${a.isPrediction?"- **问题类型**：预测类问题，需要基于体用关系预示未来趋势":""}\n${a.isAdvice?"- **问题类型**：建议类问题，需要提供体用关系的指导建议":""}\n${a.isComparison?"- **问题类型**：比较类问题，需要对比分析不同选项的体用优劣":""}\n${a.isQuantity?"- **问题类型**：数量类问题，需要评估程度的体用关系":""}\n${a.isLocation?"- **问题类型**：地点类问题，需要分析方位的体用影响":""}\n${a.isPerson?"- **问题类型**：人物类问题，需要关注人际关系的体用特征":""}`,se(e,a,o,s,r,"基于梅花易数体用关系的专业分析","结合体卦用卦生克关系"),"- **体用总论**：首先，明确指出体卦（代表我/此事）和用卦（代表对方/环境）。根据“用生体吉，克体凶”的总纲，对事情的吉凶给出一个基准判断。\n- **过程分析 (互卦)**：互卦代表事情发展的过程。分析两个互卦与体卦的生克关系，是过程顺利（生体）还是过程艰难（克体）？\n- **结局预示 (变卦)**：变卦代表事情的最终结局。分析变卦与体卦的生克关系，是结局圆满（生体）还是结局不利（克体）？\n- **旺衰权衡**：结合占卜季节（如春木旺），分析体卦自身的强弱。体强则能抗克，体衰则逢生亦弱。\n- **卦象象征**：结合主卦、互卦、变卦的卦象（如乾为天，为健行；坤为地，为包容），将抽象的生克关系转化为具体的人事解读。\n- **与问题的关联**：综合以上“一体三用”的完整分析链条，直接、清晰地回答用户的问题。",re(a,o,s,r,"具体的行动步骤和注意事项，结合体用关系吉凶","替代方案和建议，参考变卦指引","根据梅花易数体用关系分析，应该采取什么策略？")+`\n- **专业术语解释**：${"beginner"===r.level?"请用简单语言解释体卦、用卦、五行生克等概念":"intermediate"===r.level?"可适当使用专业术语并简要解释":"可使用专业术语进行深度分析"}\n- **具体建议**：针对问题"${e}"，给出1-2个可行的建议\n- **时机把握**：${a.isTime?"基于卦象变化，给出具体的时间指引":"什么时候行动最有利？"}\n- **可行性评估**：${a.isFeasibility?"基于体用关系，评估方案的可行性和合适程度":"评估当前行动的可行性"}`,"用一句话概括这次梅花易数占卜对用户问题的核心建议。",o,s,r,i)}(t,n,a,i);case"qimen":return ue(t,n,a,i);case"tarot":case"tarot_single":return de(t,n,a,i);case"ssgw":return me(t,n,a,i);default:{const n=/能不能|可不可以|是不是|能否|可以吗|对吗|好吗|行吗/.test(t),i=/还是|或者/.test(t),o=/什么时候|何时|几时|多久/.test(t),s=/怎么做|如何|怎么办|怎么处理/.test(t),r=/可行|合适|适合|有利|成功/.test(t);return function(e){return`${e}\n\n**动态调整要求**：\n- **分析深度**：请提供适度的深度分析，包含多个维度的考量\n- **语气风格**：请使用客观、专业的语气，提供平衡的分析\n- **术语使用**：请适当使用专业术语，并在必要时提供解释\n- **紧急程度**：请适当关注，给出合理时间安排\n- **重要程度**：请正常关注，提供适当分析`}(`\n你是一位智慧深邃的"智慧导师"，精通多种东方与西方的神秘学工具。\n\n**时间信息**：\n${a}\n\n**用户问题分析**：\n"${t}"\n${n?"- **问题类型**：判断类问题，需要给出明确的是/否或能/不能的回答":""}\n${i?"- **问题类型**：选择类问题，需要分析不同选项的优劣":""}\n${o?"- **问题类型**：时间类问题，需要给出具体的时间指引":""}\n${s?"- **问题类型**：行动类问题，需要提供具体的执行策略":""}\n${r?"- **问题类型**：可行性类问题，需要评估方案的成功概率":""}\n\n请根据用户的问题和所提供的 ${e} 占卜数据，遵循以下原则进行解读：\n\n## 问题回答\n${n?`- **直接回答**：针对"${t}"，请先给出明确的答案（是/否、能/不能、可以/不可以），然后基于占卜数据解释判断依据`:"- **问题解析**：明确用户问题的核心，基于占卜数据给出针对性回答"}\n\n## 解读原则\n1.  **角色与语气**: 保持专业、沉稳、富有同理心的导师角色。\n2.  **结构化分析**: 清晰地组织你的回答，包括核心洞察、细节分析和行动指南。\n3.  **深度与价值**: 提供超越表面现象的深刻见解和切实可行的建议。\n4.  **明确回答**: 对于疑问性问题，避免模糊回答，给出清晰的判断和理由。\n\n## 行动指导\n${n?"- **如果答案为肯定**：具体的行动步骤和注意事项\n- **如果答案为否定**：替代方案和建议":"- **具体建议**：提供1-2个具体可行的建议"}\n- **风险评估**：提醒可能的风险或需要注意的地方\n- **成功概率**：${r?"基于占卜数据，评估方案的成功概率":"评估当前行动的成功可能性"}\n\n请开始你的解读。\n`)}}}var ye=(e=>(e.NETWORK_ERROR="NETWORK_ERROR",e.VALIDATION_ERROR="VALIDATION_ERROR",e.BUSINESS_ERROR="BUSINESS_ERROR",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(ye||{});function ge(e,t,n,i){const a={type:e,message:t,timestamp:Date.now()};return void 0!==n&&(a.code=n),void 0!==i&&(a.originalError=i),a}function he(e,t="发生未知错误"){return function(e){return"object"==typeof e&&null!==e&&"type"in e&&"message"in e&&"timestamp"in e&&Object.values(ye).includes(e.type)}(e)?e:e instanceof TypeError||e instanceof DOMException&&["AbortError","NetworkError"].includes(e.name)?function(e){return e instanceof TypeError&&e.message.includes("fetch")?ge("NETWORK_ERROR","网络连接失败，请检查网络设置","NETWORK_CONNECT_ERROR",e):e instanceof DOMException&&"AbortError"===e.name?ge("NETWORK_ERROR","请求已取消","REQUEST_ABORTED",e):ge("NETWORK_ERROR","网络请求失败","NETWORK_REQUEST_ERROR",e)}(e):e instanceof Error?ge("UNKNOWN_ERROR",e.message||t,"GENERIC_ERROR",e):"string"==typeof e?ge("UNKNOWN_ERROR",e||t,"GENERIC_ERROR"):ge("UNKNOWN_ERROR",t,"GENERIC_ERROR",e)}function be(e,t){new Date(e.timestamp).toISOString(),e.type,e.message,e.code,e.originalError}function fe(e){switch(e.type){case"NETWORK_ERROR":return"网络连接出现问题，请检查网络设置后重试";case"VALIDATION_ERROR":return e.message||"输入的数据格式不正确";case"BUSINESS_ERROR":return e.message||"操作失败，请重试";default:return e.message||"发生了一些问题，请稍后重试"}}const we=new class{async generateAIResponse(e,t,n,i,a,o){try{const s=this.generateSystemPrompt(e),r=(t,n)=>pe(e,t,n,i),l=await async function(e,t,n,i,a,o,s){try{const r=t(e,n),l={role:"system",content:i},c={role:"user",content:r},{settings:u}=X(),m=s?.model||u.selectedModel;return await te.generateResponse([l,c],a,o,m)}catch(r){throw r}}(t,r,n,s,a,o,i);return l.content}catch(s){const e=he(s,"AI响应生成失败");throw be(e),new Error(fe(e))}}generateSystemPrompt(e){const t="你是一个专业的占卜AI助手。\n\n**核心要求**：\n- 你必须总是使用简体中文来回答。\n- 请专注于提供实用、准确、有深度的解读。\n\n**占卜类型专用能力**：",n={liuyao:`${t}\n你是精通六爻占卜的专业占卜师，宗于京房易理。\n\n**专业能力**：\n- **核心分析**：必须围绕用神的"旺衰"展开，这是吉凶判断的根本。结合月建、日辰判断用神的强弱、生旺墓绝。\n- **六亲关系**：精准解读世爻、应爻、用神、原神、忌神、仇神之间的生克冲合关系。\n- **爻象变化**：详尽分析动爻，特别是"父化财"、"官化兄"等爻变，以及暗动、伏藏等情况。\n- **神煞辅助**：结合空亡、月破、驿马、贵人等神煞信息进行综合判断。\n- **行动建议**：基于卦象分析，提供具体、可行的行动建议和时机把握，避免空泛理论。\n\n请始终用专业、沉稳的语气回答，确保解读既有深度又易于理解和应用。`,meihua:`${t}\n你是精通梅花易数的专业占卜师，宗于邵氏心易。\n\n**专业能力**：\n- **核心分析**：必须围绕"体用"生克展开。明确指出体卦、用卦，并以此为中心进行吉凶判断。\n- **一体三用**：按照"用卦为事之始，互卦为事之中，变卦为事之终"的逻辑层次，分析它们与体卦的生克关系，形成完整判断链条。\n- **旺衰权衡**：结合四季旺衰，判断体用卦的强弱，从而更精准地判断生克力量。\n- **外应参考**：可适当结合起卦时的声音、方位、人物等外应，丰富解读。\n\n请以简洁明了的方式回答，注重实用性和时效性。`,qimen:`${t}\n你是深谙奇门遁甲的战略顾问，精通转盘奇门之法。\n\n**专业能力**：\n- **格局为重**：精准解析天盘、地盘、人盘、神盘的配置关系，并必须识别出盘中的关键"吉格"与"凶格"，并解释其具体影响。\n- **主客分析**：分析值符、值使、时干、日干等关键用神的落宫状态，判断主客双方的优劣态势。\n- **决策指导**：基于格局和用神分析，为所问之事判断最有利的行动时机、方位和策略。\n- **趋吉避凶**：明确指出盘中的吉方与凶方，以及有利与不利的行动。\n\n请以权威、严谨的语气回答，如同古代军师为统帅献策。`,tarot:`${t}\n你是一位智慧与慈悲并存的塔罗解读师。\n\n**解读核心**：\n1.  **整合叙事**：将所有牌融合成一个流畅、简洁的故事，直接回应用户的问题。\n2.  **关键解读**：点出1-2张关键牌，并解释其核心作用。\n3.  **简明扼要**：解读应直击要点，避免不必要的细节。语言富有启发性，但不过于冗长。\n4.  **赋能建议**：提供清晰、可行的行动建议。\n\n**输出要求**：\n- **语气**：专业、温暖、有洞见。\n- **语言**：简体中文。`,tarot_single:`${t}\n你是专业的塔罗牌单牌解读师。\n\n**专业能力**：\n- 精准把握单张塔罗牌在特定问题中的核心含义\n- 分析牌面正逆位对问题的不同影响\n- 提供简洁而深刻的洞察和直接建议\n- 将牌面象征与用户的实际情况紧密结合\n\n请以直接、清晰的方式回答，注重实用性和针对性。`,ssgw:`${t}\n你是精通三山国王灵签的解签师。\n\n**专业能力**：\n- 精确理解签诗的隐喻和哲理内涵\n- 解读典故故事对现实问题的启示意义\n- 将古老的智慧应用到现代生活情境中\n- 提供既符合传统又能指导现实的建议\n\n请以平实、智慧的方式回答，让古老灵签焕发现代价值。`,default:`${t}\n你是专业的占卜AI助手。\n\n**专业能力**：\n- 能够根据用户的问题提供有深度的解读\n- 结合传统智慧和现代思维给出建议\n- 保持客观、理性的分析态度\n- 注重实用性和可操作性\n\n请以专业、智慧的方式回答，为用户提供有价值的指导。`};return n[e]||n.default}async handleFollowUp(e,t,n){try{const{onChunk:i,onComplete:a,onError:o,onConversationUpdate:s}=n,r={id:`msg-${Date.now()}`,role:"user",content:t};e.push(r);const l={id:`msg-${Date.now()+1}`,role:"assistant",content:""};e.push(l),s([...e]),await function(e,t,n,i){let a;if("string"==typeof e)a=[{role:"system",content:"你是精通周易、梅花易数、奇门遁甲、塔罗牌等术数的AI助手。请根据占卜结果，为用户提供解读。"},{role:"user",content:e}];else{const t=10;a=e.length>t?[e[0],...e.slice(-t)]:e}te.generateResponse(a,void 0,t).then(e=>{n(e.content)}).catch(e=>{const t=e instanceof Error?e.message:"AI解读暂时不可用，请稍后重试。";i(t)})}(e,t=>{l.content+=t,i(t),s([...e])},t=>{l.content=t,a(),s([...e])},t=>{const n=he(t,"后续问题处理失败");be(n);const i=fe(n);l.content=i,o(i),s([...e])})}catch(i){const e=he(i,"后续问题处理失败");be(e);const t=fe(e);n.onError(t)}}},ve=[{name:"愚者",type:"大阿卡纳",number:1},{name:"魔术师",type:"大阿卡纳",number:2},{name:"女祭司",type:"大阿卡纳",number:3},{name:"女皇",type:"大阿卡纳",number:4},{name:"皇帝",type:"大阿卡纳",number:5},{name:"教皇",type:"大阿卡纳",number:6},{name:"恋人",type:"大阿卡纳",number:7},{name:"战车",type:"大阿卡纳",number:8},{name:"力量",type:"大阿卡纳",number:9},{name:"隐士",type:"大阿卡纳",number:10},{name:"命运之轮",type:"大阿卡纳",number:11},{name:"正义",type:"大阿卡纳",number:12},{name:"倒吊人",type:"大阿卡纳",number:13},{name:"死神",type:"大阿卡纳",number:14},{name:"节制",type:"大阿卡纳",number:15},{name:"恶魔",type:"大阿卡纳",number:16},{name:"塔",type:"大阿卡纳",number:17},{name:"星星",type:"大阿卡纳",number:18},{name:"月亮",type:"大阿卡纳",number:19},{name:"太阳",type:"大阿卡纳",number:20},{name:"审判",type:"大阿卡纳",number:21},{name:"世界",type:"大阿卡纳",number:22},{name:"权杖王牌",type:"小阿卡纳",suit:"权杖",number:23},{name:"权杖二",type:"小阿卡纳",suit:"权杖",number:24},{name:"权杖三",type:"小阿卡纳",suit:"权杖",number:25},{name:"权杖四",type:"小阿卡纳",suit:"权杖",number:26},{name:"权杖五",type:"小阿卡纳",suit:"权杖",number:27},{name:"权杖六",type:"小阿卡纳",suit:"权杖",number:28},{name:"权杖七",type:"小阿卡纳",suit:"权杖",number:29},{name:"权杖八",type:"小阿卡纳",suit:"权杖",number:30},{name:"权杖九",type:"小阿卡纳",suit:"权杖",number:31},{name:"权杖十",type:"小阿卡纳",suit:"权杖",number:32},{name:"权杖侍者",type:"小阿卡纳",suit:"权杖",number:33},{name:"权杖骑士",type:"小阿卡纳",suit:"权杖",number:34},{name:"权杖王后",type:"小阿卡纳",suit:"权杖",number:35},{name:"权杖国王",type:"小阿卡纳",suit:"权杖",number:36},{name:"圣杯王牌",type:"小阿卡纳",suit:"圣杯",number:37},{name:"圣杯二",type:"小阿卡纳",suit:"圣杯",number:38},{name:"圣杯三",type:"小阿卡纳",suit:"圣杯",number:39},{name:"圣杯四",type:"小阿卡纳",suit:"圣杯",number:40},{name:"圣杯五",type:"小阿卡纳",suit:"圣杯",number:41},{name:"圣杯六",type:"小阿卡纳",suit:"圣杯",number:42},{name:"圣杯七",type:"小阿卡纳",suit:"圣杯",number:43},{name:"圣杯八",type:"小阿卡纳",suit:"圣杯",number:44},{name:"圣杯九",type:"小阿卡纳",suit:"圣杯",number:45},{name:"圣杯十",type:"小阿卡纳",suit:"圣杯",number:46},{name:"圣杯侍者",type:"小阿卡纳",suit:"圣杯",number:47},{name:"圣杯骑士",type:"小阿卡纳",suit:"圣杯",number:48},{name:"圣杯王后",type:"小阿卡纳",suit:"圣杯",number:49},{name:"圣杯国王",type:"小阿卡纳",suit:"圣杯",number:50},{name:"宝剑王牌",type:"小阿卡纳",suit:"宝剑",number:51},{name:"宝剑二",type:"小阿卡纳",suit:"宝剑",number:52},{name:"宝剑三",type:"小阿卡纳",suit:"宝剑",number:53},{name:"宝剑四",type:"小阿卡纳",suit:"宝剑",number:54},{name:"宝剑五",type:"小阿卡纳",suit:"宝剑",number:55},{name:"宝剑六",type:"小阿卡纳",suit:"宝剑",number:56},{name:"宝剑七",type:"小阿卡纳",suit:"宝剑",number:57},{name:"宝剑八",type:"小阿卡纳",suit:"宝剑",number:58},{name:"宝剑九",type:"小阿卡纳",suit:"宝剑",number:59},{name:"宝剑十",type:"小阿卡纳",suit:"宝剑",number:60},{name:"宝剑侍者",type:"小阿卡纳",suit:"宝剑",number:61},{name:"宝剑骑士",type:"小阿卡纳",suit:"宝剑",number:62},{name:"宝剑王后",type:"小阿卡纳",suit:"宝剑",number:63},{name:"宝剑国王",type:"小阿卡纳",suit:"宝剑",number:64},{name:"钱币王牌",type:"小阿卡纳",suit:"钱币",number:65},{name:"钱币二",type:"小阿卡纳",suit:"钱币",number:66},{name:"钱币三",type:"小阿卡纳",suit:"钱币",number:67},{name:"钱币四",type:"小阿卡纳",suit:"钱币",number:68},{name:"钱币五",type:"小阿卡纳",suit:"钱币",number:69},{name:"钱币六",type:"小阿卡纳",suit:"钱币",number:70},{name:"钱币七",type:"小阿卡纳",suit:"钱币",number:71},{name:"钱币八",type:"小阿卡纳",suit:"钱币",number:72},{name:"钱币九",type:"小阿卡纳",suit:"钱币",number:73},{name:"钱币十",type:"小阿卡纳",suit:"钱币",number:74},{name:"钱币侍者",type:"小阿卡纳",suit:"钱币",number:75},{name:"钱币骑士",type:"小阿卡纳",suit:"钱币",number:76},{name:"钱币王后",type:"小阿卡纳",suit:"钱币",number:77},{name:"钱币国王",type:"小阿卡纳",suit:"钱币",number:78}];function $e(){const e=[...ve];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const Se={single:{name:"单牌指引",description:"在处理复杂问题或需要考虑多方面因素时，单牌布局可以提供更单纯的细节和更全面的视角，过去现在和未来",positions:["当前指引"],cardCount:1,defaultQuestions:["今天我需要关注什么？","我现在最需要的指引是什么？","宇宙想要告诉我什么？","我应该如何面对当前的困惑？","今日的能量指引"]},three:{name:"时间流牌阵",description:"在处理复杂问题或需要考虑多方面因素时，三牌布局可以提供更丰富的细节和更全面的视角，过去现在和未来",positions:["过去","现在","未来"],cardCount:3,defaultQuestions:["我的人生发展趋势如何？","这个问题的来龙去脉是什么？","我的过去如何影响现在和未来？","我应该如何规划接下来的发展？","时间会如何改变我的处境？"]},love:{name:"爱情牌阵",description:"专门为感情问题设计的牌阵，深入分析你和对方的内心世界，了解关系现状，获得发展建议，预见未来走向",positions:["你的内心","对方的内心","关系现状","发展建议","未来走向"],cardCount:5,defaultQuestions:["我和TA的感情会如何发展？","TA对我的真实想法是什么？","我们的关系现在处于什么状态？","如何改善我们之间的关系？","我的感情生活会有什么变化？","我应该如何表达我的感情？","这段关系值得我继续投入吗？","我们之间的问题如何解决？"]},career:{name:"事业牌阵",description:"全面分析事业发展和职场问题，了解当前状况，发现自身优势，识别挑战，把握机会，获得行动建议，预见结果",positions:["当前状况","优势","挑战","机会","行动建议","结果"],cardCount:6,defaultQuestions:["我的事业发展前景如何？","我应该换工作吗？","如何在职场中获得更好的发展？","我的职业规划应该如何调整？","这个工作机会适合我吗？","如何提升我的职场竞争力？","我的事业瓶颈如何突破？","什么时候是跳槽的最佳时机？"]},decision:{name:"选择牌阵",description:"面临重要决定时的最佳助手，分析现状，比较不同选择的结果，获得最佳建议，帮助你做出明智的决定",positions:["现状","选择A","选择A结果","选择B","选择B结果","最佳建议"],cardCount:6,defaultQuestions:["我应该选择A还是B？","这两个选择哪个更适合我？","我应该接受这个offer吗？","搬家还是留在原地？","继续这段关系还是分手？","创业还是继续打工？","出国还是留在国内发展？","现在投资还是继续观望？"]},celtic:{name:"凯尔特十字",description:"塔罗占卜中最经典和最全面的牌阵，适合深度分析复杂问题，从多个角度全面了解情况，获得深刻洞察",positions:["当前状况","挑战/阻碍","遥远过去","近期过去","可能未来","近期未来","你的态度","外界影响","内心恐惧","最终结果"],cardCount:10,defaultQuestions:["我人生的整体状况如何？","这个复杂问题的全面分析","我的人生方向是否正确？","如何解决我面临的复杂困境？","我的人生会有什么重大转变？","深度分析我的人际关系","我的内心世界和外在环境如何平衡？"]},chakra:{name:"七脉轮牌阵",description:"基于古老的脉轮理论，分析身心灵各个层面的状态，帮助你了解能量流动，找到平衡点，实现整体和谐",positions:["海底轮(生存)","脐轮(情感)","太阳轮(意志)","心轮(爱)","喉轮(表达)","眉心轮(直觉)","顶轮(灵性)"],cardCount:7,defaultQuestions:["我的身心灵状态如何？","如何平衡我的各个脉轮能量？","我的能量阻塞在哪里？","如何提升我的整体能量状态？","我的灵性成长方向是什么？","如何实现内在的和谐统一？","我需要在哪个层面加强修炼？"]},year:{name:"年运牌阵",description:"专为年度运势分析设计的综合牌阵，全面预测一整年的发展趋势，涵盖爱情、事业、财运、健康等各个方面",positions:["整体运势","1-3月","4-6月","7-9月","10-12月","爱情","事业","财运","健康","建议","挑战","机遇"],cardCount:12,defaultQuestions:["我今年的整体运势如何？","新的一年我应该关注什么？","今年我的爱情和事业会如何发展？","今年我会遇到什么机遇和挑战？","如何让今年过得更加顺利？","今年我的财运状况如何？","今年我需要特别注意什么？"]},mindBodySpirit:{name:"身心灵牌阵",description:"检视个人在思想、情感和精神层面的状态，找到内在平衡与和谐。",positions:["心灵/思想","身体/行动","精神/灵性"],cardCount:3,defaultQuestions:["我当前的身心灵状态如何？","我需要在哪个层面进行调整？","如何获得内在的平衡？","我的思想、行动和灵性是否一致？"]},horseshoe:{name:"马蹄铁牌阵",description:"对特定问题提供一个全面的概述，涵盖过去、现在、未来、建议和最终结果等七个方面。",positions:["过去的影响","现在的状况","未来的发展","给你的建议","环境的影响","你的希望与恐惧","最终的结果"],cardCount:7,defaultQuestions:["关于[某件事]，我需要知道些什么？","这个状况的全面分析是怎样的？","我应该如何应对当前的挑战？","这个决定的最终结果会是什么？"]}};function xe(e){const t=Se[e];return t?.defaultQuestions||[]}function Re(e){return{"愚者":"新开始,冒险,纯真","魔术师":"意志力,创造,技能","女祭司":"直觉,神秘,内在智慧","女皇":"丰饶,母性,创造力","皇帝":"权威,稳定,父性","教皇":"传统,精神指导,宗教","恋人":"爱情,选择,和谐","战车":"胜利,意志力,控制","力量":"勇气,耐心,内在力量","隐士":"内省,寻找,智慧","命运之轮":"命运,变化,循环","正义":"公正,平衡,真理","倒吊人":"牺牲,等待,新视角","死神":"转变,结束,重生","节制":"平衡,耐心,调和","恶魔":"诱惑,束缚,物质","塔":"突变,破坏,启示","星星":"希望,灵感,指引","月亮":"幻象,恐惧,潜意识","太阳":"成功,喜悦,活力","审判":"重生,觉醒,宽恕","世界":"完成,成就,圆满","权杖王牌":"新机会,创造力,灵感","权杖二":"计划,未来,个人力量","权杖三":"扩张,远见,领导力","权杖四":"庆祝,和谐,家庭","权杖五":"冲突,竞争,分歧","权杖六":"胜利,公众认可,进步","权杖七":"挑战,坚持,防御","权杖八":"快速行动,急速,消息","权杖九":"坚韧,毅力,最后防线","权杖十":"负担,责任,努力","权杖侍者":"热情,探索,信使","权杖骑士":"能量,激情,行动","权杖王后":"自信,魅力,独立","权杖国王":"领导力,远见,权威","圣杯王牌":"新感情,爱,创造力","圣杯二":"结合,伙伴,吸引","圣杯三":"庆祝,友谊,社群","圣杯四":"冷漠,沉思,重评","圣杯五":"失落,悲伤,失望","圣杯六":"怀旧,童年,重逢","圣杯七":"幻想,选择,白日梦","圣杯八":"放弃,前行,寻找","圣杯九":"满足,愿望成真,舒适","圣杯十":"和谐,家庭,幸福","圣杯侍者":"创意,直觉,信使","圣杯骑士":"浪漫,魅力,想象","圣杯王后":"同情,平静,直觉","圣杯国王":"情绪成熟,控制,慈悲","宝剑王牌":"清晰,真理,新想法","宝剑二":"僵局,逃避,艰难选择","宝剑三":"心碎,悲伤,真相","宝剑四":"休息,休战,沉思","宝剑五":"冲突,失败,不光彩的胜利","宝剑六":"过渡,前行,解脱","宝剑七":"欺骗,策略,不诚实","宝剑八":"限制,孤立,自我束缚","宝剑九":"焦虑,噩梦,恐惧","宝剑十":"终结,背叛,谷底","宝剑侍者":"好奇,警惕,信使","宝剑骑士":"野心,仓促,行动","宝剑王后":"独立,清晰,智慧","宝剑国王":"权威,真理,智力","钱币王牌":"机会,繁荣,新事业","钱币二":"平衡,适应,变化","钱币三":"团队合作,技艺,品质","钱币四":"占有,控制,稳定","钱币五":"贫困,逆境,孤立","钱币六":"慷慨,慈善,分享","钱币七":"耐心,投资,回报","钱币八":"技能,勤奋,精通","钱币九":"富足,独立,享受","钱币十":"财富,传承,家庭","钱币侍者":"新机会,学习,梦想","钱币骑士":"勤奋,可靠,责任","钱币王后":"务实,母性,滋养","钱币国王":"富裕,成功,安全"}[e]||"神秘,指引,启示"}const Ee={111:{name:"乾",symbol:"☰",nature:"天",element:"金",lines:[1,1,1]},110:{name:"兑",symbol:"☱",nature:"泽",element:"金",lines:[1,1,0]},101:{name:"离",symbol:"☲",nature:"火",element:"火",lines:[1,0,1]},"001":{name:"震",symbol:"☳",nature:"雷",element:"木",lines:[0,0,1]},"011":{name:"巽",symbol:"☴",nature:"风",element:"木",lines:[0,1,1]},"010":{name:"坎",symbol:"☵",nature:"水",element:"水",lines:[0,1,0]},100:{name:"艮",symbol:"☶",nature:"山",element:"土",lines:[1,0,0]},"000":{name:"坤",symbol:"☷",nature:"地",element:"土",lines:[0,0,0]}},Ce={1:Ee[111],2:Ee[110],3:Ee[101],4:Ee["001"],5:Ee["011"],6:Ee["010"],7:Ee[100],8:Ee["000"]},Ie=[{id:1,name:"乾为天",symbol:"☰☰",binarySymbol:"111111",upper:"乾",lower:"乾",palace:"乾",description:"元亨利贞"},{id:44,name:"天风姤",symbol:"☰☴",binarySymbol:"111011",upper:"乾",lower:"巽",palace:"乾",description:"女壮，勿用取女"},{id:33,name:"天山遁",symbol:"☰☶",binarySymbol:"111100",upper:"乾",lower:"艮",palace:"乾",description:"亨，小利贞"},{id:12,name:"天地否",symbol:"☰☷",binarySymbol:"111000",upper:"乾",lower:"坤",palace:"乾",description:"否之匪人，不利君子贞"},{id:20,name:"风地观",symbol:"☴☷",binarySymbol:"011000",upper:"巽",lower:"坤",palace:"乾",description:"盥而不荐，有孚颙若"},{id:23,name:"山地剥",symbol:"☶☷",binarySymbol:"100000",upper:"艮",lower:"坤",palace:"乾",description:"不利有攸往"},{id:35,name:"火地晋",symbol:"☲☷",binarySymbol:"101000",upper:"离",lower:"坤",palace:"乾",description:"康侯用锡马蕃庶"},{id:14,name:"火天大有",symbol:"☲☰",binarySymbol:"101111",upper:"离",lower:"乾",palace:"乾",description:"元亨"},{id:29,name:"坎为水",symbol:"☵☵",binarySymbol:"010010",upper:"坎",lower:"坎",palace:"坎",description:"习坎，有孚，维心亨"},{id:60,name:"水泽节",symbol:"☵☱",binarySymbol:"010110",upper:"坎",lower:"兑",palace:"坎",description:"亨，苦节不可贞"},{id:3,name:"水雷屯",symbol:"☵☳",binarySymbol:"010001",upper:"坎",lower:"震",palace:"坎",description:"元亨利贞，勿用有攸往"},{id:63,name:"水火既济",symbol:"☵☲",binarySymbol:"010101",upper:"坎",lower:"离",palace:"坎",description:"亨小，利贞"},{id:49,name:"泽火革",symbol:"☱☲",binarySymbol:"110101",upper:"兑",lower:"离",palace:"坎",description:"己日乃孚，元亨利贞"},{id:55,name:"雷火丰",symbol:"☳☲",binarySymbol:"001101",upper:"震",lower:"离",palace:"坎",description:"亨，王假之"},{id:36,name:"地火明夷",symbol:"☷☲",binarySymbol:"000101",upper:"坤",lower:"离",palace:"坎",description:"利艰贞"},{id:7,name:"地水师",symbol:"☷☵",binarySymbol:"000010",upper:"坤",lower:"坎",palace:"坎",description:"贞，丈人吉，无咎"},{id:52,name:"艮为山",symbol:"☶☶",binarySymbol:"100100",upper:"艮",lower:"艮",palace:"艮",description:"艮其背，不获其身"},{id:22,name:"山火贲",symbol:"☶☲",binarySymbol:"100101",upper:"艮",lower:"离",palace:"艮",description:"亨，小利有攸往"},{id:26,name:"山天大畜",symbol:"☶☰",binarySymbol:"100111",upper:"艮",lower:"乾",palace:"艮",description:"利贞，不家食吉"},{id:41,name:"山泽损",symbol:"☶☱",binarySymbol:"100110",upper:"艮",lower:"兑",palace:"艮",description:"有孚，元吉，无咎"},{id:38,name:"火泽睽",symbol:"☲☱",binarySymbol:"101110",upper:"离",lower:"兑",palace:"艮",description:"小事吉"},{id:10,name:"天泽履",symbol:"☰☱",binarySymbol:"111110",upper:"乾",lower:"兑",palace:"艮",description:"履虎尾，不咥人，亨"},{id:61,name:"风泽中孚",symbol:"☴☱",binarySymbol:"011110",upper:"巽",lower:"兑",palace:"艮",description:"豚鱼吉，利涉大川"},{id:53,name:"风山渐",symbol:"☴☶",binarySymbol:"011100",upper:"巽",lower:"艮",palace:"艮",description:"女归吉，利贞"},{id:51,name:"震为雷",symbol:"☳☳",binarySymbol:"001001",upper:"震",lower:"震",palace:"震",description:"亨，震来虩虩"},{id:16,name:"雷地豫",symbol:"☳☷",binarySymbol:"001000",upper:"震",lower:"坤",palace:"震",description:"利建侯行师"},{id:40,name:"雷水解",symbol:"☳☵",binarySymbol:"001010",upper:"震",lower:"坎",palace:"震",description:"利西南，无所往"},{id:32,name:"雷风恒",symbol:"☳☴",binarySymbol:"001011",upper:"震",lower:"巽",palace:"震",description:"亨，无咎，利贞"},{id:46,name:"地风升",symbol:"☷☴",binarySymbol:"000011",upper:"坤",lower:"巽",palace:"震",description:"元亨，用见大人，勿恤"},{id:48,name:"水风井",symbol:"☵☴",binarySymbol:"010011",upper:"坎",lower:"巽",palace:"震",description:"改邑不改井"},{id:28,name:"泽风大过",symbol:"☱☴",binarySymbol:"110011",upper:"兑",lower:"巽",palace:"震",description:"栋桡，利有攸往"},{id:17,name:"泽雷随",symbol:"☱☳",binarySymbol:"110001",upper:"兑",lower:"震",palace:"震",description:"元亨利贞，无咎"},{id:57,name:"巽为风",symbol:"☴☴",binarySymbol:"011011",upper:"巽",lower:"巽",palace:"巽",description:"小亨，利有攸往"},{id:9,name:"风天小畜",symbol:"☴☰",binarySymbol:"011111",upper:"巽",lower:"乾",palace:"巽",description:"亨，密云不雨"},{id:37,name:"风火家人",symbol:"☴☲",binarySymbol:"011101",upper:"巽",lower:"离",palace:"巽",description:"利女贞"},{id:42,name:"风雷益",symbol:"☴☳",binarySymbol:"011001",upper:"巽",lower:"震",palace:"巽",description:"利有攸往，利涉大川"},{id:25,name:"天雷无妄",symbol:"☰☳",binarySymbol:"111001",upper:"乾",lower:"震",palace:"巽",description:"元亨利贞"},{id:21,name:"火雷噬嗑",symbol:"☲☳",binarySymbol:"101001",upper:"离",lower:"震",palace:"巽",description:"亨，利用狱"},{id:27,name:"山雷颐",symbol:"☶☳",binarySymbol:"100001",upper:"艮",lower:"震",palace:"巽",description:"贞吉，观颐"},{id:18,name:"山风蛊",symbol:"☶☴",binarySymbol:"100011",upper:"艮",lower:"巽",palace:"巽",description:"元亨，利涉大川"},{id:30,name:"离为火",symbol:"☲☲",binarySymbol:"101101",upper:"离",lower:"离",palace:"离",description:"利贞，亨，畜牝牛吉"},{id:56,name:"火山旅",symbol:"☲☶",binarySymbol:"101100",upper:"离",lower:"艮",palace:"离",description:"小亨，旅贞吉"},{id:50,name:"火风鼎",symbol:"☲☴",binarySymbol:"101011",upper:"离",lower:"巽",palace:"离",description:"元吉，亨"},{id:64,name:"火水未济",symbol:"☲☵",binarySymbol:"101010",upper:"离",lower:"坎",palace:"离",description:"亨，小狐汔济，濡其尾"},{id:4,name:"山水蒙",symbol:"☶☵",binarySymbol:"100010",upper:"艮",lower:"坎",palace:"离",description:"亨，匪我求童蒙"},{id:59,name:"风水涣",symbol:"☴☵",binarySymbol:"011010",upper:"巽",lower:"坎",palace:"离",description:"亨，王假有庙"},{id:6,name:"天水讼",symbol:"☰☵",binarySymbol:"111010",upper:"乾",lower:"坎",palace:"离",description:"有孚，窒惕，中吉"},{id:13,name:"天火同人",symbol:"☰☲",binarySymbol:"111101",upper:"乾",lower:"离",palace:"离",description:"同人于野，亨"},{id:2,name:"坤为地",symbol:"☷☷",binarySymbol:"000000",upper:"坤",lower:"坤",palace:"坤",description:"元亨，利牝马之贞"},{id:24,name:"地雷复",symbol:"☷☳",binarySymbol:"000001",upper:"坤",lower:"震",palace:"坤",description:"亨，出入无疾"},{id:19,name:"地泽临",symbol:"☷☱",binarySymbol:"000110",upper:"坤",lower:"兑",palace:"坤",description:"元亨利贞，至于八月有凶"},{id:11,name:"地天泰",symbol:"☷☰",binarySymbol:"000111",upper:"坤",lower:"乾",palace:"坤",description:"小往大来，吉亨"},{id:34,name:"雷天大壮",symbol:"☳☰",binarySymbol:"001111",upper:"震",lower:"乾",palace:"坤",description:"利贞"},{id:43,name:"泽天夬",symbol:"☱☰",binarySymbol:"110111",upper:"兑",lower:"乾",palace:"坤",description:"扬于王庭，孚号有厉"},{id:5,name:"水天需",symbol:"☵☰",binarySymbol:"010111",upper:"坎",lower:"乾",palace:"坤",description:"有孚，光亨，贞吉"},{id:8,name:"水地比",symbol:"☵☷",binarySymbol:"010000",upper:"坎",lower:"坤",palace:"坤",description:"吉，原筮，元永贞，无咎"},{id:58,name:"兑为泽",symbol:"☱☱",binarySymbol:"110110",upper:"兑",lower:"兑",palace:"兑",description:"亨，利贞"},{id:47,name:"泽水困",symbol:"☱☵",binarySymbol:"110010",upper:"兑",lower:"坎",palace:"兑",description:"亨，贞，大人吉"},{id:45,name:"泽地萃",symbol:"☱☷",binarySymbol:"110000",upper:"兑",lower:"坤",palace:"兑",description:"亨，王假有庙"},{id:31,name:"泽山咸",symbol:"☱☶",binarySymbol:"110100",upper:"兑",lower:"艮",palace:"兑",description:"亨，利贞，取女吉"},{id:39,name:"水山蹇",symbol:"☵☶",binarySymbol:"010100",upper:"坎",lower:"艮",palace:"兑",description:"利西南，不利东北"},{id:15,name:"地山谦",symbol:"☷☶",binarySymbol:"000100",upper:"坤",lower:"艮",palace:"兑",description:"亨，君子有终"},{id:62,name:"雷山小过",symbol:"☳☶",binarySymbol:"001100",upper:"震",lower:"艮",palace:"兑",description:"亨，利贞，可小事"},{id:54,name:"雷泽归妹",symbol:"☳☱",binarySymbol:"001110",upper:"震",lower:"兑",palace:"兑",description:"征凶，无攸利"}],Ae=new Map,Te=new Map,_e=new Map;Ie.forEach(e=>{Ae.set(e.symbol,e),Te.set(e.binarySymbol,e)}),Object.values(Ee).forEach(e=>{_e.set(e.name,e)});const De=Ie;class Ne{static getCurrentTimeInfo(){const e=new Date;return this.getTimeInfo(e)}static calculateHourIndex(e){return e>=23||e<1?0:e>=1&&e<3?1:e>=3&&e<5?2:e>=5&&e<7?3:e>=7&&e<9?4:e>=9&&e<11?5:e>=11&&e<13?6:e>=13&&e<15?7:e>=15&&e<17?8:e>=17&&e<19?9:e>=19&&e<21?10:e>=21&&e<23?11:0}static getTimeInfo(e){try{const t=D.fromYmd(e.getFullYear(),e.getMonth()+1,e.getDate()),n=t.getLunarDay(),i=t.getTerm(),a=e.getHours(),o=n.getHours(),s=o[this.calculateHourIndex(a)]||o[0];return{solar:{year:t.getYear(),month:t.getMonth(),day:t.getDay(),hour:e.getHours(),minute:e.getMinutes()},lunar:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString(),yearInChinese:n.toString().split("年")[0]+"年",monthInChinese:n.toString().split("年")[1].split("月")[0]+"月",dayInChinese:n.toString().split("月")[1],hourInChinese:s.toString().slice(-2)+"时",monthNumber:n.getMonth(),dayNumber:n.getDay()},ganzhi:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString()},eightChar:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString()},jieQi:i.getName()}}catch(t){throw t}}static getGanZhi(e){const t=e||new Date;try{const e=D.fromYmd(t.getFullYear(),t.getMonth()+1,t.getDate()).getLunarDay(),n=t.getHours(),i=e.getHours(),a=i[this.calculateHourIndex(n)]||i[0];return{year:e.getYearSixtyCycle().toString(),month:e.getMonthSixtyCycle().toString(),day:e.getSixtyCycle().toString(),hour:a.getSixtyCycle().toString()}}catch(n){throw n}}static getLunar(e){const t=e||new Date;try{const e=D.fromYmd(t.getFullYear(),t.getMonth()+1,t.getDate()).getLunarDay(),n=t.getHours(),i=e.getHours(),a=i[this.calculateHourIndex(n)]||i[0];return{year:e.getYearSixtyCycle().toString(),month:e.getMonthSixtyCycle().toString(),day:e.getSixtyCycle().toString(),hour:a.getSixtyCycle().toString(),yearInChinese:e.toString().split("年")[0]+"年",monthInChinese:e.toString().split("年")[1].split("月")[0]+"月",dayInChinese:e.toString().split("月")[1],hourInChinese:a.toString().slice(-2)+"时",monthNumber:e.getMonth(),dayNumber:e.getDay()}}catch(n){throw n}}static getVoidBranches(e){return{"甲子":["戌","亥"],"乙丑":["戌","亥"],"丙寅":["戌","亥"],"丁卯":["戌","亥"],"戊辰":["戌","亥"],"己巳":["戌","亥"],"庚午":["戌","亥"],"辛未":["戌","亥"],"壬申":["戌","亥"],"癸酉":["戌","亥"],"甲戌":["申","酉"],"乙亥":["申","酉"],"丙子":["申","酉"],"丁丑":["申","酉"],"戊寅":["申","酉"],"己卯":["申","酉"],"庚辰":["申","酉"],"辛巳":["申","酉"],"壬午":["申","酉"],"癸未":["申","酉"],"甲申":["午","未"],"乙酉":["午","未"],"丙戌":["午","未"],"丁亥":["午","未"],"戊子":["午","未"],"己丑":["午","未"],"庚寅":["午","未"],"辛卯":["午","未"],"壬辰":["午","未"],"癸巳":["午","未"],"甲午":["辰","巳"],"乙未":["辰","巳"],"丙申":["辰","巳"],"丁酉":["辰","巳"],"戊戌":["辰","巳"],"己亥":["辰","巳"],"庚子":["辰","巳"],"辛丑":["辰","巳"],"壬寅":["辰","巳"],"癸卯":["辰","巳"],"甲辰":["寅","卯"],"乙巳":["寅","卯"],"丙午":["寅","卯"],"丁未":["寅","卯"],"戊申":["寅","卯"],"己酉":["寅","卯"],"庚戌":["寅","卯"],"辛亥":["寅","卯"],"壬子":["寅","卯"],"癸丑":["寅","卯"],"甲寅":["子","丑"],"乙卯":["子","丑"],"丙辰":["子","丑"],"丁巳":["子","丑"],"戊午":["子","丑"],"己未":["子","丑"],"庚申":["子","丑"],"辛酉":["子","丑"],"壬戌":["子","丑"],"癸亥":["子","丑"]}[e]||[]}static getSixAnimalsStart(e){return{"甲":"青龙","乙":"青龙","丙":"朱雀","丁":"朱雀","戊":"勾陈","己":"螣蛇","庚":"白虎","辛":"白虎","壬":"玄武","癸":"玄武"}[e]||"青龙"}static getSixAnimals(e){const t=["青龙","朱雀","勾陈","螣蛇","白虎","玄武"],n=this.getSixAnimalsStart(e),i=t.indexOf(n),a=[];for(let o=0;o<6;o++)a.push(t[(i+o)%6]);return a}static formatTimeDisplay(e){const{solar:t,lunar:n,ganzhi:i}=e;return{solar:`公历：${t.year}年${t.month}月${t.day}日 ${t.hour}时${t.minute}分`,lunar:`农历：${n.yearInChinese}年 ${n.monthInChinese}月${n.dayInChinese}日 ${n.hourInChinese}时`,ganzhi:`干支：${i.year}年 ${i.month}月 ${i.day}日 ${i.hour}时`}}}const ke=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],Oe={"金":["申","酉"],"木":["寅","卯"],"水":["子","亥"],"火":["巳","午"],"土":["辰","戌","丑","未"]},qe={"金":{"金":"兄弟","木":"妻财","水":"子孙","火":"官鬼","土":"父母"},"木":{"木":"兄弟","土":"妻财","火":"子孙","金":"官鬼","水":"父母"},"水":{"水":"兄弟","火":"妻财","木":"子孙","土":"官鬼","金":"父母"},"火":{"火":"兄弟","金":"妻财","土":"子孙","水":"官鬼","木":"父母"},"土":{"土":"兄弟","水":"妻财","金":"子孙","木":"官鬼","火":"父母"}},Pe={"乾":{name:"乾",wuxing:"金"},"兑":{name:"兑",wuxing:"金"},"离":{name:"离",wuxing:"火"},"震":{name:"震",wuxing:"木"},"巽":{name:"巽",wuxing:"木"},"坎":{name:"坎",wuxing:"水"},"艮":{name:"艮",wuxing:"土"},"坤":{name:"坤",wuxing:"土"}},je={"乾":["乾为天","天风姤","天山遁","天地否","风地观","山地剥","火地晋","火天大有"],"坎":["坎为水","水泽节","水雷屯","水火既济","泽火革","雷火丰","地火明夷","地水师"],"艮":["艮为山","山火贲","山天大畜","山泽损","火泽睽","天泽履","风泽中孚","风山渐"],"震":["震为雷","雷地豫","雷水解","雷风恒","地风升","水风井","泽风大过","泽雷随"],"巽":["巽为风","风天小畜","风火家人","风雷益","天雷无妄","火雷噬嗑","山雷颐","山风蛊"],"离":["离为火","火山旅","火风鼎","火水未济","山水蒙","风水涣","天水讼","天火同人"],"坤":["坤为地","地雷复","地泽临","地天泰","雷天大壮","泽天夬","水天需","水地比"],"兑":["兑为泽","泽水困","泽地萃","泽山咸","水山蹇","地山谦","雷山小过","雷泽归妹"]},Me=Object.entries(je).reduce((e,[t,n])=>(n.forEach(n=>{e[n]=t}),e),{}),Le={"乾为天":["子","寅","辰","午","申","戌"],"天风姤":["丑","亥","酉","午","申","戌"],"天山遁":["辰","午","申","午","申","戌"],"天地否":["未","巳","卯","午","申","戌"],"风地观":["未","巳","卯","酉","亥","丑"],"山地剥":["未","巳","卯","辰","午","申"],"火地晋":["未","巳","卯","酉","未","巳"],"火天大有":["子","寅","辰","酉","未","巳"],"坎为水":["寅","辰","午","申","戌","子"],"水泽节":["巳","卯","丑","申","戌","子"],"水雷屯":["子","寅","辰","申","戌","子"],"水火既济":["卯","丑","亥","申","戌","子"],"泽火革":["卯","丑","亥","未","酉","亥"],"雷火丰":["卯","丑","亥","午","申","戌"],"地火明夷":["卯","丑","亥","酉","未","巳"],"地水师":["寅","辰","午","酉","未","巳"],"艮为山":["辰","午","申","戌","子","寅"],"山火贲":["卯","丑","亥","戌","子","寅"],"山天大畜":["子","寅","辰","戌","子","寅"],"山泽损":["巳","卯","丑","戌","子","寅"],"火泽睽":["巳","卯","丑","未","酉","亥"],"天泽履":["巳","卯","丑","午","申","戌"],"风泽中孚":["巳","卯","丑","酉","亥","丑"],"风山渐":["辰","午","申","酉","亥","丑"],"震为雷":["子","寅","辰","午","申","戌"],"雷地豫":["未","巳","卯","午","申","戌"],"雷水解":["寅","辰","午","午","申","戌"],"雷风恒":["丑","亥","酉","午","申","戌"],"地风升":["丑","亥","酉","卯","巳","未"],"水风井":["丑","亥","酉","寅","辰","午"],"泽风大过":["丑","亥","酉","未","酉","亥"],"泽雷随":["子","寅","辰","未","酉","亥"],"巽为风":["丑","亥","酉","未","巳","卯"],"风天小畜":["子","寅","辰","未","巳","卯"],"风火家人":["卯","丑","亥","未","巳","卯"],"风雷益":["子","寅","辰","未","巳","卯"],"天雷无妄":["子","寅","辰","午","申","戌"],"火雷噬嗑":["子","寅","辰","酉","未","巳"],"山雷颐":["子","寅","辰","辰","午","申"],"山风蛊":["丑","亥","酉","辰","午","申"],"离为火":["卯","丑","亥","酉","未","巳"],"火山旅":["辰","午","申","酉","未","巳"],"火风鼎":["丑","亥","酉","酉","未","巳"],"火水未济":["寅","辰","午","酉","未","巳"],"山水蒙":["寅","辰","午","辰","午","申"],"风水涣":["寅","辰","午","酉","亥","丑"],"天水讼":["寅","辰","午","午","申","戌"],"天火同人":["卯","丑","亥","午","申","戌"],"坤为地":["未","巳","卯","丑","亥","酉"],"地雷复":["子","寅","辰","丑","亥","酉"],"地泽临":["巳","卯","丑","丑","亥","酉"],"地天泰":["子","寅","辰","丑","亥","酉"],"雷天大壮":["子","寅","辰","午","申","戌"],"泽天夬":["子","寅","辰","未","酉","亥"],"水天需":["子","寅","辰","申","戌","子"],"水地比":["未","巳","卯","申","戌","子"],"兑为泽":["巳","卯","丑","亥","酉","未"],"泽水困":["寅","辰","午","亥","酉","未"],"泽地萃":["未","巳","卯","亥","酉","未"],"泽山咸":["辰","午","申","亥","酉","未"],"水山蹇":["辰","午","申","寅","辰","午"],"地山谦":["辰","午","申","未","巳","卯"],"雷山小过":["辰","午","申","午","申","戌"],"雷泽归妹":["巳","卯","丑","午","申","戌"]};class He{static getDivinationTime(e){return{timeInfo:e?this.getTimeInfo(e):Ne.getCurrentTimeInfo(),ganzhi:e?this.getGanZhi(e):Ne.getGanZhi(),timestamp:e?e.getTime():Date.now()}}static getSeededRandom(e,t=1){return((1664525*(e%2147483647)+1013904223)%2147483647%t+t)%t}static generateYaosByTime(e,t=6){const n=[];for(let i=0;i<t;i++){const t=e+1e3*i,a=this.getSeededRandom(t,4);n.push([6,7,8,9][a])}return n}static getGanZhi(e){const t=D.fromYmd(e.getFullYear(),e.getMonth()+1,e.getDate()).getLunarDay(),n=e.getHours(),i=t.getHours(),a=i[this.calculateHourIndex(n)]||i[0];return{year:t.getYearSixtyCycle().toString(),month:t.getMonthSixtyCycle().toString(),day:t.getSixtyCycle().toString(),hour:a.getSixtyCycle().toString()}}static getTimeInfo(e){const t=D.fromYmd(e.getFullYear(),e.getMonth()+1,e.getDate()),n=t.getLunarDay(),i=t.getTerm(),a=e.getHours(),o=n.getHours(),s=o[this.calculateHourIndex(a)]||o[0];return{solar:{year:t.getYear(),month:t.getMonth(),day:t.getDay(),hour:e.getHours(),minute:e.getMinutes()},lunar:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString(),yearInChinese:n.toString().split("年")[0]+"年",monthInChinese:n.toString().split("年")[1].split("月")[0]+"月",dayInChinese:n.toString().split("月")[1],hourInChinese:s.toString().slice(-2)+"时",monthNumber:n.getMonth(),dayNumber:n.getDay()},ganzhi:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString()},eightChar:{year:n.getYearSixtyCycle().toString(),month:n.getMonthSixtyCycle().toString(),day:n.getSixtyCycle().toString(),hour:s.getSixtyCycle().toString()},jieQi:i.getName()}}static calculateHourIndex(e){return e>=23||e<1?0:e>=1&&e<3?1:e>=3&&e<5?2:e>=5&&e<7?3:e>=7&&e<9?4:e>=9&&e<11?5:e>=11&&e<13?6:e>=13&&e<15?7:e>=15&&e<17?8:e>=17&&e<19?9:e>=19&&e<21?10:e>=21&&e<23?11:0}}const ze=He.getDivinationTime.bind(He),Ye=He.generateYaosByTime.bind(He);function Ge(e,t){const n=[],i=Le[e];if(!i)throw new Error(`找不到卦象 "${e}" 的纳甲信息。`);for(let a=0;a<6;a++){const e=i[a],o=Object.keys(Oe).find(t=>Oe[t].includes(e))||"",s=qe[t.wuxing][o];n.push({dizhi:e,wuxing:o,liuqin:s})}return n}function Ve(e){const t=["","","","","",""];return t[e.shi-1]="世",t[e.ying-1]="应",t}function Be(e){const{ganzhi:t,timestamp:n}=ze(e),i=Ye(n,6),a=i.map(e=>7===e||9===e?"阳":"阴"),o=i.map((e,t)=>6===e?"阳":9===e?"阴":a[t]),s=a.map(e=>"阳"===e?"1":"0").reverse().join(""),r=o.map(e=>"阳"===e?"1":"0").reverse().join("");var l;const c=[...(l=a).slice(1,4),...l.slice(2,5)].map(e=>"阳"===e?"1":"0").reverse().join(""),u=De.find(e=>e.binarySymbol===s),m=De.find(e=>e.binarySymbol===r),d=De.find(e=>e.binarySymbol===c);if(!u||!m||!d)throw new Error(`卦象查找失败: 主=${s}, 变=${r}, 互=${c}`);const p=(e=>Ne.getSixAnimals(e))(t.day.substring(0,1)),y=function(e){const t=Me[e];return Pe[t]}(u.name),g=Ge(u.name,y),h=function(e,t){const n=je[t];if(!n)throw new Error(`找不到宫位 "${t}" 的卦象列表。`);const i=n.indexOf(e);if(-1===i)throw new Error(`卦象 "${e}" 不在宫位 "${t}" 的列表中。`);const a={"首卦":6,"一世":1,"二世":2,"三世":3,"四世":4,"五世":5,"游魂":4,"归魂":3}[["首卦","一世","二世","三世","四世","五世","游魂","归魂"][i]];return{shi:a,ying:a+3>6?a-3:a+3}}(u.name,y.name),b=(f=t.day,Ne.getVoidBranches(f));var f;const w=Ge(m.name,y),v=i.map((e,t)=>({position:t+1,isChanging:6===e||9===e,type:6===e?"老阴":9===e?"老阳":"静爻"})).filter(e=>e.isChanging);return{originalName:u.name,changedName:m.name,interName:d.name,yaoArray:i,changingYaos:v,sixGods:p,sixRelatives:g.map(e=>e.liuqin),najiaDizhi:g.map(e=>e.dizhi),wuxing:g.map(e=>e.wuxing),worldAndResponse:Ve(h),voidBranches:b,palace:y,ganzhi:t,yaosDetail:g.map((e,t)=>{const n=6===i[t]||9===i[t],o=n?w[t]:null;return{position:t+1,rawValue:i[t],yaoType:a[t],isChanging:n,changeType:6===i[t]?"老阴":9===i[t]?"老阳":"静爻",sixGod:p[t],sixRelative:e.liuqin,najiaDizhi:e.dizhi,wuxing:e.wuxing,isWorld:h.shi===t+1,isResponse:h.ying===t+1,isVoid:b.includes(e.dizhi),changedYao:o?{dizhi:o.dizhi,wuxing:o.wuxing,liuqin:o.liuqin,isVoid:b.includes(o.dizhi)}:null}}),timestamp:n}}const Fe={getChangedYaoType:e=>"阳"===e?"阴":"阳",getChangedYaoInfo(e){if(e.isChanging&&e.changedYao){const{liuqin:t,dizhi:n,wuxing:i}=e.changedYao;return`${t}${n}${i}`}return`${e.sixRelative}${e.najiaDizhi}${e.wuxing}`},reverseYaosDetail:e=>e?[...e].reverse():[],formatGanZhi(e){if(!e)return"";const{year:t,month:n,day:i,hour:a}=e;return`${t}年 ${n}月 ${i}日 ${a}时`},formatVoidBranches:e=>e&&0!==e.length?`[${e.join("、")}:空]`:"",getChangeMarkSymbol:e=>6===e?"×":9===e?"●":"",isChangingYao:e=>6===e||9===e,getWorldResponseMark:(e,t)=>e?"世":t?"应":"",getVoidMark:e=>e?"空":"",validateDivinationData(e){const t=[];return e.originalName||t.push("缺少主卦名称"),e.yaosDetail&&6===e.yaosDetail.length||t.push("爻象数据不完整"),e.palace||t.push("缺少宫位信息"),{isValid:0===t.length,errors:t}},generateDivinationSummary(e){const t=e.yaosDetail?.filter(e=>e.isChanging).length||0,n=e.voidBranches?.length?` 空亡：${e.voidBranches.join("、")}`:"";return`${e.originalName} → ${e.changedName} (${t}个动爻)${n}`},generatePaipanData(e){return e.yaosDetail?e.yaosDetail.map((e,t)=>({...e,displayPosition:6-t,changeMarkSymbol:this.getChangeMarkSymbol(e.rawValue),worldResponseMark:this.getWorldResponseMark(e.isWorld,e.isResponse),voidMark:this.getVoidMark(e.isVoid),changedYaoType:this.getChangedYaoType(e.yaoType),changedYaoInfo:this.getChangedYaoInfo(e)})):[]},analyzeHexagram(e){const t=e.yaosDetail?.filter(e=>e.isChanging)||[],n=e.yaosDetail?.filter(e=>e.isVoid)||[];return{changingCount:t.length,voidCount:n.length,hasWorld:e.yaosDetail?.some(e=>e.isWorld)||!1,hasResponse:e.yaosDetail?.some(e=>e.isResponse)||!1,changingPositions:t.map(e=>e.position),voidPositions:n.map(e=>e.position),palace:e.palace?.name||"",palaceElement:e.palace?.wuxing||""}},generateInterpretationPoints(e){const t=this.analyzeHexagram(e),n=[];return n.push(`主卦：${e.originalName}（${t.palace}宫）`),n.push(`变卦：${e.changedName}`),e.interName&&n.push(`互卦：${e.interName}`),t.changingCount>0?n.push(`动爻：第${t.changingPositions.join("、")}爻（共${t.changingCount}个）`):n.push("静卦：无动爻"),t.voidCount>0&&n.push(`空亡：第${t.voidPositions.join("、")}爻`),t.hasWorld&&t.hasResponse&&n.push("世应俱全，卦象完整"),n}},We={analyzeMeihuaHexagram(e){const t=e.yaosDetail?.find(e=>e.isChanging);return{hasMovingYao:!!t,movingYaoPosition:t?.position||0,upperTrigramElement:e.mainHexagram?.upper||"",lowerTrigramElement:e.mainHexagram?.lower||"",elementRelation:this.getElementRelation(e.tiGua?.element||"",e.yongGua?.element||"")}},generateMeihuaInterpretationPoints(e){const t=[];t.push(`主卦：${e.originalName}`),t.push(`变卦：${e.changedName}`),e.interName&&t.push(`互卦：${e.interName}`),e.mainHexagram?.upper&&e.mainHexagram?.lower&&t.push(`上卦${e.mainHexagram.upper}（${e.tiGua.element}），下卦${e.mainHexagram.lower}（${e.yongGua.element}）`),e.movingYao&&t.push(`${e.movingYao.description}`);const n=this.analyzeMeihuaHexagram(e);return n.elementRelation&&t.push(`五行关系：${n.elementRelation}`),t},getElementRelation:(e,t)=>({"金":{"金":"比和","木":"相克","水":"相生","火":"相克","土":"相生"},"木":{"金":"相克","木":"比和","水":"相生","火":"相生","土":"相克"},"水":{"金":"相生","木":"相生","水":"比和","火":"相克","土":"相克"},"火":{"金":"相克","木":"相生","水":"相克","火":"比和","土":"相生"},"土":{"金":"相生","木":"相克","水":"相克","火":"相生","土":"比和"}}[e]?.[t]||"未知")},Ue=De.map(e=>({number:e.id,name:e.name,symbol:e.symbol,description:e.description})),Qe=Ce;function Ke(e,t){const n=Ce[(e-1)%8+1],i=Ce[(t-1)%8+1];return Ue.find(e=>e.symbol===`${n.symbol}${i.symbol}`)}const{dizhi:Ze,diPanPalaces:Je,palaceStars:Xe,palaceDoors:et,palaceDoorMap:tt,yangGods:nt,yinGods:it,ninePositions:at,jieQiJuShuMap:ot}={dizhi:["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],diPanPalaces:{"子":1,"丑":8,"寅":8,"卯":3,"辰":4,"巳":4,"午":9,"未":2,"申":2,"酉":7,"戌":6,"亥":6},palaceStars:["天蓬","天芮","天冲","天辅","天禽","天心","天柱","天任","天英"],palaceDoors:["休门","生门","伤门","杜门","景门","死门","惊门","开门"],palaceDoorMap:{1:"休门",8:"生门",3:"伤门",4:"杜门",9:"景门",2:"死门",7:"惊门",6:"开门"},yangGods:["值符","螣蛇","太阴","六合","九天","九地","玄武","白虎"],yinGods:["值符","螣蛇","太阴","六合","白虎","玄武","九地","九天"],ninePositions:[{name:"坎一宫",direction:"正北",element:"水"},{name:"坤二宫",direction:"西南",element:"土"},{name:"震三宫",direction:"正东",element:"木"},{name:"巽四宫",direction:"东南",element:"木"},{name:"中五宫",direction:"中央",element:"土"},{name:"乾六宫",direction:"西北",element:"金"},{name:"兑七宫",direction:"正西",element:"金"},{name:"艮八宫",direction:"东北",element:"土"},{name:"离九宫",direction:"正南",element:"火"}],jieQiJuShuMap:{"冬至":{dun:"阳",ju:[1,7,4]},"小寒":{dun:"阳",ju:[2,8,5]},"大寒":{dun:"阳",ju:[3,9,6]},"立春":{dun:"阳",ju:[8,5,2]},"雨水":{dun:"阳",ju:[9,6,3]},"惊蛰":{dun:"阳",ju:[1,7,4]},"春分":{dun:"阳",ju:[3,9,6]},"清明":{dun:"阳",ju:[4,1,7]},"谷雨":{dun:"阳",ju:[5,2,8]},"立夏":{dun:"阳",ju:[4,1,7]},"小满":{dun:"阳",ju:[5,2,8]},"芒种":{dun:"阳",ju:[6,3,9]},"夏至":{dun:"阴",ju:[9,3,6]},"小暑":{dun:"阴",ju:[8,2,5]},"大暑":{dun:"阴",ju:[7,1,4]},"立秋":{dun:"阴",ju:[2,5,8]},"处暑":{dun:"阴",ju:[1,4,7]},"白露":{dun:"阴",ju:[9,3,6]},"秋分":{dun:"阴",ju:[7,1,4]},"寒露":{dun:"阴",ju:[6,9,3]},"霜降":{dun:"阴",ju:[5,8,2]},"立冬":{dun:"阴",ju:[6,9,3]},"小雪":{dun:"阴",ju:[5,8,2]},"大雪":{dun:"阴",ju:[4,7,1]}}},st=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"];function rt(e){const{timeInfo:t,ganzhi:n,timestamp:i}=ze(e),{jieQi:a}=t,{isYangDun:o,juShu:s,yuan:r}=function(e){const{jieQi:t,ganzhi:n}=e,i=n.day,a=ot[t];if(!a)throw new Error(`找不到节气 "${t}" 对应的局数规则。`);const o="阳"===a.dun,s=i.charAt(0),r=i.charAt(1),l=st.indexOf(s),c=Ze.indexOf(r),u="甲"+Ze[(c-l+12)%12];let m,d;return"甲子"===u||"甲午"===u?(m=0,d="上元"):"甲寅"===u||"甲申"===u?(m=1,d="中元"):(m=2,d="下元"),{isYangDun:o,juShu:a.ju[m],yuan:d}}(t),{zhiFu:l,zhiShi:c}=function(e){const t=e.charAt(0),n=e.charAt(1),i=st.indexOf(t),a=Ze.indexOf(n),o=Ze[(a-i+12)%12],s=Je[o];return{zhiFu:Xe[s-1],zhiShi:tt[s],zhiFuPalace:s}}(n.hour),u=function(e,t,n,i,a){const o=Array.from({length:9},(e,t)=>({gong:t+1,name:at[t].name,direction:at[t].direction,element:at[t].element,tianPan:{star:"",stem:""},diPan:{stem:""},renPan:{door:""},shenPan:{god:""}})),s=["戊","己","庚","辛","壬","癸","丁","丙","乙"];for(let b=0;b<9;b++)o[(e?(t+b-1+9)%9+1:(t-b-1+9)%9+1)-1].diPan.stem=s[b];o[4].diPan.stem&&(o[1].diPan.stem=o[4].diPan.stem,o[4].diPan.stem="");const r=a.hour.charAt(0),l=a.hour.charAt(1),c="甲"===r?"戊":r;let u=-1;for(let b=0;b<9;b++)if(o[b].diPan.stem===c){u=b+1;break}if(-1===u)throw new Error("找不到时干落宫");const m=Je[l],d=Xe.indexOf(n);for(let b=0;b<9;b++){const t=(u-1+(e?b:-b)+9)%9,n=(d+b+9)%9,i=Xe[n];o[t].tianPan.star=i;let a=n;"天禽"===i&&(a=1),o[t].tianPan.stem=o[a].diPan.stem}const p=e?nt:it;for(let b=0;b<8;b++){const t=(u-1+(e?b:-b)+9)%9;4!==t&&(o[t].shenPan.god=p[b])}o[u-1].shenPan.god="值符";const y=et.indexOf(i),g=[1,8,3,4,9,2,7,6],h=g.indexOf(m);for(let b=0;b<8;b++){const t=(y+b+8)%8;o[g[(h+(e?b:-b)+8)%8]-1].renPan.door=et[t]}return o}(o,s,l,c,{hour:n.hour});return{timeInfo:{solarTerm:a,epoch:r},ganzhi:n,isYangDun:o,juShu:s,zhiFu:l,zhiShi:c,jiuGongGe:u,timestamp:i}}const lt=[{id:1,title:"第一签 唐天子游凤凰山（上上签）",qianwen:"敕到凤凰池，好事莫嫌迟，黄金来助你，神鬼不敢欺",story:"唐天子游凤凰山，凤凰为祥瑞之鸟，天子出游，必有盛事。此乃大吉之兆，预示着将有极大的荣耀和喜事发生。",details:{"凡事做事":"大吉大利，所谋皆成。虽然好事可能会稍晚一些到来，但最终必将圆满。有神明庇佑，小人不敢加害。","爱情婚姻":"天赐良缘，佳偶天成。若是寻觅对象，佳音将至；若是有情人，则终成眷属。婚后和谐美满，幸福长久。","工作求职 创业事业":"事业运极佳，有贵人鼎力相助，如得天子敕令，平步青云。求职者能得心仪职位，创业者能大展宏图，财源广进。","考试竞赛 升迁竞选":"考运亨通，金榜题名。升迁竞选能脱颖而出，得到上级赏识和群众支持，前途光明。","投资理财":"财运旺盛，投资可获厚利。有如黄金相助，无往不利，是积累财富的好时机。","经商生意":"生意兴隆，财源滚滚。有神鬼护持，可避开风险，大展鸿图，名利双收。","房地交易":"交易可成，且能获利。无论是购入还是卖出，都是一个非常好的时机。","治病健康":"身体安康，福寿绵长。若有小恙，很快就能痊愈，如得神助。","转换变更":"变更大吉，往更好的方向发展。无论是换工作、搬家还是改变计划，都是良机。","求孕求子":"喜得贵子，母子平安，子女将来必成大器。","官司诉讼":"能得胜诉，有理走遍天下。神明庇佑，邪不胜正，必得公正裁决。","寻人寻物":"失物可寻，走失之人不久将归，且安然无恙。","远行出国":"出行顺利，一路平安，在外能有奇遇和丰厚收获。"}},{id:2,title:"第二签 武后生太子登基（中平签）",qianwen:"国泰民安乐，官清人自作，路上往来人，乡村处处乐",story:"武则天之子登基，天下呈现一派和平景象。此签预示着表面和平安乐，但需明白福祸皆由人自招，仍需谨慎行事。",details:{"凡事做事":"平顺安稳，无大风浪。凡事顺其自然，不必强求，坚守本分，自有安乐。","爱情婚姻":"感情平淡，关系稳定。是细水长流的感情，无大起大落，珍惜眼前平淡的幸福。","工作求职 创业事业":"工作稳定，事业平顺。适合守成，不宜冒进。按部就班，自有收获。","考试竞赛 升迁竞选":"表现平平，结果尚可。尽力而为，不必过于苛求名次。","投资理财":"财运平稳，适合稳健型投资，不宜进行高风险的投机。","经商生意":"生意平稳，小有盈利。维持现状，静待更好的时机。","房地交易":"交易平顺，价格合理，不会有太大波折。","治病健康":"身体无大碍，注意日常保养，保持心境平和即可。","转换变更":"不宜大的变动，维持现状为佳，静观其变。","求孕求子":"顺其自然，不必强求，时机到了自然会来。","官司诉讼":"以和为贵，大事化小，小事化了，避免争端。","寻人寻物":"在附近，耐心寻找可见，不会走远。","远行出国":"出行平安，但可能无太大的惊喜和收获。"}},{id:3,title:"第三签 王双福火烧临红楼（下下签）",qianwen:"门前犬吠哀，福去祸又来，劝君休借问，凡事请沉埋",story:"王双福是小说中的悲剧人物，此签为大凶之兆。临红楼被烧，家业毁于一旦，预示着灾祸临头。",details:{"凡事做事":"凶多吉少，灾祸接踵而至。此时宜静不宜动，凡事隐忍，避免与人争执，低调行事。","爱情婚姻":"感情易生变故，或有第三者介入，或因误会而分离。关系岌岌可危，有分手之虞。","工作求职 创业事业":"事业遭遇重大挫折，前途黯淡。求职无门，创业失败。宜暂停所有计划，谨防小人。","考试竞赛 升迁竞选":"名落孙山，希望渺茫。竞争失利，难有出头之日。","投资理财":"破财之兆，投资必亏。切勿轻举妄动，保本为上。","经商生意":"生意惨淡，有倒闭之险，亏损严重。","房地交易":"交易大凶，必有重大损失，切勿进行。","治病健康":"病情加重，需小心调养，甚至有生命危险，应立即寻求良医。","转换变更":"动则招祸，切勿变更，留在原地尚能自保。","求孕求子":"难有所成，希望渺茫，需多加调养身体。","官司诉讼":"必败无疑，恐有牢狱之灾，应尽力寻求和解。","寻人寻物":"难以寻回，凶多吉少，希望渺茫。","远行出国":"大凶，不宜远行，途中多有险阻。"}},{id:4,title:"第四签 郭子仪拜寿（大吉签）",qianwen:"父子一家人，富贵有长春，贵人相接引，家庆贺东君",story:"郭子仪是唐朝名将，福禄寿全，七子八婿皆为朝廷显官。此为大吉大利，家庭和睦，富贵绵长之兆。",details:{"凡事做事":"万事如意，家庭和睦，富贵双全。有贵人提携，事事顺利，家中喜事连连。","爱情婚姻":"佳偶天成，婚姻美满。家庭幸福，子女贤孝，是人人羡慕的神仙眷侣。","工作求职 创业事业":"事业兴旺，步步高升。有贵人引荐，前途无量，能成就一番大事业。","考试竞赛 升迁竞选":"独占鳌头，高中无疑。升迁顺利，众望所归，能得到重要职位。","投资理财":"财运亨通，投资回报丰厚，可大胆进行。","经商生意":"生意兴隆，合家欢乐，财源广进，规模不断扩大。","房地交易":"交易顺利，能得理想价格，是置产的好时机。","治病健康":"福寿安康，疾病远离，身心康泰。","转换变更":"变更大吉，更上一层楼，能带来更好的发展。","求孕求子":"喜得麟儿，光耀门楣，子孙满堂。","官司诉讼":"得道多助，官司必胜，能得到公正的结果。","寻人寻物":"能顺利寻回，且物归原主，人亦平安。","远行出国":"出行大吉，满载而归，在外发展顺利。"}},{id:5,title:"第五签 杨大贵代天巡按（中平签）",qianwen:"天子驾行程，侯臣在两边，将军手按剑，士卒不敢行",story:"杨大贵代天巡按，代表权威与秩序。场面虽然盛大，但气氛严肃，人人自危，不敢轻举妄动。预示着事情处于一种严格的控制之下。",details:{"凡事做事":"表面风光，实则压力重重。凡事需谨慎小心，遵守规矩，不可越雷池一步。","爱情婚姻":"关系严肃，缺乏柔情。双方可能过于强势或拘谨，需要多加沟通，增加生活情趣。","工作求职 创业事业":"工作环境纪律严明，压力较大。需步步为营，不可行差踏错，否则后果严重。","考试竞赛 升迁竞选":"竞争激烈，气氛紧张。需有真才实学，并严格遵守规则，方能脱颖而出。","投资理财":"市场不明，政策多变，宜观望，不宜入市。","经商生意":"经营困难，受大环境制约，需小心维持，不可扩张。","房地交易":"交易有阻碍，不易成功，过程多有掣肘。","治病健康":"病情稳定，但需长期严格遵从医嘱调理，不可掉以轻心。","转换变更":"时机未到，不宜变动，强行改变会引来麻烦。","求孕求子":"需要耐心等待，不可急躁，顺其自然为好。","官司诉讼":"程序复杂，过程漫长，需要有耐心和毅力。","寻人寻物":"受到阻碍，不易寻得，需要通过正当渠道。","远行出国":"手续繁琐，阻碍较多，需要充分准备。"}},{id:6,title:"第六签 李三娘教子（中下签）",qianwen:"封侯得意回，龙门第一科，展开龙虎榜，平地一声雷",story:"李三娘历尽艰辛，教子成才，其子最终金榜题名。此签看似荣耀，实则先苦后甜，成功来之不易，且可能伴随突如其来的变故。",details:{"凡事做事":"成功背后有辛酸。事情看似有好的结果，但过程艰难，且成功后可能引发意想不到的震动或问题。","爱情婚姻":"关系来之不易，需经历考验。成功结合后，仍需面对各种挑战。","工作求职 创业事业":"经过长期努力终获成功，但成功可能带来新的问题或人事震荡，需有心理准备。","考试竞赛 升迁竞选":"成绩优异，金榜题名。但这种成功会引起周围人的嫉妒和议论，需低调行事。","投资理财":"高回报伴随高风险，可能一朝获利，也可能一夕成空。","经商生意":"生意上会取得突破性进展，但也可能因此引发同行的恶性竞争。","房地交易":"交易可成，但过程一波三折，且成交后可能有纠纷。","治病健康":"病情看似好转，但可能有突发状况，不可大意。","转换变更":"变更会带来意想不到的结果，好坏难料，需三思。","求孕求子":"求子艰难，但最终能如愿，只是过程辛苦。","官司诉讼":"看似胜券在握，但可能有意外变数，导致结果逆转。","寻人寻物":"能找到，但方式可能出人意料，如同平地惊雷。","远行出国":"出行会带来巨大改变，但前路福祸相依。"}},{id:7,title:"第七签 齐楚两国相争（中平签）",qianwen:"齐楚并相连，何事去请兵，不如家中坐，谁能谁不能",story:"齐国和楚国本是邻国，却要兵戎相见。此签意指内部纷争，两败俱伤，不如静守。",details:{"凡事做事":"不宜轻举妄动，宜静观其变。很多事情并非外力可以解决，关键在于内部的协调和实力。","爱情婚姻":"双方争执不休，互不相让。退一步海阔天空，争吵解决不了问题。","工作求职 创业事业":"内部竞争激烈，鹬蚌相争，渔翁得利。不宜参与纷争，做好本分即可。","考试竞赛 升迁竞选":"竞争者实力相当，胜负难料。保持平常心，尽力而为。","投资理财":"市场波动，多方角力，不宜介入，静待时机。","经商生意":"同行竞争激烈，两败俱伤。不如守住自己的阵地，提升自身实力。","房地交易":"买卖双方僵持不下，交易难成。","治病健康":"体内正邪交战，病情反复。需静心调养，增强自身抵抗力。","转换变更":"不宜变更，留在原地比向外求助更好。","求孕求子":"夫妻双方意见不合，或身体状况不协调，需先解决内部问题。","官司诉讼":"两败俱伤，最好和解。","寻人寻物":"就在身边或家中，不必外求。","远行出国":"不宜远行，外面形势不明，不如留守。"}},{id:8,title:"第八签 杨六婿归天（中下签）",qianwen:"早起一炉香，僧道不可伤，专心来请我，是非各自然",story:"杨六郎的夫婿去世。此签带有悲伤和无奈，劝人虔诚祈祷，顺其自然。",details:{"凡事做事":"吉凶未卜，是非难辨。唯有心存善念，虔诚行事，不可伤害无辜，静待因果自然呈现。","爱情婚姻":"感情出现问题，是非不清。需要冷静对待，不可互相指责，多反省自身。","工作求职 创业事业":"工作中遇到是非纷争，处境被动。保持中立，专心做事，不参与派系斗争。","考试竞赛 升迁竞选":"结果难料，是好是坏，自有定数。尽人事，听天命。","投资理财":"财运不明，有得有失。不可强求，顺其自然。","经商生意":"生意中遇到是非，客户或伙伴之间有纠纷。诚信经营，自有公道。","房地交易":"交易中存在争议，不易顺利成交。","治病健康":"病情复杂，病因不明。除了治疗，也需祈福，保持心态平和。","转换变更":"变更与否，皆有是非。不如静心思考，看清形势再做决定。","求孕求子":"诚心祈求，或有希望。但不可强求，顺应天意。","官司诉讼":"是非曲直，自有公论。保持冷静，等待判决。","寻人寻物":"能否寻回，在于缘分。尽力即可，不必执着。","远行出国":"出行前途未卜，吉凶难料，需谨慎。"}},{id:9,title:"第九签 王双福看赛龙舟起见（下下签）",qianwen:"飞禽无故道，终日门前吵，借问前程路，凡事君莫闹",story:"王双福再遇不祥之事。门前飞禽争吵不休，是为凶兆。预示着纷争和不安，前途未卜。",details:{"凡事做事":"纷争不断，不得安宁。前途迷茫，此时切忌冲动行事，宜静不宜动，忍耐为上。","爱情婚姻":"口舌是非多，争吵不休。感情基础不稳，关系紧张，有分离之象。","工作求职 创业事业":"工作环境充满纷争和口舌，小人当道。事业发展受阻，不宜有大动作。","考试竞赛 升迁竞选":"受外界干扰，心神不宁，难有好的表现。","投资理财":"市场混乱，消息真假难辨，投资易亏损。","经商生意":"与顾客或同行多有争执，生意难做。","房地交易":"交易多有口舌纠纷，难以成交。","治病健康":"心神不宁，导致病情加重。需静心休养。","转换变更":"此时变更，只会陷入更大的麻烦，不宜变动。","求孕求子":"夫妻关系不和，难有身孕。","官司诉讼":"官司缠身，是非不断，难以脱身。","寻人寻物":"线索杂乱，难以寻获。","远行出国":"不宜远行，途中多口舌是非。"}},{id:10,title:"第十签 朱贾臣中状元（大吉签）",qianwen:"平心去待人，前事吉利兵，但看三五后，自有贵人迎",story:"朱贾臣中状元，预示着经过一段时间的等待和努力，将迎来巨大的成功和荣耀。",details:{"凡事做事":"保持平和心态，善待他人。之前的事情会顺利解决，不久之后（三五日、月或年），就会有贵人出现，带来好运。","爱情婚姻":"以诚相待，感情会越来越好。等待一段时间，就会有理想的结果，或遇到合适的伴侣。","工作求职 创业事业":"目前的工作平稳，保持谦和的态度。不久将有贵人提携，获得更好的发展机会或职位。","考试竞赛 升迁竞选":"只要平心静气，正常发挥，终将金榜题名，获得成功。","投资理财":"财运渐佳，投资会有回报。耐心等待，不久会有好消息。","经商生意":"生意会逐渐好转，有贵人相助，生意兴隆。","房地交易":"交易顺利，能遇到好的买家或卖家。","治病健康":"身体会逐渐康复，有良医相助。","转换变更":"变更大吉，会带来更好的发展。","求孕求子":"心想事成，会有好消息。","官司诉讼":"有贵人相助，官司会有好的结果。","寻人寻物":"会有好消息，能够寻回。","远行出国":"出行顺利，在外会遇到贵人。"}},{id:11,title:"第十一签 商林托梦因弹琴起见（大吉签）",qianwen:"读诵一本经，请佛做证明，灾殃期夏退，凡事任君行",story:"商林因弹琴感动神明，托梦指引。此为善有善报，心诚则灵之兆。",details:{"凡事做事":"吉祥如意。只要心存善念，诚心祈祷，灾祸将在夏天之后消退，之后便可无往不利。","爱情婚姻":"诚心可感动天，有情人终成眷属。若有阻碍，诚心祈求可化解。","工作求职 创业事业":"事业顺利，如得神助。之前的困难会过去，夏天过后将迎来事业高峰。","考试竞赛 升迁竞选":"考运佳，能得理想成绩。升迁有望，心想事成。","投资理财":"夏天后财运转好，可进行投资，必有回报。","经商生意":"生意在夏天后会转亏为盈，渐入佳境。","房地交易":"交易顺利，夏天后是最佳时机。","治病健康":"病情在夏天后会大为好转，直至痊愈。","转换变更":"适合在夏天之后进行变更，会非常顺利。","求孕求子":"诚心祈求，可得贵子。","官司诉讼":"官司能胜诉，灾殃退去，重见光明。","寻人寻物":"夏天后可寻回。","远行出国":"夏天后出行大吉，一路平安。"}},{id:12,title:"第十二签 六月雪张英被炉儿嫁祸逢祀如代告（中平签）",qianwen:"地裹有黄金，寸土亦难寻，若能寻得着，铁棍磨成针",story:"张英蒙受不白之冤，如同六月飞雪。此签预示着目标虽然美好（地里有黄金），但过程极其艰难，需要极大的毅力和耐心。",details:{"凡事做事":"困难重重，事倍功半。需要有愚公移山的精神，坚持不懈，方能有所成就。","爱情婚姻":"感情之路布满荆棘，需要双方共同努力，付出极大的耐心才能维持。","工作求职 创业事业":"事业发展困难，目标难以达成。需要付出超常的努力，才可能有一点点收获。","考试竞赛 升迁竞选":"成绩难有突破，竞争压力大。需要下苦功。","投资理财":"财运不佳，看似有机会，实则难以把握，如同大海捞针。","经商生意":"生意难做，利润微薄，经营辛苦。","房地交易":"交易困难，过程漫长，不易成功。","治病健康":"病情顽固，需要长期耐心治疗，方能见效。","转换变更":"不宜变更，新的环境同样困难重重。","求孕求子":"求子艰难，需耐心调理，长期努力。","官司诉讼":"官司耗时耗力，过程曲折，胜算不大。","寻人寻物":"难以寻获，如大海捞针。","远行出国":"旅途艰辛，困难多，不宜远行。"}},{id:13,title:"第十三签 陈兴元各番（中平签）",qianwen:"封书寄来时，不免说东西，求名并求利，求官各未迟",story:"陈兴元收到远方来信，带来各种消息。此签预示将有外界信息传来，对于所求之事，现在行动还来得及。",details:{"凡事做事":"将有消息或机会到来，应抓住时机，积极行动，无论是求名、求利还是求官，都为时不晚。","爱情婚姻":"会有关于感情的新消息，可能是远方故人，也可能是新的机会。应主动出击。","工作求职 创业事业":"会有新的工作机会或合作信息出现，应好好把握，前途可期。","考试竞赛 升迁竞选":"现在努力还来得及，只要用心准备，尚有成功希望。","投资理财":"会有新的投资信息，可以谨慎参与，尚有利可图。","经商生意":"生意上会有新的门路或消息，抓住机会可获利。","房地交易":"会有交易的信息传来，可以着手进行。","治病健康":"会找到新的治疗方法或医生，病情有望好转。","转换变更":"可以考虑变更，会有新的机会出现。","求孕求子":"会有好消息，现在努力为时不晚。","官司诉讼":"案情会有新的进展或证据出现，对己方有利。","寻人寻物":"会有关于失物或走失之人的消息，循着线索可寻。","远行出国":"可以计划出行，会有好的机会。"}},{id:14,title:"第十四签 蒋兴哥回家（上上签）",qianwen:"圣人骑驿马，将军护出来，停待四更后，衙门大展开",story:"蒋兴哥荣归故里，有如圣人出巡，威风八面。此签为大吉之兆，预示着黎明前虽有等待，但最终将迎来辉煌的成功。",details:{"凡事做事":"吉祥如意，但需耐心等待最佳时机（四更后）。时机一到，便能大展拳脚，势如破竹。","爱情婚姻":"良缘天定，好事将近。虽需等待，但最终必能喜结连理，婚姻美满。","工作求职 创业事业":"事业前景光明，有贵人（将军）扶持。目前需稍作等待，时机成熟便能大展宏图。","考试竞赛 升迁竞选":"胜券在握，只待发榜。升迁在即，将获重用。","投资理财":"财运极佳，耐心等待入市时机，必能大获全胜。","经商生意":"生意兴隆，时机一到，便能打开局面，财源广进。","房地交易":"交易可成，但需等待最佳报价，不可急躁。","治病健康":"病情会彻底好转，只需耐心等待康复。","转换变更":"变更大吉，但需等待最佳时机，不可贸然行动。","求孕求子":"佳期将至，必得佳儿。","官司诉讼":"必得胜诉，正义终将伸张，只是需要时间。","寻人寻物":"失物可寻，人将自归，只是需要一点时间。","远行出国":"出行顺利，但需等待合适的出发时间。"}},{id:15,title:"第十五签 吕蒙正往京（中平签）",qianwen:"时运未兴时，鬼贼在东西，莫道君不信，此事得人疑",story:"吕蒙正早年穷困潦倒，时运不济。此签预示时运未到，身边有小人作祟，事情充满疑点和阻碍。",details:{"凡事做事":"时运不佳，障碍重重。身边潜伏着小人，凡事多有波折，易遭人怀疑或误解。","爱情婚姻":"感情多疑，互不信任。有小人挑拨离间，关系不稳。","工作求职 创业事业":"事业发展不顺，处处受制。公司内部有小人作梗，需小心防范。","考试竞赛 升迁竞选":"易有失误，或遭人暗算，结果不理想。","投资理财":"财运低迷，谨防骗局和圈套，不宜投资。","经商生意":"生意难做，有内贼或小人暗中破坏，导致亏损。","房地交易":"交易中多有欺诈和疑点，不易成功。","治病健康":"病情反复，病因复杂，易误诊。","转换变更":"不宜变更，环境险恶，动则有咎。","求孕求子":"希望不大，多有阻碍。","官司诉讼":"案情复杂，真假难辨，易遭诬陷。","寻人寻物":"难以寻回，可能已被人窃取或藏匿。","远行出国":"不宜远行，途中多有风险和骗局。"}},{id:16,title:"第十六签 陆袍相前抛绣球（大吉签）",qianwen:"君家喜有期，好事莫嫌迟，贵人相接引，妖邪不敢欺",story:"小姐抛绣球择婿，选中意中人。此为天赐良缘，喜事临门之兆。",details:{"凡事做事":"喜事将近，好事多磨，虽稍有延迟，但终将圆满。有贵人相助，一切邪祟不能侵害。","爱情婚姻":"天作之合，喜结良缘。虽然过程可能有些等待，但结局是美好的。","工作求职 创业事业":"事业上将有喜讯，得贵人提携，工作顺利，前景光明。","考试竞赛 升迁竞选":"必能高中，金榜题名。升迁顺利，得到赏识。","投资理财":"财运旺盛，投资虽晚，但终有厚报。","经商生意":"生意兴隆，有贵客临门，财源广进。","房地交易":"交易顺利，能遇到好的买家或卖家。","治病健康":"身体康健，疾病远离，有神明庇佑。","转换变更":"变更大吉，能带来好运。","求孕求子":"喜得贵子，好事临门。","官司诉讼":"能得胜诉，邪不胜正。","寻人寻物":"失物可寻，人亦平安归来。","远行出国":"出行顺利，有贵人相助，一路平安。"}},{id:17,title:"第十七签 陈世美截腰（下下签）",qianwen:"王法本无新，要害世间人，蛇头并鼠尾，为祸及相新",story:"陈世美抛弃妻儿，最终被包公所斩。此为大凶之兆，预示着因道德败坏、忘恩负义而招致灾祸。",details:{"凡事做事":"大凶，危机四伏。有阴险小人（蛇头鼠尾）作祟，灾祸会接连不断，甚至牵连亲友。","爱情婚姻":"感情有重大危机，一方不忠或背信弃义，最终导致关系破裂，结局悲惨。","工作求职 创业事业":"事业遭遇重大打击，因小人陷害或自身不义之举而失败，身败名裂。","考试竞赛 升迁竞选":"希望渺茫，且可能因作弊等不端行为而招致惩罚。","投资理财":"必有重大亏损，谨防诈骗，血本无归。","经商生意":"生意失败，甚至可能引来官非，有牢狱之灾。","房地交易":"交易大凶，其中有诈，必受其害。","治病健康":"病情危重，有生命之忧，多因生活不检点或恶行所致。","转换变更":"动则招祸，越变越差。","求孕求子":"难有所成，或有不祥。","官司诉讼":"官司必败，难逃法网。","寻人寻物":"凶多吉少，难以寻回。","远行出国":"大凶，不宜远行，途中有生命危险。"}},{id:18,title:"第十八签 蒋兴哥叮咛（中平签）",qianwen:"当初共君约，至今人情却，回家各思量，万病该有药",story:"蒋兴哥与妻子分别时互相叮嘱。此签预示事情发生了变化，不如当初所想，需要重新审视和沟通，寻找解决之道。",details:{"凡事做事":"事情的发展与预期有出入，人情冷暖，世事多变。需要冷静思考，总能找到解决问题的办法。","爱情婚姻":"感情变淡，不如当初。需要双方冷静下来，好好沟通，寻找维系感情的方法。","工作求职 创业事业":"合作关系或工作环境出现变化，人心思变。需要重新评估形势，调整策略。","考试竞赛 升迁竞选":"表现不如预期，需要反思自己的问题所在，对症下药。","投资理财":"市场情况有变，当初的判断可能已不适用，需重新分析。","经商生意":"生意伙伴或客户关系有变，需要重新维系和思考经营方向。","房地交易":"交易可能出现变数，需要双方重新协商。","治病健康":"病情有变，需要调整治疗方案。","转换变更":"变更之前需要仔细思量，找到问题的根源再行动。","求孕求子":"遇到困难，需要找出问题所在，对症调理。","官司诉讼":"案情有变，需要重新寻找对策。","寻人寻物":"情况有变，需要从新的角度去寻找。","远行出国":"计划可能需要改变，应重新评估。"}},{id:19,title:"第十九签 洪沙英烧死借尸还魂（下下签）",qianwen:"劝君休过径，高山步难移，凡事君且忍，时运未兴时",story:"洪沙英遭遇不幸，虽能借尸还魂，但过程凶险。此签为凶兆，预示着前路艰险，时运不济，只能隐忍等待。",details:{"凡事做事":"困难重重，寸步难行。目前时运极差，凡事只能忍耐，切勿轻举妄动，否则灾祸立至。","爱情婚姻":"感情之路艰险，障碍重重，无法前进。只能忍耐，等待时机。","工作求职 创业事业":"事业陷入绝境，前无去路。只能暂停一切计划，静待时运好转。","考试竞赛 升迁竞选":"希望渺茫，难以成功。","投资理财":"财运极差，投资必亏，切勿入市。","经商生意":"生意惨淡，经营困难，只能勉力维持。","房地交易":"交易无法进行，障碍极大。","治病健康":"病情严重，难以好转，需耐心长期调养。","转换变更":"动则有祸，留在原地忍耐是唯一选择。","求孕求子":"希望渺茫，时机未到。","官司诉讼":"官司难赢，形势对自己极为不利。","寻人寻物":"难以寻回，线索中断。","远行出国":"大凶，不宜远行，前途艰险。"}},{id:20,title:"第二十签 吕蒙正衣锦荣归（大吉签）",qianwen:"福禄命中生，求情便得情，婚姻功名就，宅舍保安宁",story:"吕蒙正经过多年奋斗，终于衣锦还乡。此为大吉之兆，预示着命中注定的福禄，所求皆能如愿。",details:{"凡事做事":"大吉大利，福禄天定。心想事成，万事如意，家庭安宁。","爱情婚姻":"天赐良缘，求爱得爱，婚姻美满，功成名就。","工作求职 创业事业":"事业顺利，功名成就。求职得心仪工作，创业能大获成功。","考试竞赛 升迁竞选":"考运亨通，金榜题名。升迁顺利，众望所归。","投资理财":"财运亨通，求财得财，投资顺利。","经商生意":"生意兴隆，名利双收，家宅平安。","房地交易":"交易顺利，能得理想结果。","治病健康":"身体安康，福寿绵长。","转换变更":"变更大吉，能带来更好的运气。","求孕求子":"求子得子，家庭美满。","官司诉讼":"官司必胜，得理人和。","寻人寻物":"失物可寻，人亦平安。","远行出国":"出行大吉，一帆风顺。"}},{id:21,title:"第二十一签 吕蒙正金花捷报一世部君两世娘（下下签）",qianwen:"鸡报五更风，太阳渐出东，要进前程路，天色暗朦胧",story:"此典故较为复杂，似指吕蒙正虽有捷报，但命运多舛。签文意指虽然黎明将至，但前路依然看不清楚，充满未知和风险。",details:{"凡事做事":"前途未卜，吉凶难料。看似有希望，但实际上危机四伏，不可贸然前进。","爱情婚姻":"关系不明朗，未来充满变数。看似有进展，实则基础不稳。","工作求职 创业事业":"事业看似有转机，但前景依然模糊不清，风险很大。不宜做重大决定。","考试竞赛 升迁竞选":"结果难料，看似有机会，但很可能功败垂成。","投资理财":"市场方向不明，看似要涨，实则可能下跌，不宜入市。","经商生意":"生意前景不明，看似好转，但风险仍在。","房地交易":"交易前景不明，不宜进行。","治病健康":"病情看似好转，但仍有隐患，不可掉以轻心。","转换变更":"前路不明，不宜变更。","求孕求子":"希望不大，前景不明。","官司诉讼":"案情不明朗，胜负难料。","寻人寻物":"线索模糊，方向不清，难以寻找。","远行出国":"前途未卜，不宜远行。"}},{id:22,title:"第二十二签 杨志中出天牢（中平签）",qianwen:"看看月西圆，渐渐出云间，灾殃期夏退，凡事且容宽",story:"杨志（水浒人物）历经磨难，终得出狱。此签预示困境即将过去，如同月亮走出乌云，但需要耐心和宽容。",details:{"凡事做事":"渐入佳境，时来运转。灾祸将在夏天后消退，凡事放宽心，不必过于计较，好运将至。","爱情婚姻":"感情中的阴霾将逐渐散去，关系好转。需要多些宽容和等待。","工作求职 创业事业":"工作中的困境即将结束，事业将重见光明。夏天后会有好的发展。","考试竞赛 升迁竞选":"运势转好，能取得不错的成绩。","投资理财":"财运回升，夏天后是投资的好时机。","经商生意":"生意将走出困境，转亏为盈。","房地交易":"交易中的障碍将消除，可以顺利进行。","治病健康":"病情将逐渐好转，夏天后有望康复。","转换变更":"可以考虑在夏天后进行变更，会比较顺利。","求孕求子":"希望渐增，耐心等待会有好消息。","官司诉讼":"官司将出现转机，有望得到公正的判决。","寻人寻物":"会有线索出现，夏天后有望寻回。","远行出国":"夏天后出行较为顺利。"}},{id:23,title:"第二十三签 钱三娘投江（中平签）",qianwen:"大海汪洋水，孤船会过洋，风吹波浪急，船过也无伤",story:"钱三娘投江，喻示处境危险。但签文显示虽有惊涛骇浪，最终能平安渡过。",details:{"凡事做事":"有惊无险，过程艰难，但结果是好的。如同在暴风雨中航行，虽然惊险，但最终能到达彼岸。","爱情婚姻":"感情经历风波，但只要双方同心协力，终能安然度过危机。","工作求职 创业事业":"事业上会遇到大的风浪和挑战，但只要坚持下去，最终能克服困难，获得成功。","考试竞赛 升迁竞选":"竞争激烈，过程惊险，但最终能勉强通过。","投资理财":"市场波动巨大，风险很高，但若能坚持，最终不会亏损，甚至小有盈利。","经商生意":"生意上会遇到大风浪，但只要应对得当，能化险为夷。","房地交易":"交易过程一波三折，但最终能够成交。","治病健康":"病情危急，但最终能脱离危险，得以康复。","转换变更":"变更过程充满风险，但最终结果是好的。","求孕求子":"求子过程艰辛，但终能如愿。","官司诉讼":"官司过程惊险，但最终能胜诉或得到有利结果。","寻人寻物":"寻找过程困难重重，但最终能寻回。","远行出国":"旅途惊险，但最终能平安到达。"}},{id:24,title:"第二十四签 将兴哥休妻（中下签）",qianwen:"等君不见来，喜鹊报声哀，但看梅雨至，夏月莲花开",story:"蒋兴哥休妻，夫妻分离。此签预示着等待落空，希望变成失望，但事情在未来（夏天）仍有转机。",details:{"凡事做事":"目前希望落空，所求不成。需要耐心等待，时机在夏天，届时事情才会有转机。","爱情婚姻":"感情出现问题，有分离之象。目前无法挽回，只能等待未来时机。","工作求职 创业事业":"事业受挫，计划失败。目前不宜有任何行动，需等待时机。","考试竞赛 升迁竞选":"此次无望，名落孙山。需待下次机会。","投资理财":"投资失利，目前无法回本，只能等待市场转好。","经商生意":"生意惨淡，客户流失。需等待旺季到来。","房地交易":"交易告吹，目前无法成交。","治病健康":"病情不见好转，需耐心等待有效的治疗时机。","转换变更":"目前不宜变更，动则更差。","求孕求子":"目前无望，需调养身体，等待时机。","官司诉讼":"目前形势不利，难以胜诉。","寻人寻物":"目前找不到，夏天时才会有线索。","远行出国":"目前不宜出行，时机未到。"}},{id:25,title:"第二十五签 孔明借箭（大吉签）",qianwen:"一箭射云间，走马到长安，众人该仰望，莫做等开看",story:"诸葛亮草船借箭，以智谋取得巨大成功。此为大吉之兆，预示着能以智慧和勇气，成就一番令人瞩目的大事。",details:{"凡事做事":"大吉大利，计划能完美成功。应主动出击，发挥才智，必能一鸣惊人，获得众人敬仰。","爱情婚姻":"能以智慧和魅力赢得对方的心，成就一段佳话。","工作求职 创业事业":"事业上能取得突破性成就，一举成功。求职能进入理想公司，创业能大展宏图。","考试竞赛 升迁竞选":"成绩优异，独占鳌头。升迁顺利，能得到关键职位。","投资理财":"能抓住绝佳机会，获得巨大利润。","经商生意":"生意上能有神来之笔，出奇制胜，获得巨大成功。","房地交易":"能以有利价格迅速成交，令人羡慕。","治病健康":"能找到良医良药，迅速康复。","转换变更":"变更大吉，能带来意想不到的好运。","求孕求子":"心想事成，喜得贵子。","官司诉讼":"能出奇制胜，获得完胜。","寻人寻物":"能迅速找到，且方式巧妙。","远行出国":"出行大吉，能达成目标，名扬海外。"}},{id:26,title:"第二十六签 乾隆游苏州（中平签）",qianwen:"广南十二洲，任君出外游，求名并求利，狮子佩金球",story:"乾隆下江南，一路游山玩水。此签预示着向外发展是好的，可以自由闯荡，名利皆有希望，但成功与否取决于自身能力，如同狮子能否舞动金球。",details:{"凡事做事":"适合向外发展，前景广阔。但需要有真本事，才能抓住机会，获得名利。","爱情婚姻":"往远方寻觅，或有良缘。感情需要主动经营，方能开花结果。","工作求职 创业事业":"适合异地求职或创业，机会很多。但挑战也大，需要能力与之匹配。","考试竞赛 升迁竞选":"外出考试或参与竞争有利，但需要充分准备，展现实力。","投资理财":"适合投资外地项目或海外市场，但需有专业知识。","经商生意":"适合将生意拓展到外地，能打开新市场。","房地交易":"异地置产有利可图。","治病健康":"到外地求医可能效果更好。","转换变更":"适合向外地变更，有更好的发展空间。","求孕求子":"或许换个环境有助怀孕。","官司诉讼":"若涉及异地，奔波劳碌，结果取决于证据和实力。","寻人寻物":"往远方寻找，或有线索。","远行出国":"大利远行，出外发展，前途光明。"}},{id:27,title:"第二十七签 狄仁杰指日（中平签）",qianwen:"看看月西斜，不免去回家，酒尽难留客，行船不待爷",story:"狄仁杰指日为誓，预示着时机已逝，曲终人散。",details:{"凡事做事":"时机已过，事情已近尾声，无法挽回。应顺应时势，及早结束或放手。","爱情婚姻":"缘分已尽，感情到了尽头，无法强留。","工作求职 创业事业":"项目或事业已到末期，无法再发展。应考虑收尾或转型。","考试竞赛 升迁竞选":"机会已经错过，此次无望。","投资理财":"获利时机已过，应及早退场，否则将亏损。","经商生意":"生意已到淡季或末路，应见好就收。","房地交易":"交易时机已过，无法成交。","治病健康":"病情到了一个阶段，需要改变治疗方向或接受现实。","转换变更":"错过了变更的最佳时机，现在不宜再动。","求孕求子":"缘分未到，或时机已过。","官司诉讼":"事情已成定局，难以改变。","寻人寻物":"寻找的希望渺茫，时机已过。","远行出国":"不宜出行，计划已过时。"}},{id:28,title:"第二十八签 四状元相会（中下签）",qianwen:"上帝降恩来，天下无祸灾，家家安乐庆，人人畅心怀",story:"四状元相会，本是喜事。但签文描述的是一种过于理想化、不切实际的太平盛世，与现实不符。此签名为吉，实则有警示之意，预示着表面看似美好，实则可能隐藏问题，或希望落空。",details:{"凡事做事":"期望过高，不切实际。事情表面看似顺利，但可能只是空想，难以实现。","爱情婚姻":"对感情抱有不切实际的幻想，容易失望。","工作求职 创业事业":"计划过于理想化，脱离实际，难以执行。","考试竞赛 升迁竞选":"自我感觉良好，但结果可能大相径庭。","投资理财":"对市场过于乐观，容易做出错误判断。","经商生意":"对前景过于乐观，忽略了潜在的风险。","房地交易":"期望价格过高，难以成交。","治病健康":"对病情过于乐观，可能耽误治疗。","转换变更":"想法很好，但执行起来困难重重。","求孕求子":"期望很高，但现实未必如愿。","官司诉讼":"认为自己必胜，但结果未必。","寻人寻物":"以为很容易找到，但实际上很困难。","远行出国":"计划过于美好，但旅途未必顺利。"}},{id:29,title:"第二十九签 武松打虎（中平签）",qianwen:"劝君莫留心，茫茫何处寻，明知山有虎，故意入山林",story:"武松明知景阳冈有虎，却偏向虎山行。此签预示着明知有危险和困难，却固执己见，偏要冒险行事。",details:{"凡事做事":"风险极大，不宜进行。如果一意孤行，必然会遇到极大的困难和危险。","爱情婚姻":"明知对方不适合自己，或感情有问题，却不愿放手，最终只会受到伤害。","工作求职 创业事业":"明知项目有巨大风险或公司有问题，却执意投入，结果必然失败。","考试竞赛 升迁竞选":"明知自己实力不足，却挑战高难度目标，结果可想而知。","投资理财":"明知是高风险投机，却偏要参与，结果血本无归。","经商生意":"明知市场险恶，却盲目扩张，导致失败。","房地交易":"明知房产有问题或价格虚高，却执意购买，必然后悔。","治病健康":"明知某种生活习惯有害健康，却不加改正，导致疾病。","转换变更":"明知山有虎，偏向虎山行。变更的风险极大。","求孕求子":"逆势而为，成功希望渺茫。","官司诉讼":"明知理亏，却要强行诉讼，结果必败。","寻人寻物":"方向错误，缘木求鱼，找不到。","远行出国":"此行充满危险，不宜前往。"}},{id:30,title:"第三十签 蒋兴哥回家（中平签）",qianwen:"婚姻喜有期，残共发旧枝，前缘先注定，好事莫嫌迟",story:"蒋兴哥回家与妻子重逢。此签与第十六签相似，但更侧重于“破镜重圆”或“旧事重提”。",details:{"凡事做事":"旧有的事情会有新的发展，好事多磨，虽然迟来，但终有结果。","爱情婚姻":"破镜重圆之兆。分手的情侣有望复合，或与旧情人重逢。前世姻缘，终将实现。","工作求职 创业事业":"以前失败过的事情，现在可以重新尝试，有成功的希望。或回到原来的公司工作。","考试竞赛 升迁竞选":"以前考不上的，这次有机会。","投资理财":"以前亏损的项目，现在有机会回本。","经商生意":"旧的生意或模式，可以重新焕发生机。","房地交易":"以前没谈成的交易，现在可以重新接触。","治病健康":"旧病有望得到根治。","转换变更":"回到原来的状态或地方，可能是更好的选择。","求孕求子":"之前未能成功，现在有希望。","官司诉讼":"旧的案件重新审理，有转机。","寻人寻物":"失去很久的东西或人，有希望能重新出现。","远行出国":"回到曾经去过的地方，会有好运。"}},{id:31,title:"第三十一签 吕蒙正抛绣球（中平签）",qianwen:"真金无价宝，谁人何去寻，见之君莫取，取后亦留心",story:"吕蒙正时运未到，即使有抛绣球这样的好事，也可能不是福。此签预示着看似美好的事物，背后可能隐藏着危险或不为人知的代价。",details:{"凡事做事":"机会虽好，但要小心。看似是宝物，得到后可能会带来麻烦，需要谨慎处理。","爱情婚姻":"遇到的对象看似完美，但深入了解后可能会发现问题。需谨慎交往。","工作求职 创业事业":"得到一个看似很好的机会，但可能有陷阱或附加条件，需要小心。","考试竞赛 升迁竞选":"看似唾手可得的成功，背后可能有复杂的因素，不可掉以轻心。","投资理财":"看似是绝佳的投资机会，很可能是个圈套。","经商生意":"一笔看似利润丰厚的生意，背后可能有风险。","房地交易":"遇到一个条件优厚得难以置信的交易，要小心有诈。","治病健康":"某种特效药或疗法，可能有未知的副作用。","转换变更":"新的机会看似诱人，但可能不如想象中美好。","求孕求子":"即使成功，过程或未来也需多加留心。","官司诉讼":"看似有利的证据或和解条件，背后可能有诈。","寻人寻物":"找到了，但可能物是人非，或带来新的问题。","远行出国":"外表光鲜的目的地，可能隐藏着危险。"}},{id:32,title:"第三十二签 姜太公遇文王寸进（上上签）",qianwen:"好事大家知，何必来求神，宝地求方寸，神明亦扶持",story:"姜太公在渭水边钓鱼，终遇周文王。此为大吉之兆，预示着时来运转，得遇明主或贵人，大展宏图。",details:{"凡事做事":"大吉大利，时运已到。自身的才华和努力是成功的关键，神明也会加以护佑。","爱情婚姻":"天作之合，无需多疑。双方情投意合，是天造地设的一对。","工作求职 创业事业":"将得到赏识，获得重用。事业发展顺利，如鱼得水。","考试竞赛 升迁竞选":"实力超群，必能高中。升迁在即，众望所归。","投资理财":"财运亨通，眼光独到，投资必有厚报。","经商生意":"生意兴隆，无需外求，自身实力就是最好的招牌。","房地交易":"能在好地段觅得好房产，交易顺利。","治病健康":"身体康健，无需担忧。","转换变更":"变更大吉，能找到更适合自己的位置。","求孕求子":"心想事成，必得佳儿。","官司诉讼":"公道自在人心，必得胜诉。","寻人寻物":"物在原地，人自归来，无需担忧。","远行出国":"出行顺利，大有可为。"}},{id:33,title:"第三十三签 陈大郎死在店内物归蒋兴哥（中下签）",qianwen:"病马去登山，几时得回来，要进前程路，思量到頭难",story:"陈大郎客死他乡，喻示处境艰难，力不从心。",details:{"凡事做事":"困难重重，力不从心。如同病马登山，寸步难行，前途渺茫，进退两难。","爱情婚姻":"感情难有进展，双方关系疲惫，难以维持。","工作求职 创业事业":"事业陷入困境，自身能力或资源不足，难以应对挑战。","考试竞赛 升迁竞选":"实力不足，准备不周，难以成功。","投资理财":"财力不济，无法支撑，投资必亏。","经商生意":"经营困难，资金短缺，难以维持。","房地交易":"交易难成，自身条件不足。","治病健康":"病情沉重，难以好转，身心俱疲。","转换变更":"自身条件不足，不宜变更，动则更糟。","求孕求子":"希望渺茫，身体条件不佳。","官司诉讼":"形势不利，证据不足，难以胜诉。","寻人寻物":"难以寻回，希望渺茫。","远行出国":"不宜远行，旅途艰辛，力不从心。"}},{id:34,title:"第三十四签 吕蒙正赫司命帝君（大吉签）",qianwen:"共君拜杯茶，实是好皇家，不敢黄金土，须要利市花",story:"吕蒙正时来运转，得到帝君赏识。此签预示着能得到贵人赏识，但对方所求并非金钱，而是你的才华或诚意。",details:{"凡事做事":"大吉大利，将遇贵人。与人交往，应重情义而非利益，以诚相待，方能获得支持。","爱情婚姻":"对方看重的是你的人品和真心，而非物质条件。以诚相待，必成美事。","工作求职 创业事业":"能得到上级或大人物的赏识。展现你的才华和忠诚，比送礼更有用。","考试竞赛 升迁竞选":"你的才学和品德是致胜的关键。","投资理财":"合作求财，以诚信为本，能获得长远利益。","经商生意":"生意要讲究信誉和人情，才能赢得客户，财源广进。","房地交易":"交易顺利，双方以诚相待。","治病健康":"心情舒畅，广结善缘，有助健康。","转换变更":"变更顺利，能得到新环境中人的喜爱。","求孕求子":"夫妻恩爱，诚心祈求，可得子女。","官司诉讼":"以理服人，以诚动人，可得胜诉。","寻人寻物":"托人寻找，可得线索。","远行出国":"出行顺利，能结交有义之士。"}},{id:35,title:"第三十五签 许状元祭基（中平签）",qianwen:"鬼贼在东西，劝君莫去寻，今日不在变，反吟又复吟",story:"许状元祭拜祖基，但签文显示周围有危险。此签预示着环境险恶，危机四伏，宜静不宜动，反复思量，不可轻举妄动。",details:{"凡事做事":"周围有小人或危险，不宜主动出击。应保持现状，反复思考对策，切勿冲动。","爱情婚姻":"关系中有潜在的危机或第三者，不宜主动摊牌，需冷静观察。","工作求职 创业事业":"环境复杂，有小人作祟。不宜开展新计划，应巩固现有成果，静观其变。","考试竞赛 升迁竞选":"周围有不利因素干扰，需加倍小心，反复检查。","投资理财":"市场有风险，不宜入市。反复研究，不可轻信他人。","经商生意":"生意场上有小人或陷阱，不宜扩张，应谨慎守业。","房地交易":"交易中有潜在问题，不宜进行。","治病健康":"病情复杂，时好时坏，需耐心观察，找出病根。","转换变更":"不宜变更，新环境同样有危险。","求孕求子":"暂无希望，需耐心等待，反复调理。","官司诉讼":"案情反复，不易解决，宜静待时机。","寻人寻物":"难以寻获，可能被人藏匿。","远行出国":"不宜远行，外部环境危险。"}},{id:36,title:"第三十六签 韩文公冻雪（中平签）",qianwen:"春来下种忙，夏月如炎花，秋河谁能赏，冬月破雪霜",story:"韩愈被贬潮州，途经蓝关，大雪封山。此签描述了一年四季的辛劳和不同境遇，预示着人生有起有落，凡事皆有其时，需顺应天时，付出努力。",details:{"凡事做事":"凡事皆有其过程，需要按部就班，付出辛劳。春种秋收，冬天则要忍耐严寒，不可强求。","爱情婚姻":"感情需要经历四季的考验，有甜蜜也有平淡和考验，顺其自然发展。","工作求职 创业事业":"事业发展有其周期，有忙碌的播种期，也有收获期和蛰伏期。","考试竞赛 升迁竞选":"需要长时间的努力和积累，才能开花结果。","投资理财":"投资有周期性，有牛市有熊市，需耐心等待。","经商生意":"生意有淡季旺季，需根据时节调整策略。","房地交易":"交易需要等待合适的时机。","治病健康":"疾病的恢复需要一个过程，急不得。","转换变更":"变更需要顺应时机，不可逆势而为。","求孕求子":"顺其自然，时机到了自有消息。","官司诉讼":"官司有其流程，需要时间，耐心等待。","寻人寻物":"寻找需要时间，急也无用。","远行出国":"出行要选择合适的季节和时机。"}},{id:37,title:"第三十七签 十六贯钱（上上签）",qianwen:"喜得適春時，殘花發舊枝，一年四季好，好事莫嫌遲",story:"“况钟勘舆十六贯”是著名的公案，最终沉冤得雪。此签为上上签，预示着枯木逢春，时来运转，虽然好事来得晚，但终究会来，且接连不断。",details:{"凡事做事":"大吉大利，时来运转。之前的不顺都将过去，好事接踵而来，一年四季都顺利。","爱情婚姻":"破镜重圆，或晚婚但幸福美满。旧的感情能重焕生机。","工作求职 创业事业":"事业走出低谷，迎来春天。旧的项目能起死回生，大获成功。","考试竞赛 升迁竞选":"此次必能成功，弥补过去的遗憾。","投资理财":"之前亏损的能回本并获利，财运亨通。","经商生意":"生意回暖，旧客户回头，生意兴隆。","房地交易":"交易顺利，能遇到好的机会。","治病健康":"久病逢良医，沉疴能愈。","转换变更":"变更大吉，能迎来新生。","求孕求子":"久不受孕者，今有希望。","官司诉讼":"沉冤得雪，官司得胜。","寻人寻物":"失去多时的东西能失而复得。","远行出国":"出行顺利，能有新的开始。"}},{id:38,title:"第三十八签 秦雪梅跳大城（下下签）",qianwen:"江頭一石獅，等待有時來，任伊風波起，全身不動移",story:"秦雪梅为夫殉情，但此签文描述的是一种固执、顽固不化的状态。预示着固守原地，不知变通，虽然能暂时抵挡风波，但最终会坐失良机，陷入困境。",details:{"凡事做事":"固执己见，不知变通。虽然能保持稳定，但无法进步，最终会被淘汰。","爱情婚姻":"关系僵化，一方固执，不愿沟通，如同顽石。","工作求职 创业事业":"思想僵化，不愿接受新事物，事业停滞不前。","考试竞赛 升迁竞选":"方法陈旧，不知变通，难以取得好成绩。","投资理财":"固守一种投资方式，不看市场变化，最终会亏损。","经商生意":"经营模式老化，不愿改变，生意无法发展。","房地交易":"固守价格，不愿让步，交易无法达成。","治病健康":"固守旧的治疗方法，不听劝告，病情难以好转。","转换变更":"拒绝任何改变，错失发展良机。","求孕求子":"思想保守，或方法不对，难以成功。","官司诉讼":"固执己见，不愿和解，最终两败俱伤。","寻人寻物":"在原地等待，缘木求鱼，无法寻回。","远行出国":"不愿离开舒适区，没有发展的机会。"}},{id:39,title:"第三十九签 姐妹拜月（中平签）",qianwen:"十五月團圓，星光照四方，家家人共賞，對月問平安",story:"姐妹一同在月下祈祷。此签预示着家庭和睦，平安顺利，但多为祈求和期盼，缺乏实际行动。",details:{"凡事做事":"平安顺利，家庭和睦。但多为现状的维持，若要求取更大的发展，则需行动。","爱情婚姻":"感情和谐，家人祝福。适合谈婚论嫁。","工作求职 创业事业":"工作环境和谐，同事关系融洽。但事业上缺乏大的突破。","考试竞赛 升迁竞选":"表现平稳，结果尚可。","投资理财":"财运平稳，适合家庭共同理财。","经商生意":"生意平稳，适合家族式经营。","房地交易":"适合为家庭置产，交易顺利。","治病健康":"身体平安，家人关怀。","转换变更":"不宜大动，维持家庭稳定为佳。","求孕求子":"家庭和睦，适合求孕，可得平安。","官司诉讼":"以和为贵，家庭内部解决为佳。","寻人寻物":"在家人帮助下可寻回。","远行出国":"出行平安，但会思念家人。"}},{id:40,title:"第四十签 唐天子跳泥河得白袍大將（中吉签）",qianwen:"簽詩抽出來，有人走東西，放過前程路，鬼神默扶持",story:"唐天子（李世民）落难，被白袍小将（薛仁贵）所救。此签预示在危难之时，会得到意想不到的贵人相助，化险为夷。",details:{"凡事做事":"遇事奔波，前路不定，但暗中有神明和贵人相助，最终能走向正途。","爱情婚姻":"感情中出现波折，但会有贵人出面调解，或遇到解救自己的“白袍小将”。","工作求职 创业事业":"事业遇到困难，奔波劳碌，但关键时刻会有贵人出现，指点迷津。","考试竞赛 升迁竞选":"过程虽有波折，但最终能得到帮助，顺利过关。","投资理财":"投资过程有起伏，但最终能得到帮助，转危为安。","经商生意":"生意遇到困难，但会有贵人客户出现，带来转机。","房地交易":"交易过程不顺，但最终能成功。","治病健康":"病情危急时，能遇到良医，化险为夷。","转换变更":"变更过程有风险，但最终是好的。","求孕求子":"过程波折，但终能如愿。","官司诉讼":"官司陷入困境时，会有贵人出面帮助。","寻人寻物":"寻找过程东西奔走，但最终能得到线索。","远行出国":"旅途中有困难，但能得到帮助，平安无事。"}},{id:41,title:"第四十一签 杨令公五台问卦（中下签）",qianwen:"禾稼多憂悶，收成六七分，山河千古在，松柏年年春",story:"杨令公为国事担忧，求神问卜。此签预示着虽然努力耕耘，但收获不如预期，令人忧虑。不过根基尚在，留得青山，就有希望。",details:{"凡事做事":"事倍功半，收获不理想。虽然结果不尽人意，但不应气馁，应着眼于长远，保住根本。","爱情婚姻":"感情付出多，回报少，关系不如预期。但只要基础还在，就有维持下去的可能。","工作求职 创业事业":"辛勤工作，但业绩平平，回报不高。应守住岗位，等待时机。","考试竞赛 升迁竞选":"成绩不理想，只有六七成的把握。","投资理财":"投资回报率低，甚至略有亏损。应保本为上。","经商生意":"生意辛苦，利润微薄。","房地交易":"交易价格不如预期，获利不多。","治病健康":"病情恢复缓慢，效果不彰。但生命无忧。","转换变更":"不宜变更，新的机会未必更好。","求孕求子":"希望不大，收获甚微。","官司诉讼":"难以完胜，结果不尽人意。","寻人寻物":"寻回的希望不大，或寻回时已有损坏。","远行出国":"出行收获不大，不如预期。"}},{id:42,title:"第四十二签 刘备取西川（中平签）",qianwen:"春來氣融和，黄鶯各上歌，楊柳多動軟，桃花一點紅",story:"刘备取西川，开创蜀汉基业。此签描绘了一幅春意盎然的景象，预示着时机正好，万物复苏，有一点成功的苗头出现。",details:{"凡事做事":"时机不错，有好的开始。事情开始顺利，但要看到那“一点红”的成功，仍需努力。","爱情婚姻":"感情开始萌芽，春心萌动。是发展恋情的好时机。","工作求职 创业事业":"事业有了好的开端，环境有利。应抓住机会，积极发展。","考试竞赛 升迁竞选":"有希望，开了个好头。","投资理财":"市场回暖，可以开始布局。","经商生意":"生意有了起色，出现新的机会。","房地交易":"市场转好，可以考虑进行交易。","治病健康":"病情开始好转，春暖花开。","转换变更":"是变更的好时机，有新的开始。","求孕求子":"春天是播种的季节，希望很大。","官司诉讼":"案情开始明朗，出现有利的转机。","寻人寻物":"有了线索，看到了希望。","远行出国":"适合出行，春风得意。"}},{id:43,title:"第四十三签 李旦落难（中下签）",qianwen:"人心易反復，世事要浮沉，官法如爐火，勸君莫去尋",story:"李旦（唐睿宗）一生几度废立，命运沉浮。此签预示着人心险恶，世事无常，官场尤其危险，应远离是非。",details:{"凡事做事":"凶险，是非多。人心难测，世事多变，特别是与官方或法律有关的事情，千万不要去触碰。","爱情婚姻":"对方心意不定，感情反复，关系不稳定。","工作求职 创业事业":"职场险恶，人心叵测。容易卷入是非，应远离权力斗争。","考试竞赛 升迁竞选":"竞争激烈且有黑幕，难以成功。","投资理财":"市场波动大，人心惶惶，不宜投资。","经商生意":"生意场上人心险恶，容易被骗，甚至惹上官非。","房地交易":"交易中有人心反复，或涉及法律问题，不宜进行。","治病健康":"病情反复，难以捉摸。","转换变更":"不宜变更，环境险恶。","求孕求子":"希望不大，变数太多。","官司诉讼":"大凶，必败无疑，且后果严重。千万不要打官司。","寻人寻物":"人心已变，难以寻回。","远行出国":"外部环境复杂多变，不宜远行。"}},{id:44,title:"第四十四签 程咬金清王（中平签）",qianwen:"清平福禄歲，農桑百花开，和合在自在，荣华万处通",story:"程咬金是福将，此签借其名，描绘一幅太平盛世的景象。预示着平安顺利，和谐自在。",details:{"凡事做事":"平安顺利，和谐如意。只要保持平和的心态，各方面都会很顺畅。","爱情婚姻":"感情和睦，相处自在，是平淡而幸福的姻缘。","工作求职 创业事业":"工作顺利，环境和谐。事业平稳发展，四通八达。","考试竞赛 升迁竞选":"心态平和，正常发挥，便能取得不错的成绩。","投资理财":"财运平稳，适合稳健的投资。","经商生意":"生意平顺，和气生财。","房地交易":"交易顺利，过程和谐。","治病健康":"身心安泰，无病无灾。","转换变更":"变更与否皆可，随心而行。","求孕求子":"顺其自然，可得子女。","官司诉讼":"以和为贵，容易和解。","寻人寻物":"不必刻意寻找，时至自现。","远行出国":"出行平安，旅途愉快。"}},{id:45,title:"第四十五签 蒋兴哥回家得子（上上签）",qianwen:"天高如福壽，地厚海無邊，日月無私照，光輝理自然",story:"蒋兴哥历经磨难后，不仅夫妻重逢，还喜得贵子，福报深厚。此为上上大吉之签，预示福寿无边，理所当然。",details:{"凡事做事":"大吉大利，福报天成。如同天地日月，福气是自然而然的，所求之事，必能圆满。","爱情婚姻":"天赐良缘，美满幸福，且能开枝散叶，福泽后代。","工作求职 创业事业":"事业宏大，前途无量，成功是必然的结果。","考试竞赛 升迁竞选":"实力超群，高中无疑，前途光明。","投资理财":"财源广进，福泽深厚，投资无往不利。","经商生意":"生意宏大，根基稳固，财源如海。","房地交易":"能得广阔天地，交易大吉。","治病健康":"福寿康宁，天年之福。","转换变更":"变更大吉，天地更宽。","求孕求子":"必得麟儿，光宗耀祖。","官司诉讼":"公道昭然，如日月之明，必胜。","寻人寻物":"失物必回，人必归来。","远行出国":"前途广阔，可名扬四海。"}},{id:46,title:"第四十六签 姜太公遇文王（上上签）",qianwen:"婚姻和合時，問卦兩相宜，命中知好歹，得時有高低",story:"姜太公遇文王，君臣相得。但此签文更侧重于时机和命运的匹配。预示着时机到了，凡事皆宜，但结果的好坏高低，仍与自身命运有关。",details:{"凡事做事":"时机已到，大吉大利。但要对自身有清醒的认识，根据自己的能力和命运来设定目标。","爱情婚姻":"是婚配的好时机，双方情投意合。但未来的好坏，还看双方的经营和命数。","工作求职 创业事业":"遇到了好的时机和平台，但能达到什么样的高度，取决于自己的能力。","考试竞赛 升迁竞选":"运气很好，但最终名次高低，还看自身实力。","投资理财":"是投资的好时机，但能赚多少，看各人本事。","经商生意":"生意进入旺季，但利润高低，看经营能力。","房地交易":"是交易的好时机，但价格高低，看谈判能力。","治病健康":"治疗时机很好，但恢复程度看个人体质。","转换变更":"是变更的好时机，但新环境的好坏因人而异。","求孕求子":"是求孕的好时机，但生男生女，自有天命。","官司诉讼":"官司时机有利，但最终结果，还看证据。","寻人寻物":"是寻找的好时机，但能否完好无损，则不一定。","远行出国":"是出行的好时机，但收获大小，因人而异。"}},{id:47,title:"第四十七签 蒋兴哥因家后（中平签）",qianwen:"顏子聖賢人，憂道不憂貧，富貴皆由命，貧窮總在天",story:"借用孔子弟子颜回安贫乐道的典故。此签劝人看淡得失，顺应天命。",details:{"凡事做事":"顺其自然，不必强求。富贵贫穷都是命中注定，应把精力放在追求道义和精神层面。","爱情婚姻":"缘分天定，不必强求。应注重精神层面的交流。","工作求职 创业事业":"得失随缘，不必过于看重职位和收入，做好本分即可。","考试竞赛 升迁竞选":"结果自有天命，保持平常心。","投资理财":"财运天定，不宜强求，否则会很痛苦。","经商生意":"赚钱多少，自有定数，诚信经营即可。","房地交易":"交易随缘，不必执着。","治病健康":"生死有命，放宽心态，反而有益于健康。","转换变更":"顺其自然，不必刻意变更。","求孕求子":"子女缘分，命中注定，随缘即可。","官司诉讼":"结果自有公道，不必过于忧虑。","寻人寻物":"随缘，是你的总会回来。","远行出国":"出行与否，顺其自然。"}},{id:48,title:"第四十八签 乾隆君游江南（中上签）",qianwen:"七層葫蘆塔，高峰頂自安，眾人皆仰望，庇蔭有四方",story:"宝塔高耸，受人敬仰，能庇佑四方。此签为中上吉签，预示着地位稳固，受人尊敬，能得到福佑，也能福佑他人。",details:{"凡事做事":"地位稳固，受人尊敬。处在高位，安然无忧，能得到大家的帮助，也能帮助别人。","爱情婚姻":"关系稳固，是众人眼中的模范。","工作求职 创业事业":"事业达到一个高峰，地位稳固，受人敬仰，有领导才能。","考试竞赛 升迁竞选":"成绩优异，名列前茅。升迁在望，能居高位。","投资理财":"财运稳固，适合长期持有，能有稳定回报。","经商生意":"生意稳固，信誉良好，是行业内的标杆。","房地交易":"能购得好地段的房产，地位尊崇。","治病健康":"身体安康，如宝塔般稳固。","转换变更":"无需变更，目前位置很好。","求孕求子":"可得贵子，光耀门楣。","官司诉讼":"地位有利，能得胜诉。","寻人寻物":"物在原处，人很安全。","远行出国":"不宜远行，留守本地发展更好。"}},{id:49,title:"第四十九签 苏秦说六国（中平签）",qianwen:"月裏有丹桂，嫦娥親手攀，誰人休敢取，少年拔將來",story:"苏秦游说六国，合纵抗秦。此签借月中丹桂，比喻极好的机会或事物，但获取难度极大，需要有非凡的勇气和能力（少年）才能成功。",details:{"凡事做事":"机会极好，但挑战极大。需要有超凡的勇气和能力，敢于挑战权威，才能抓住机会。","爱情婚姻":"追求的对象非常优秀，竞争者多，需要有特殊的才能和勇气才能成功。","工作求职 创业事业":"机会千载难逢，但门槛极高，需要有过人的才华和魄力。","考试竞赛 升迁竞选":"目标极高，难度极大，需要是顶尖人才才能成功。","投资理财":"机会利润极大，但风险也极大，需要有胆有识。","经商生意":"市场机会巨大，但只有行业领袖才能抓住。","房地交易":"极好的房产，但价格极高，非一般人能得。","治病健康":"病情虽重，但若能找到顶尖名医，亦有希望。","转换变更":"新的机会极好，但挑战也极大，需量力而行。","求孕求子":"求子不易，需有非常之法。","官司诉讼":"案件难度极大，但若能找到顶尖律师，有反败为胜的可能。","寻人寻物":"东西非常珍贵，寻找难度极大。","远行出国":"目标远大，旅途艰难，需有大志者方能行。"}},{id:50,title:"第五十签 吕蒙正赫司命帝君（大吉签）",qianwen:"神明靈應簽，是非各自然，勿執一已見，須向達者研",story:"吕蒙正遇司命帝君点化。此签为神示之签，劝人要顺应自然，不要固执己见，多向有智慧和经验的人请教。",details:{"凡事做事":"顺其自然，不可偏执。遇到问题，不要自己钻牛角尖，应多听取长辈或专家的意见。","爱情婚姻":"感情问题顺其自然，不要固执。多和长辈或朋友沟通，寻求意见。","工作求职 创业事业":"工作中不要一意孤行，要多和同事、领导商量，虚心学习。","考试竞赛 升迁竞选":"不要自以为是，多向老师或前辈请教。","投资理财":"不要固执己见，多听取专家分析。","经商生意":"经营不要固步自封，多向成功的同行学习。","房地交易":"多听取中介或有经验者的建议。","治病健康":"要相信医生，多咨询专家意见。","转换变更":"变更前多方咨询，不要自己做决定。","求孕求子":"多听取医生建议，调理身体。","官司诉讼":"多咨询律师的专业意见。","寻人寻物":"多方打听，寻求他人帮助。","远行出国":"出行前多做攻略，咨询有经验的人。"}},{id:51,title:"第五十一签 姐妹赏月（中平签）",qianwen:"讀者通聖賢，心誠格穹蒼，忠臣孝子出，家國天下安",story:"借读书明理，诚心感天，以致家国平安的意象。此签预示着只要走正道，心怀忠孝仁义，自然会得到好的结果。",details:{"凡事做事":"凡事以诚心和正道为本，自然会顺利，并对家庭和社会有益。","爱情婚姻":"双方品德端正，以诚相待，婚姻美满，家庭和睦。","工作求职 创业事业":"工作勤恳，忠于职守，事业自然安定发展。","考试竞赛 升迁竞选":"品学兼优，自然高中。","投资理财":"心正财正，不取不义之财，财运安稳。","经商生意":"诚信经营，利人利己，生意安定。","房地交易":"交易公平公正，皆大欢喜。","治病健康":"心正气顺，身体自然安康。","转换变更":"只要心存正念，变更与否皆安。","求孕求子":"夫妻品行端正，可得贤良子女。","官司诉讼":"持身端正，自然无讼，有讼亦能胜。","寻人寻物":"心诚则灵，可寻。","远行出国":"出行心怀正念，一路平安。"}},{id:52,title:"第五十二签 杨令公五台问卦（下下签）",qianwen:"五十有二枝，靈應通仙機，問卦皆有準，蔭庇遍閭裏",story:"杨令公问卦，但此签文本身并非卦辞，而是说此签本身很灵验。这是一种“签王”或“签头”的形式，往往暗示所问之事非常重大或严重，神明让你直接相信签的指示。结合标题“杨令公问卦”（多为凶兆），此签应解为“神明已经明确告诉你，此事是凶，不要再怀疑”。",details:{"凡事做事":"大凶。神明已经给出明确的指示，此事不祥，应立即停止。","爱情婚姻":"关系不合，神意已决，应及早分手。","工作求职 创业事业":"事业大凶，应立即停止，否则必败。","考试竞赛 升迁竞选":"绝无希望，不必尝试。","投资理财":"大凶，投资必血本无归。","经商生意":"生意大凶，有倒闭之险。","房地交易":"大凶，交易必有大祸。","治病健康":"病情危重，神仙难救。","转换变更":"绝不可变，动则有祸。","求孕求子":"绝无希望。","官司诉讼":"大凶，必败无疑。","寻人寻物":"绝难寻回。","远行出国":"大凶，绝不可行。"}},{id:53,title:"第五十三签 误杀丁山（中平签）",qianwen:"金刀逢寶劍，韓信遇張良，若是不相讓，必有一家傷",story:"薛丁山与樊梨花，或指其他将帅之间的误会冲突。此签预示着两强相遇，势均力敌，若互不相让，必然两败俱伤。",details:{"凡事做事":"强强对话，竞争激烈。应以和为贵，寻求合作，否则必然是两败俱伤的结局。","爱情婚姻":"两人性格都很强势，争执不断。需要有一方做出让步，否则关系必将破裂。","工作求职 创业事业":"遇到强大的竞争对手，两虎相争。应避免恶性竞争，寻求共赢。","考试竞赛 升迁竞选":"遇到实力相当的对手，胜负在毫厘之间，结果可能是谁也得不到好处。","投资理财":"两大力量在市场角力，不宜介入，否则会被殃及。","经商生意":"与同行巨头竞争，两败俱伤。","房地交易":"买卖双方互不相让，交易告吹。","治病健康":"体内正邪相争激烈，病情反复。","转换变更":"新的环境有强大的对手，未必是好选择。","求孕求子":"夫妻双方互不相让，影响身心。","官司诉讼":"双方势均力敌，诉讼将旷日持久，最终两败俱伤，最好和解。","寻人寻物":"可能在对手或另一方手中，需协商解决。","远行出国":"旅途上会遇到强劲的对手或同伴。"}},{id:54,title:"第五十四签 苏秦说六国（上上签）",qianwen:"四時風景好，五福壽為高，家庭人物泰，喜氣上眉梢",story:"苏秦合纵成功，身佩六国相印。此为上上大吉之签，预示着一年四季万事如意，福禄寿全，家庭和睦，喜气洋洋。",details:{"凡事做事":"大吉大利，万事如意。一年到头都顺利，家庭幸福，喜事连连。","爱情婚姻":"天赐良缘，婚姻美满，家庭和睦，人人称羡。","工作求职 创业事业":"事业顺利，步步高升，名利双收。","考试竞赛 升迁竞选":"金榜题名，升迁顺利，春风得意。","投资理财":"财运亨通，四季获利。","经商生意":"生意兴隆，财源广进，和气生财。","房地交易":"交易顺利，能得理想结果。","治病健康":"福寿安康，身心康泰。","转换变更":"变更大吉，更上一层楼。","求孕求子":"喜得贵子，家庭添福。","官司诉讼":"官司必胜，喜气盈门。","寻人寻物":"失物可寻，人亦平安归来。","远行出国":"出行大吉，一帆风顺。"}},{id:55,title:"第五十五签 韩文公冻雪（中平签）",qianwen:"中秋月一輪，光彩照乾坤，却被西來雨，人間半掩門",story:"韩愈遇雪，好事受阻。此签预示着原本是圆满美好的事物，却被突如其来的意外事件所破坏，导致好事成空或打了折扣。",details:{"凡事做事":"好事多磨，功败垂成。事情本来很顺利，但中途会发生意外，导致结果不完美。","爱情婚姻":"感情本来很好，但会因意外事件（如误会、外力介入）而产生裂痕。","工作求职 创业事业":"项目本来进展顺利，但会遇到突发困难，导致停滞或失败。","考试竞赛 升迁竞选":"本来很有希望，但会因意外失误而落败。","投资理财":"市场本来一片大好，但会因突发消息而暴跌。","经商生意":"生意本来很好，但会因意外事件而受损。","房地交易":"交易本来要成功，但会因意外而告吹。","治病健康":"病情本来好转，但会因意外而复发或加重。","转换变更":"变更中途会发生意外，导致结果不如预期。","求孕求子":"本来有希望，但中途可能出现意外。","官司诉讼":"本来形势有利，但会因新证据或意外情况而逆转。","寻人寻物":"本来有线索，但会因意外而中断。","远行出国":"旅途中会遇到意外，导致行程不顺。"}},{id:56,title:"第五十六签 达摩祖师观音娘（中平签）",qianwen:"開井喜有泉，掏沙始見金，世事皆如意，荣华自清心",story:"达摩面壁，观音济世，都需苦修方得正果。此签预示着成功需要付出努力和坚持，经过一番辛劳后，自然会得到回报，而真正的富贵在于内心的清净。",details:{"凡事做事":"先难后易，苦尽甘来。需要付出努力，才能见到成果。保持内心的平静和淡泊，才能享受真正的如意荣华。","爱情婚姻":"感情需要用心经营，经过磨合才能见到真心。","工作求职 创业事业":"需要辛勤工作，努力挖掘，才能展现自己的价值，获得成功。","考试竞赛 升迁竞选":"需要下苦功，才能取得好成绩。","投资理财":"需要耐心研究，沙里淘金，才能获得回报。","经商生意":"需要辛苦经营，才能盈利。","房地交易":"需要耐心寻找和谈判，才能完成理想的交易。","治病健康":"需要耐心调理，才能恢复健康。","转换变更":"变更需要一个适应和努力的过程。","求孕求子":"需要耐心调理和努力，才能成功。","官司诉讼":"需要努力搜集证据，才能胜诉。","寻人寻物":"需要费心寻找，才能找到。","远行出国":"旅途辛劳，但有收获。"}},{id:57,title:"第五十七签 苏秦说六国（中平签）",qianwen:"海闊恁魚跳，天空任鳥飛，各事皆所止，行藏合天時",story:"苏秦游说六国，天地广阔，大有可为。此签预示着外部环境非常有利，有广阔的发展空间，但个人行动要顺应天时，不可妄为。",details:{"凡事做事":"前景广阔，大有可为。但要审时度势，行动要合乎时宜，才能成功。","爱情婚姻":"有很多选择的机会，但要选择合适的时机和对象。","工作求职 创业事业":"发展空间很大，机会很多。但要选择适合自己的方向和时机。","考试竞赛 升迁竞选":"有机会成功，但要看时机是否成熟。","投资理财":"市场机会多，但要把握好进出场的时机。","经商生意":"市场广阔，但要顺应市场潮流。","房地交易":"市场选择多，要抓住合适的时机。","治病健康":"治疗方法多，要选择最适合自己当前状况的。","转换变更":"变更的机会很多，但要选择最佳时机。","求孕求子":"机会是有的，要顺应身体的周期。","官司诉讼":"有转圜的余地，要抓住有利的时机。","寻人寻物":"范围很广，要等待合适的时机去寻找。","远行出国":"天高任鸟飞，是出行的好时机。"}},{id:58,title:"第五十八签 姜太公遇文王（上上签）",qianwen:"栽花早結子，種柳柳成蔭，有子萬事福，無官一身輕",story:"姜太公钓鱼，心态淡泊。此签预示着顺其自然，不刻意强求，反而能得到好的结果。无论是入世求福，还是出世求轻，都能自得其乐。",details:{"凡事做事":"大吉大利，顺其自然。用心耕耘，必有收获。无论是追求世俗的成功，还是追求内心的平静，都能如愿。","爱情婚姻":"用心经营，自然开花结果，儿孙满堂，是为福气。","工作求职 创业事业":"努力工作，事业自然有成。若不求功名，也能乐得清闲自在。","考试竞赛 升迁竞选":"有心栽花花会开，努力必有回报。","投资理财":"长期投资，必有厚报。","经商生意":"用心经营，生意兴隆。","房地交易":"投资房产，能得增值。","治病健康":"心态平和，与世无争，有益健康。","转换变更":"随心而行，皆为好事。","求孕求子":"可得子女，享受天伦之乐。","官司诉讼":"无官一身轻，最好避免诉讼，以和为贵。","寻人寻物":"用心寻找，可得。","远行出国":"出行与否，随心所欲，皆有所得。"}},{id:59,title:"第五十九签 刘备取西川（大吉签）",qianwen:"簽詩抽出來，句句真和諧，欲求名共利，兩成免疑猜",story:"刘备得西川，名利双收。此签为大吉之兆，预示着所问之事，名和利两方面都能成功，不必怀疑。",details:{"凡事做事":"大吉大利，名利双收。所求之事，必定成功，无需多虑。","爱情婚姻":"郎才女貌，天作之合，名利皆得（指对方家世或个人能力皆好）。","工作求职 创业事业":"事业大成，能获得名声和财富。","考试竞赛 升迁竞选":"必能高中，名利双收。","投资理财":"投资能获得丰厚的回报和良好的声誉。","经商生意":"生意兴隆，名利双收。","房地交易":"交易能获得好的价格和名声。","治病健康":"身体健康，名声也好。","转换变更":"变更大吉，能带来名利。","求孕求子":"可得贵子，光耀门楣。","官司诉讼":"官司必胜，名利双收。","寻人寻物":"必能寻回，且完好无损。","远行出国":"出行大吉，能名扬海外，满载而归。"}},{id:60,title:"第六十签 程咬金坐位（上上签）",qianwen:"神機妙難穹，至成興神通，福壽康寧泰，盡在尾簽中",story:"程咬金为福将，最终得享高位。此为最后一签，是为“尾签”，有总结之意。预示着天机奥妙，只要心诚，自有神通感应，最终能获得福寿康宁的圆满结局。",details:{"凡事做事":"上上大吉，圆满结局。所问之事，已到终局，结果是最好的。福禄寿喜，康宁安泰，无所不有。","爱情婚姻":"天赐良缘，终成眷属，白头偕老，幸福美满。","工作求职 创业事业":"事业达到顶峰，功成名就，安享成果。","考试竞赛 升迁竞选":"独占鳌头，位极人臣，功德圆满。","投资理财":"获得最终的、最丰厚的回报。","经商生意":"生意达到顶峰，基业永固。","房地交易":"得到最理想的产业。","治病健康":"身体安康，福寿绵长。","转换变更":"无需再变，已是最好。","求孕求子":"喜得贵子，福气圆满。","官司诉讼":"最终胜诉，尘埃落定。","寻人寻物":"最终寻回，物归原主。","远行出国":"功成名就，荣归故里。"}},{id:61,title:"第六十一签 （中平签）",qianwen:"無心問卦，罰油一斤，四季添油，侃侃平安",story:"此为“罚油签”，意指问卦之人并非诚心，或所问之事无聊。神明不予明确回答，只劝其多做善事（添油），保持虔诚，自然可以保得四季平安。",details:{"凡事做事":"平安。所问之事，或无足轻重，或时机未到。不必多问，只需心存善念，多行善事，自然会平安顺利。","爱情婚姻":"随缘，保持平常心即可。","工作求职 创业事业":"做好本分，自然平顺。","考试竞赛 升迁竞选":"尽力而为，不必强求。","投资理财":"财运平平，守成为佳。","经商生意":"生意平稳，和气生财。","房地交易":"交易平顺。","治病健康":"身体无大碍，注意保养即可。","转换变更":"维持现状，平安是福。","求孕求子":"随缘，不必强求。","官司诉讼":"以和为贵，无讼为安。","寻人寻物":"随缘，或非重要之物。","远行出国":"出行平安。"}}];function ct(){const e=Math.random()>.5?"ping":"tu",t=Math.random()>.5?"ping":"tu";let n;return n=e!==t?"圣杯":"ping"===e?"笑杯":"阴杯",{result:n,bei1:e,bei2:t}}"undefined"!=typeof window&&(window.SSGW_SIGNS=lt,window.getRandomSign=function(){const e=Math.floor(Math.random()*lt.length);return lt[e]},window.getSignById=function(e){return lt.find(t=>t.id===e)},window.throwHolyGrail=ct);const ut=lt.map(e=>({number:e.id,title:e.title,poem:e.qianwen,story:e.story,details:e.details}));function mt(e){!function(e){if(!Number.isInteger(e))throw new Error("签号必须是整数");if(e<1||e>ut.length)throw new Error(`签号必须在 1 到 ${ut.length} 之间`)}(e);const{ganzhi:t,timestamp:n}=ze(),i=ut.find(t=>t.number===e);if(!i)throw new Error(`签号 ${e} 不存在`);return{...i,timestamp:n,ganzhi:t}}const dt=new class{generateDivination(e,t,n){switch(e){case"liuyao":return Be();case"meihua":{const e=function(e){const{ganzhi:t,timeInfo:n,timestamp:i}=ze(e),{lunar:a}=n,o=t.year.substring(1,2),s=a.monthNumber,r=a.dayNumber,l=t.hour.substring(1,2),c=ke.indexOf(o)+1,u=ke.indexOf(l)+1,m=(c+s+r)%8||8,d=(c+s+r+u)%8||8,p=(c+s+r+u)%6||6,y=Qe[m],g=Qe[d],h=Ke(m,d),b=[...g.lines,...y.lines],f=b.slice(1,4),w=b.slice(2,5),v=e=>{for(let t=1;t<=8;t++){const n=Qe[t];if(n&&n.lines.length===e.length){let i=!0;for(let t=0;t<e.length;t++)if(n.lines[t]!==e[t]){i=!1;break}if(i)return{index:t,trigram:n}}}return null},$=v(f),S=v(w),x=$&&S?Ke(S.index,$.index):null,R=[...b];R[p-1]=1-R[p-1];const E=R.slice(0,3),C=R.slice(3,6),I=v(E),A=v(C),T=I&&A?Ke(A.index,I.index):null;let _,D;p>3?(_=g,D=y):(_=y,D=g);const N=b.map((e,t)=>({position:t+1,yaoType:1===e?"阳":"阴",isChanging:t===p-1,tiYong:(t<3?g.name:y.name)===_.name?"体":"用"}));return{originalName:h.name,changedName:T?.name||"",interName:x?.name||"",tiGua:{name:_.name,element:_.element,nature:_.nature},yongGua:{name:D.name,element:D.element,nature:D.nature},mainHexagram:{name:h.name,symbol:h.symbol,upper:y.name,lower:g.name,description:h.description},changedHexagram:T?{name:T.name,symbol:T.symbol,upper:A?.trigram?.name||"",lower:I?.trigram?.name||"",description:T.description}:null,interHexagram:x?{name:x.name,symbol:x.symbol,upper:S?.trigram?.name||"",lower:$?.trigram?.name||"",description:x.description}:null,movingYao:{position:p,description:`第${p}爻动`,yaoName:["初爻","二爻","三爻","四爻","五爻","上爻"][p-1]||"未知"},analysis:{tiYongRelation:We.getElementRelation(D.element,_.element),inter1Relation:$?We.getElementRelation($.trigram.element,_.element):"无",inter2Relation:S?We.getElementRelation(S.trigram.element,_.element):"无",changedRelation:T&&A&&I?We.getElementRelation(p>3?A.trigram.element:I.trigram.element,_.element):"无变卦"},ganzhi:t,timestamp:i,yaosDetail:N,calculation:{method:"年月日时起卦法",yearZhi:o,yearZhiIndex:c,month:s,day:r,timeZhi:l,timeZhiIndex:u,upperTrigramIndex:m,lowerTrigramIndex:d,movingYaoIndex:p}}}();return e.calculation&&(e.calculation.method=e.calculation.method||"unknown"),e}case"qimen":return rt();case"tarot":{const e=function(e){const t=Se[e];if(!t)throw new Error(`未知的牌阵类型: ${e}`);const n=$e(),i=[];for(let a=0;a<t.cardCount;a++){const e=n[a],o=Math.random()<.5;i.push({card:e,isReversed:o,position:t.positions[a]})}return{spreadType:e,spreadName:t.name,cards:i,timestamp:Date.now()}}(t||"three"),n=e.cards.map(e=>({id:e.card.number,name:e.card.name,reversed:e.isReversed,position:e.position,keywords:Re(e.card.name).split(",")}));return{...e,cards:n}}case"tarot_single":{const e={card:$e()[0],isReversed:Math.random()<.5,position:"当前指引",timestamp:Date.now()};return{spreadType:"single",spreadName:"单牌指引",cards:[{id:e.card.number,name:e.card.name,reversed:e.isReversed,position:e.position,keywords:Re(e.card.name).split(",")}],timestamp:e.timestamp}}case"ssgw":{if(!n)throw new Error("求取三山国王灵签时必须提供签号");const e=mt(n);if(!e)throw new Error(`未找到签号为 ${n} 的灵签`);return e}default:throw new Error(`不支持的占卜类型: ${e}`)}}},pt="sydf-history",yt="sydf-app-settings",gt={autoSave:!0,maxHistoryItems:100,theme:"light",useCustomApi:!1};class ht{static instance;records=[];settings=gt;constructor(){this.loadFromStorage()}static getInstance(){return ht.instance||(ht.instance=new ht),ht.instance}getRecords(){const e=this.records.filter(e=>e.pinned),t=this.records.filter(e=>!e.pinned);return e.sort((e,t)=>(t.pinnedAt||t.timestamp)-(e.pinnedAt||e.timestamp)),t.sort((e,t)=>t.timestamp-e.timestamp),[...e,...t]}pinRecord(e){const t=this.records.find(t=>t.id===e);return!!t&&(t.pinned=!0,t.pinnedAt=Date.now(),this.saveToStorage(),G.emit(V.HISTORY_UPDATED),!0)}unpinRecord(e){const t=this.records.find(t=>t.id===e);return!!t&&(t.pinned=!1,delete t.pinnedAt,this.saveToStorage(),G.emit(V.HISTORY_UPDATED),!0)}getPinnedRecords(){return this.records.filter(e=>e.pinned)}togglePinRecord(e){const t=this.records.find(t=>t.id===e);return!!t&&(t.pinned?this.unpinRecord(e):this.pinRecord(e))}getRecord(e){return this.records.find(t=>t.id===e)}addRecord(e){const t={...e,id:N(),timestamp:Date.now(),summary:this.generateSummary(e.result)};return this.records.unshift(t),this.records.length>this.settings.maxHistoryItems&&(this.records=this.records.slice(0,this.settings.maxHistoryItems)),this.saveToStorage(),G.emit(V.HISTORY_UPDATED),t}updateRecord(e,t){const n=this.records.findIndex(t=>t.id===e);return-1!==n&&(this.records[n]=t,this.saveToStorage(),G.emit(V.HISTORY_UPDATED),!0)}deleteRecord(e){const t=this.records.findIndex(t=>t.id===e);return-1!==t&&(this.records.splice(t,1),this.saveToStorage(),G.emit(V.HISTORY_UPDATED),!0)}clearRecords(){this.records=[],this.saveToStorage(),G.emit(V.HISTORY_UPDATED)}searchRecords(e){if(!e.trim())return this.getRecords();const t=e.toLowerCase();return this.records.filter(e=>e.question.toLowerCase().includes(t)||e.summary.toLowerCase().includes(t))}filterByType(e){return"all"===e?this.getRecords():this.records.filter(t=>t.type===e)}getSettings(){return{...this.settings}}updateSettings(e){this.settings={...this.settings,...e},this.saveSettingsToStorage()}exportRecords(){const e={version:"1.0",exportTime:(new Date).toISOString(),records:this.records,settings:this.settings};return JSON.stringify(e,null,2)}importRecords(e){try{const t=JSON.parse(e);if(!t.records||!Array.isArray(t.records))return{success:!1,message:"无效的数据格式"};const n=new Set(this.records.map(e=>e.id)),i=t.records.filter(e=>!n.has(e.id));return this.records=[...i,...this.records].sort((e,t)=>t.timestamp-e.timestamp).slice(0,this.settings.maxHistoryItems),this.saveToStorage(),{success:!0,message:`成功导入 ${i.length} 条记录`,count:i.length}}catch{return{success:!1,message:"数据解析失败"}}}loadFromStorage(){try{const e=k.getItem(pt);e&&(this.records=e);const t=k.getItem(yt);t&&(this.settings={...gt,...t})}catch(e){be(he(e,"加载本地数据失败"))}}saveToStorage(){try{k.setItem(pt,this.records)}catch(e){be(he(e,"保存历史记录失败"))}}saveSettingsToStorage(){try{k.setItem(yt,this.settings)}catch(e){be(he(e,"保存设置失败"))}}generateSummary(e){try{const{type:t,data:n}=e;switch(t){case"liuyao":return"originalName"in n?`六爻: ${n.originalName||"未知卦"}`:"六爻: 未知卦";case"meihua":return"originalName"in n?`梅花易数: ${n.originalName||"未知卦"}`:"梅花易数: 未知卦";case"qimen":return"chart"in n?"奇门遁甲: 排盘完成":"奇门遁甲: 未知局";case"tarot":case"tarot_single":return"cards"in n&&Array.isArray(n.cards)?`塔罗牌: ${n.cards.map(e=>e.name).join(", ")}`:"塔罗牌: 未知牌";case"ssgw":return"title"in n?`${n.title||"三山国王灵签"}`:"三山国王灵签";default:return`${t} 占卜结果`}}catch{return"占卜结果"}}}const bt=ht.getInstance();class ft{async executeDivination(e,t){const{type:n,question:i,spreadType:a,signNumber:o,supplementaryInfo:s,signal:r}=e,{onInitialResult:l,onAIChunk:c,onAIComplete:u,onAIError:m,onConversationUpdate:d}=t;try{const e=dt.generateDivination(n,a,o),t={id:N(),type:n,data:e,aiResponse:"",...s&&{supplementaryInfo:s}};l(t);const p=[{role:"system",content:"你是精通周易、梅花易数、奇门遁甲、塔罗牌等术数的AI助手。请根据占卜结果，为用户提供解读。"},{id:`msg-${Date.now()}`,role:"user",content:i},{id:`msg-${Date.now()+1}`,role:"assistant",content:""}];if(d([...p]),this.isChaoticLiuyao(n,e))return this.handleChaoticLiuyao(e,t,p,u,d);await this.generateAIInterpretation(n,i,e,s,r,p,c,u,m,d,t),await bt.addRecord({type:n,question:i,result:t,conversationHistory:p})}catch(p){this.handleError(p,m)}}async sendFollowUp(e,t,n,i){try{await we.handleFollowUp(t,n,i);const a=bt.getRecord(e);a&&(a.conversationHistory=t,await bt.updateRecord(e,a))}catch(a){this.handleError(a,i.onError)}}isChaoticLiuyao(e,t){return"liuyao"===e&&!0===t.isChaotic}async handleChaoticLiuyao(e,t,n,i,a){const o=e.chaoticReason||"卦象动爻过多，信息混乱，请静心后重试。";t.aiResponse=o;const s=n.find(e=>"assistant"===e.role);s&&(s.content=o);const r={...t,type:"liuyao"};await bt.addRecord({type:"liuyao",question:"卦象检测",result:r,conversationHistory:n}),i(t),a([...n])}async generateAIInterpretation(e,t,n,i,a,o,s,r,l,c,u){try{const l=await we.generateAIResponse(e,t,n,i,a,e=>{const t=o.find(e=>"assistant"===e.role);t&&(t.content+=e),s(e),c([...o])});u.aiResponse=l;const m=o.find(e=>"assistant"===e.role);m&&(m.content=l),r(u),c([...o])}catch(m){throw l(m instanceof Error?m.message:"AI响应生成失败"),m}}handleError(e,t){const n=he(e,"占卜流程失败");be(n);t(fe(n))}}class wt{static instance;orchestrator;constructor(){this.orchestrator=new ft}static getInstance(){return wt.instance||(wt.instance=new wt),wt.instance}async startDivination(e,t){return this.orchestrator.executeDivination(e,t)}async sendFollowUp(e,t,n,i){return this.orchestrator.sendFollowUp(e,t,n,i)}}const vt=wt.getInstance(),$t=vt.startDivination.bind(vt);class St{static instance;installable=e(!1);promptTrigger=null;constructor(){}static getInstance(){return St.instance||(St.instance=new St),St.instance}setInstallable(e){this.installable.value=e}setPromptTrigger(e){this.promptTrigger=e}triggerPrompt(){this.promptTrigger?.()}}const xt=St.getInstance(),Rt={class:"item-content"},Et={class:"item-title"},Ct={key:0,class:"pin-indicator"},It={class:"item-meta"},At={class:"item-type"},Tt={class:"item-time"},_t={class:"item-actions"},Dt={key:0,class:"action-menu"},Nt={class:"menu-icon"},kt=U(i({__name:"SimpleHistoryItem",props:{record:{},isActive:{type:Boolean}},emits:["click","pin","edit","delete"],setup(i,{emit:c}){const p=i,y=c,g=e(!1);function h(){y("click",p.record)}function b(){g.value=!g.value}function f(){y("pin",p.record.id),g.value=!1}function w(){y("edit",p.record.id),g.value=!1}function v(){y("delete",p.record.id),g.value=!1}function $(e){const t=Date.now()-e,n=Math.floor(t/6e4),i=Math.floor(t/36e5),a=Math.floor(t/864e5);if(n<1)return"刚刚";if(n<60)return`${n}分钟前`;if(i<24)return`${i}小时前`;if(a<7)return`${a}天前`;return new Date(e).toLocaleDateString("zh-CN")}function S(e){e.target.closest(".history-item")||(g.value=!1)}return t(()=>{document.addEventListener("click",S)}),n(()=>{document.removeEventListener("click",S)}),(e,t)=>{return l(),a("div",{class:s(["history-item",{active:i.isActive}]),onClick:h},[o("div",Rt,[o("div",Et,[i.record.pinned?(l(),a("span",Ct,"📌")):u("",!0),m(" "+r(i.record.question),1)]),o("div",It,[o("span",At,r((n=i.record.type,{liuyao:"六爻",meihua:"梅花",qimen:"奇门",tarot:"塔罗",tarot_single:"塔罗",ssgw:"灵签"}[n]||"未知")),1),o("span",Tt,r($(i.record.timestamp)),1)])]),o("div",_t,[o("button",{class:"action-btn",title:"更多操作",onClick:d(b,["stop"])},[...t[0]||(t[0]=[o("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[o("circle",{cx:"2",cy:"8",r:"1.5"}),o("circle",{cx:"8",cy:"8",r:"1.5"}),o("circle",{cx:"14",cy:"8",r:"1.5"})],-1)])]),g.value?(l(),a("div",Dt,[o("button",{class:"menu-item",onClick:d(f,["stop"])},[o("span",Nt,r(i.record.pinned?"📌":"📍"),1),o("span",null,r(i.record.pinned?"取消置顶":"置顶"),1)]),o("button",{class:"menu-item",onClick:d(w,["stop"])},[...t[1]||(t[1]=[o("span",{class:"menu-icon"},"✏️",-1),o("span",null,"修改标签",-1)])]),o("button",{class:"menu-item delete",onClick:d(v,["stop"])},[...t[2]||(t[2]=[o("span",{class:"menu-icon"},"🗑️",-1),o("span",null,"删除",-1)])])])):u("",!0)])],2);var n}}}),[["__scopeId","data-v-17ec25f0"]]),Ot={class:"history-section"},qt={class:"section-header"},Pt={class:"header-actions"},jt={key:0,class:"dropdown-menu"},Mt={key:0,class:"search-section"},Lt={key:1,class:"filter-section"},Ht=["value"],zt={class:"history-list"},Yt={key:0,class:"empty-state"},Gt={key:1,class:"records-container"},Vt=U(i({__name:"SimpleHistoryList",props:{selectedHistoryId:{}},emits:["update:selectedHistoryId","navigate"],setup(i,{emit:s}){const c=s,m=e(""),d=e(""),$=e(!1),S=e(!1),x=e(!1),R=e(null),E=e([]),C=p(()=>{let e=E.value;if(m.value.trim()){const t=m.value.toLowerCase();e=e.filter(e=>e.question.toLowerCase().includes(t))}return d.value&&(e=e.filter(e=>e.type===d.value)),e});function I(){E.value=bt.getRecords()}function A(e){c("update:selectedHistoryId",e.id),c("navigate",`/divination/${e.type}?historyId=${e.id}`)}function T(e){bt.togglePinRecord(e),I()}function _(e){const t=E.value.find(t=>t.id===e);if(t){const e=prompt("修改标签:",t.question);e?.trim()&&(t.question=e.trim(),bt.records=E.value,bt.saveToStorage(),I())}}function D(e){confirm("确定要删除这条记录吗？")&&(bt.deleteRecord(e),I())}function N(){confirm("确定要清空所有历史记录吗？此操作不可撤销。")&&(bt.clearRecords(),I(),x.value=!1)}function k(){x.value=!x.value}function O(){}function q(){}function P(e){const t=e.target;x.value&&R.value&&!R.value.contains(t)&&(x.value=!1)}function j(){I()}return t(()=>{I(),document.addEventListener("click",P),G.on(V.HISTORY_UPDATED,j)}),n(()=>{document.removeEventListener("click",P),G.off(V.HISTORY_UPDATED,j)}),(e,t)=>(l(),a("div",Ot,[o("div",qt,[t[8]||(t[8]=o("h3",{class:"section-title"},"最近",-1)),o("div",Pt,[o("button",{class:"icon-btn",title:"搜索",onClick:t[0]||(t[0]=e=>$.value=!$.value)},[...t[4]||(t[4]=[o("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[o("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})],-1)])]),o("button",{class:"icon-btn",title:"筛选",onClick:t[1]||(t[1]=e=>S.value=!S.value)},[...t[5]||(t[5]=[o("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[o("path",{d:"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"})],-1)])]),o("div",{ref_key:"menuContainer",ref:R,class:"menu-container"},[o("button",{class:"icon-btn",title:"更多",onClick:k},[...t[6]||(t[6]=[o("svg",{width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[o("circle",{cx:"2",cy:"8",r:"1.5"}),o("circle",{cx:"8",cy:"8",r:"1.5"}),o("circle",{cx:"14",cy:"8",r:"1.5"})],-1)])]),x.value?(l(),a("div",jt,[o("button",{class:"menu-item",onClick:N},[...t[7]||(t[7]=[o("span",{class:"menu-icon"},"🗑️",-1),o("span",null,"清除所有",-1)])])])):u("",!0)],512)])]),$.value?(l(),a("div",Mt,[y(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),type:"text",placeholder:"搜索历史记录...",class:"search-input",onInput:O},null,544),[[g,m.value]])])):u("",!0),S.value?(l(),a("div",Lt,[y(o("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),class:"filter-select",onChange:q},[t[9]||(t[9]=o("option",{value:""},"所有类型",-1)),(l(!0),a(b,null,f(w(z),e=>(l(),a("option",{key:e.type,value:e.type},r(e.title),9,Ht))),128))],544),[[h,d.value]])])):u("",!0),o("div",zt,[0===C.value.length?(l(),a("div",Yt,[t[10]||(t[10]=o("div",{class:"empty-icon"},"📜",-1)),o("p",null,r(m.value||d.value?"没有找到匹配的历史记录":"暂无历史记录"),1)])):(l(),a("div",Gt,[(l(!0),a(b,null,f(C.value,e=>(l(),v(kt,{key:e.id,record:e,"is-active":i.selectedHistoryId===e.id,onClick:A,onPin:T,onEdit:_,onDelete:D},null,8,["record","is-active"]))),128))]))])]))}}),[["__scopeId","data-v-91033c1a"]]),Bt={class:"footer-item"},Ft={class:"footer-text"},Wt=U(i({__name:"FooterLink",props:{path:{},title:{},isActive:{type:Boolean}},emits:["navigate"],setup(e,{emit:t}){const n=e,i=t,c=()=>{i("navigate",n.path)};return(t,n)=>(l(),a("li",Bt,[o("div",{class:s([{"footer-link-active":e.isActive},"footer-link"]),onClick:c},[o("span",Ft,r(e.title),1)],2)]))}}),[["__scopeId","data-v-81b6d03f"]]),Ut={class:"sidebar-header"},Qt={class:"logo-section"},Kt=["title"],Zt={class:"theme-icon-compact"},Jt={class:"sidebar-nav"},Xt={class:"nav-section"},en={class:"nav-list"},tn={class:"sidebar-footer"},nn={class:"footer-list"},an=U(i({__name:"Sidebar",props:{isCollapsed:{type:Boolean}},setup(i,{expose:c}){const u=i,m=e(null),d=e(!1),p=x(),y=R(),g=O(),{themeConfig:h,toggleTheme:E}=g;function C(e){e.includes("historyId")||(m.value=null),p.path===e&&Object.keys(p.query).length>0?y.replace({path:e,query:{}}):p.path!==e&&y.push(e)}function I(e){return!p.query.historyId&&(!m.value&&(p.name,p.path===e))}function A(){m.value=null}return function(){const i=e(window.innerWidth<=768),a=()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)},o=()=>{i.value=window.innerWidth<=768,a()};t(()=>{o(),window.addEventListener("resize",o),window.addEventListener("orientationchange",a)}),n(()=>{window.removeEventListener("resize",o),window.removeEventListener("orientationchange",a)})}(),$(()=>p.params.id,e=>{m.value=e&&"string"==typeof e?e:null}),t(()=>{setTimeout(()=>{d.value=!0},100),G.on(V.HISTORY_SELECTION_RESET,A)}),n(()=>{G.off(V.HISTORY_SELECTION_RESET,A)}),c({}),(e,t)=>(l(),a("aside",{class:s(["sidebar",{"sidebar-collapsed":u.isCollapsed,"sidebar-initialized":d.value}])},[o("div",Ut,[o("div",Qt,[t[2]||(t[2]=o("span",{class:"logo-text"},"时月东方",-1)),t[3]||(t[3]=o("img",{src:"/static/favicon.png",alt:"网站Logo",class:"website-logo"},null,-1)),o("div",{class:"theme-toggle-compact",title:w(h)?.text,onClick:t[0]||(t[0]=(...e)=>w(E)&&w(E)(...e))},[o("span",Zt,r(w(h)?.icon),1)],8,Kt)])]),o("nav",Jt,[o("div",Xt,[o("ul",en,[S(Q,{path:"/",title:"首页",icon:"🏠","is-active":I("/"),onNavigate:C},null,8,["is-active"]),(l(!0),a(b,null,f(w(z),e=>(l(),v(Q,{key:e.type,path:`/divination/${e.type}`,title:e.title,icon:e.icon,"is-active":I(`/divination/${e.type}`),onNavigate:C},null,8,["path","title","icon","is-active"]))),128))])])]),S(Vt,{"selected-history-id":m.value,"onUpdate:selectedHistoryId":t[1]||(t[1]=e=>m.value=e),onNavigate:C},null,8,["selected-history-id"]),o("div",tn,[o("ul",nn,[S(Wt,{path:"/settings",title:"配置 Key","is-active":I("/settings"),onNavigate:C},null,8,["is-active"]),S(Wt,{path:"/rengong",title:"转人工","is-active":I("/rengong"),onNavigate:C},null,8,["is-active"]),S(Wt,{path:"/gongdebox",title:"功德箱","is-active":I("/gongdebox"),onNavigate:C},null,8,["is-active"]),S(Wt,{path:"/gongdeboard",title:"功德榜","is-active":I("/gongdeboard"),onNavigate:C},null,8,["is-active"]),S(Wt,{path:"/about",title:"关于本站","is-active":I("/about"),onNavigate:C},null,8,["is-active"])])])],2))}}),[["__scopeId","data-v-6d7f4f20"]]),on={class:"top-bar"},sn={class:"top-bar-content"},rn={class:"top-bar-actions"},ln=U(i({__name:"TopBar",props:{sidebarCollapsed:{type:Boolean}},emits:["toggle-sidebar"],setup:e=>(t,n)=>(l(),a("header",on,[o("div",sn,[o("button",{class:s(["menu-toggle",{"menu-active":!e.sidebarCollapsed}]),onClick:n[0]||(n[0]=e=>t.$emit("toggle-sidebar"))},[...n[1]||(n[1]=[o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1),o("span",{class:"hamburger-line"},null,-1)])],2),n[2]||(n[2]=o("div",{class:"top-bar-title"},[o("h1",null,"时月东方")],-1)),o("div",rn,[E(t.$slots,"actions",{},void 0)])])]))}),[["__scopeId","data-v-fbb4e780"]]),cn={class:"app-container"},un={class:"main-content"},mn={class:"content-wrapper"},dn=i({__name:"App",setup(i){O();const r=e(window.innerWidth<=768),c=e(window.innerWidth<=768),u=x();function m(){r.value=window.innerWidth<=768,r.value&&(c.value=!0)}function d(){c.value=!c.value}function p(){c.value=!0}function y(e){if(!r.value||c.value)return;const t=e.target,n=document.querySelector(".sidebar"),i=document.querySelector(".menu-toggle");n?.contains(t)||i?.contains(t)||p()}return $(()=>u?.fullPath,()=>{r.value&&p()},{immediate:!1}),t(()=>{document.addEventListener("click",y),window.addEventListener("resize",m)}),n(()=>{document.removeEventListener("click",y),window.removeEventListener("resize",m)}),(e,t)=>{const n=C("router-view");return l(),a("div",cn,[S(an,{ref:"sidebarRef","is-collapsed":c.value},null,8,["is-collapsed"]),o("div",{class:s(["main-wrapper",{"sidebar-collapsed":c.value}])},[S(ln,{"sidebar-collapsed":c.value,onToggleSidebar:d},null,8,["sidebar-collapsed"]),o("main",un,[o("div",mn,[(l(),v(n,{key:w(u).fullPath}))])])],2)])}}}),pn={},yn=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),a=n?.nonce||n?.getAttribute("nonce");i=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in pn)return;pn[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,a&&i.setAttribute("nonce",a),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},gn=z.map(e=>e.type),hn=[{path:"/divination/:type",name:"divination",component:()=>yn(()=>import("./UnifiedDivinationView-BaIOJ3A6.js"),__vite__mapDeps([0,1,2,3,4,5,6])),props:e=>({divinationType:e.params.type}),beforeEnter:(e,t,n)=>{gn.includes(e.params.type)?n():n({name:"not-found"})}},{path:"/ssgw",redirect:"/divination/ssgw"}],bn=[{path:"/history",name:"history",component:()=>yn(()=>import("./HistoryView-DlGd9NH5.js"),__vite__mapDeps([7,2,3,1,4,5,8]))},{path:"/history/:id",name:"history-detail",component:()=>yn(()=>import("./HistoryView-DlGd9NH5.js"),__vite__mapDeps([7,2,3,1,4,5,8])),props:e=>({showDetail:!0,selectedRecordId:e.params.id})}],fn=[{path:"/settings",name:"settings",component:()=>yn(()=>import("./ApiKeyView-CGXkOgMp.js"),__vite__mapDeps([9,1,5,10]))},{path:"/api-key",redirect:"/settings"},{path:"/api-config",redirect:"/settings"}],wn=I({history:A("/"),routes:[{path:"/",name:"home",component:()=>yn(()=>import("./HomeView-VMg7Vgsq.js"),__vite__mapDeps([11,1,5,12]))},...hn,...bn,...fn,{path:"/rengong",name:"rengong",component:()=>yn(()=>import("./RengongView-BmUYOxOg.js"),__vite__mapDeps([13,14,1,5,15]))},{path:"/about",name:"about",component:()=>yn(()=>import("./AboutView-D-PBDRk8.js"),__vite__mapDeps([16,14,1,5,17]))},{path:"/gongdebox",name:"gongdebox",component:()=>yn(()=>import("./GongdeBoxView-DnpAfM0D.js"),__vite__mapDeps([18,1,5,19]))},{path:"/gongdeboard",name:"gongdeboard",component:()=>yn(()=>import("./GongdeBoardView-B3pr3QOu.js"),__vite__mapDeps([20,1,5,21]))},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>yn(()=>import("./NotFoundView-Dcq2ULdn.js"),__vite__mapDeps([22,1,5,23]))}],scrollBehavior:(e,t,n)=>new Promise(t=>{requestAnimationFrame(()=>{if(n)t(n);else if(e.hash)t({el:e.hash,behavior:"smooth"});else{const e=document.querySelector(".content-wrapper");e&&(e.scrollTop=0),window.scrollTo(0,0),t({left:0,top:0})}})})});wn.beforeEach((e,t,n)=>{n()});const vn=T();const $n=_(dn);let Sn;$n.use(vn),$n.use(wn),function(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:o,onRegisterError:s}=e;let r,l;l=async function(){if("serviceWorker"in navigator){if(r=await yn(async()=>{const{Workbox:e}=await import("./workbox-window.prod.es5-DMXp7Fa7.js");return{Workbox:e}},[]).then(({Workbox:e})=>new e("/sw.js",{scope:"/",type:"classic"})).catch(e=>{s?.(e)}),!r)return;r.addEventListener("activated",e=>{(e.isUpdate||e.isExternal)&&window.location.reload()}),r.addEventListener("installed",e=>{e.isUpdate||i?.()}),r.register({immediate:t}).then(e=>{o?o("/sw.js",e):a?.(e)}).catch(e=>{s?.(e)})}}()}({immediate:!0,onOfflineReady(){},onNeedRefresh(){}}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),Sn=e,xt.setInstallable(!0),xt.setPromptTrigger(()=>{Sn&&(Sn.prompt(),Sn.userChoice.then(()=>{Sn=null,xt.setInstallable(!1)}))})}),window.addEventListener("appinstalled",()=>{Sn=null,xt.setInstallable(!1)}),$n.mount("#app");export{te as A,V as E,Fe as L,U as _,Se as a,Y as b,vt as d,G as e,xe as g,bt as h,$t as p,k as s,ct as t,X as u};
