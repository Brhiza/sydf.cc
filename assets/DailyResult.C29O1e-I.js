import{d as s,i as a,c as e,b as n,g as l,t as i,h as t,F as o,l as c,e as r}from"./vendor.BUyyYNCK.js";import{_ as u}from"./index.De43H881.js";const v={class:"daily-fortune-result"},y={class:"result-header"},p={class:"info-line"},d={class:"info-value"},f={class:"info-line"},k={class:"info-value"},m={key:0,class:"info-line"},h={class:"info-value"},g={key:1,class:"info-line"},D={class:"info-value"},b={key:2,class:"info-line"},A={class:"info-value"},w={key:3,class:"info-line"},R={class:"info-value"},j={class:"fortune-overview"},q={class:"overall-score"},x={class:"score-text"},L={class:"score-description"},_={key:0,class:"ai-overall-analysis"},z={class:"analysis-item"},I={class:"analysis-item"},O={class:"analysis-item"},S={class:"aspects-section"},W={class:"aspect-header"},B={class:"aspect-icon"},F={class:"aspect-name"},G={class:"aspect-score"},J={key:0,class:"aspect-description"},N={key:1,class:"aspect-ai-analysis"},C={class:"analysis-subitem"},E={key:0,class:"analysis-subitem"},H={key:1,class:"analysis-subitem"},K={key:2,class:"analysis-subitem"},M={key:0,class:"qimen-section"},P={class:"qimen-analysis"},Q={class:"analysis-item"},T={class:"analysis-item"},U={class:"analysis-item"},V={key:1,class:"precautions-section"},X={class:"precautions"},Y={key:0,class:"analysis-item"},Z={key:1,class:"analysis-item"},$={key:2,class:"analysis-item"},ss={key:2,class:"ai-interpretation"},as={class:"ai-content"},es=u(s({__name:"DailyResult",props:{fortuneData:{},aiResponse:{},showLucky:{type:Boolean,default:!0},detailedAnalysis:{}},setup(s){const u=s,es=[{key:"career",name:"事业运势",icon:"💼"},{key:"wealth",name:"财富运势",icon:"💰"},{key:"relationship",name:"感情运势",icon:"💕"},{key:"health",name:"健康运势",icon:"🏥"}],ns=a(()=>{if(u.detailedAnalysis)return u.detailedAnalysis;if(!u.aiResponse)return null;try{let s="";const a=u.aiResponse.match(/```json\s*([\s\S]*?)\s*```/);if(a)s=a[1];else{const a=u.aiResponse.trim();if(a.startsWith("{")&&a.endsWith("}"))s=a;else{const a=u.aiResponse.indexOf("{"),e=u.aiResponse.lastIndexOf("}");-1!==a&&-1!==e&&e>a&&(s=u.aiResponse.substring(a,e+1))}}if(!s)return null;s=s.trim();const e=JSON.parse(s);return e&&"object"==typeof e?(e.overallAnalysis||(e.overallAnalysis={summary:"整体运势分析",trend:"运势走向",strategy:"行动策略"}),e.aspects||(e.aspects={}),e.precautions||(e.precautions={warnings:"",avoidances:"",recommendations:""}),e):null}catch(s){return null}});return(a,u)=>(r(),e("div",v,[n("div",y,[n("div",p,[u[0]||(u[0]=n("span",{class:"info-label"},"公历时间：",-1)),n("span",d,i(s.fortuneData.date),1)]),n("div",f,[u[1]||(u[1]=n("span",{class:"info-label"},"干支：",-1)),n("span",k,i(s.fortuneData.ganzhi?.year)+"年 "+i(s.fortuneData.ganzhi?.month)+"月 "+i(s.fortuneData.ganzhi?.day)+"日 "+i(s.fortuneData.ganzhi?.hour)+"时",1)]),s.showLucky?(r(),e("div",m,[u[2]||(u[2]=n("span",{class:"info-label"},"幸运数字：",-1)),n("span",h,i(s.fortuneData.lucky?.numbers?.join("、")||"暂无"),1)])):l("",!0),s.showLucky?(r(),e("div",g,[u[3]||(u[3]=n("span",{class:"info-label"},"幸运颜色：",-1)),n("span",D,i(s.fortuneData.lucky?.colors?.join("、")||"暂无"),1)])):l("",!0),s.showLucky?(r(),e("div",b,[u[4]||(u[4]=n("span",{class:"info-label"},"幸运方向：",-1)),n("span",A,i(s.fortuneData.lucky?.directions?.join("、")||"暂无"),1)])):l("",!0),s.showLucky?(r(),e("div",w,[u[5]||(u[5]=n("span",{class:"info-label"},"幸运时辰：",-1)),n("span",R,i(s.fortuneData.lucky?.time||"暂无"),1)])):l("",!0)]),n("div",j,[u[9]||(u[9]=n("h3",{class:"fortune-title"},"今日运势概览",-1)),n("div",q,[n("span",x,i(s.fortuneData.overall.luck)+"（"+i(s.fortuneData.overall.score)+"分）",1)]),n("p",L,i(s.fortuneData.overall.description),1),ns.value?.overallAnalysis?(r(),e("div",_,[n("div",z,[u[6]||(u[6]=n("strong",null,"运势概述：",-1)),t(i(ns.value.overallAnalysis.summary),1)]),n("div",I,[u[7]||(u[7]=n("strong",null,"运势走向：",-1)),t(i(ns.value.overallAnalysis.trend),1)]),n("div",O,[u[8]||(u[8]=n("strong",null,"行动策略：",-1)),t(i(ns.value.overallAnalysis.strategy),1)])])):l("",!0)]),n("div",S,[u[14]||(u[14]=n("h4",{class:"section-title"},"综合运势",-1)),(r(),e(o,null,c(es,a=>n("div",{key:a.key,class:"aspect-item"},[n("div",W,[n("span",B,i(a.icon),1),n("span",F,i(a.name)+"：",1),n("span",G,i(s.fortuneData.aspects[a.key].score)+"分",1)]),s.fortuneData.aspects[a.key].description?(r(),e("div",J,i(s.fortuneData.aspects[a.key].description),1)):l("",!0),ns.value?.aspects[a.key]?(r(),e("div",N,[n("div",C,[u[10]||(u[10]=n("strong",null,"详细分析：",-1)),t(i(ns.value.aspects[a.key].analysis),1)]),ns.value.aspects[a.key].opportunities?(r(),e("div",E,[u[11]||(u[11]=n("strong",null,"发展机会：",-1)),t(i(ns.value.aspects[a.key].opportunities),1)])):l("",!0),ns.value.aspects[a.key].challenges||ns.value.aspects[a.key].risks?(r(),e("div",H,[u[12]||(u[12]=n("strong",null,"风险挑战：",-1)),t(i(ns.value.aspects[a.key].challenges||ns.value.aspects[a.key].risks),1)])):l("",!0),ns.value.aspects[a.key].advice?(r(),e("div",K,[u[13]||(u[13]=n("strong",null,"行动建议：",-1)),t(i(ns.value.aspects[a.key].advice),1)])):l("",!0)])):l("",!0)])),64))]),ns.value?.qimenAnalysis?(r(),e("div",M,[u[18]||(u[18]=n("h4",{class:"section-title"},"奇门遁甲解析",-1)),n("div",P,[n("div",Q,[u[15]||(u[15]=n("strong",null,"格局特点：",-1)),t(i(ns.value.qimenAnalysis.patternAnalysis),1)]),n("div",T,[u[16]||(u[16]=n("strong",null,"宫位影响：",-1)),t(i(ns.value.qimenAnalysis.palaceInfluence),1)]),n("div",U,[u[17]||(u[17]=n("strong",null,"专业指导：",-1)),t(i(ns.value.qimenAnalysis.professionalGuidance),1)])])])):l("",!0),ns.value?.precautions?(r(),e("div",V,[u[22]||(u[22]=n("h4",{class:"section-title"},"注意事项",-1)),n("div",X,[ns.value.precautions.warnings?(r(),e("div",Y,[u[19]||(u[19]=n("strong",null,"特别提醒：",-1)),t(i(ns.value.precautions.warnings),1)])):l("",!0),ns.value.precautions.avoidances?(r(),e("div",Z,[u[20]||(u[20]=n("strong",null,"避免行为：",-1)),t(i(ns.value.precautions.avoidances),1)])):l("",!0),ns.value.precautions.recommendations?(r(),e("div",$,[u[21]||(u[21]=n("strong",null,"推荐活动：",-1)),t(i(ns.value.precautions.recommendations),1)])):l("",!0)])])):l("",!0),s.aiResponse&&!ns.value?(r(),e("div",ss,[u[23]||(u[23]=n("h4",{class:"section-title"},"AI大师解读",-1)),n("div",as,i(s.aiResponse),1)])):l("",!0)]))}}),[["__scopeId","data-v-3a81d8b1"]]);export{es as D};
