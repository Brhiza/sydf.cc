import{d as s,i as a,c as e,b as l,g as n,t as i,h as t,F as o,l as c,e as r}from"./vendor.BOsypETj.js";import{_ as u}from"./index.C-qxr2xH.js";const v={class:"daily-fortune-result"},y={class:"result-header"},p={class:"info-line"},d={class:"info-value"},f={class:"info-line"},k={class:"info-value"},m={key:0,class:"info-line"},h={class:"info-value"},g={key:1,class:"info-line"},D={class:"info-value"},A={key:2,class:"info-line"},b={class:"info-value"},w={key:3,class:"info-line"},R={class:"info-value"},j={class:"fortune-overview"},q={class:"overall-score"},x={class:"score-text"},L={class:"score-description"},_={key:0,class:"ai-overall-analysis"},z={class:"analysis-item"},I={class:"analysis-item"},O={class:"analysis-item"},S={class:"aspects-section"},W={class:"aspect-header"},B={class:"aspect-icon"},F={class:"aspect-name"},G={class:"aspect-score"},J={key:0,class:"aspect-description"},N={key:1,class:"aspect-ai-analysis"},C={class:"analysis-subitem"},E={key:0,class:"analysis-subitem"},H={key:1,class:"analysis-subitem"},K={key:2,class:"analysis-subitem"},M={key:0,class:"qimen-section"},P={class:"qimen-analysis"},Q={class:"analysis-item"},T={class:"analysis-item"},U={class:"analysis-item"},V={key:1,class:"precautions-section"},X={class:"precautions"},Y={key:0,class:"analysis-item"},Z={key:1,class:"analysis-item"},$={key:2,class:"analysis-item"},ss={key:2,class:"ai-interpretation"},as={class:"ai-content"},es=u(s({__name:"DailyResult",props:{fortuneData:{},aiResponse:{default:""},showLucky:{type:Boolean,default:!0},detailedAnalysis:{default:()=>({})}},setup(s){const u=s,es=[{key:"career",name:"事业运势",icon:"💼"},{key:"wealth",name:"财富运势",icon:"💰"},{key:"relationship",name:"感情运势",icon:"💕"},{key:"health",name:"健康运势",icon:"🏥"}],ls=a(()=>{if(u.detailedAnalysis)return u.detailedAnalysis;if(!u.aiResponse)return null;try{let s="";const a=u.aiResponse.match(/```json\s*([\s\S]*?)\s*```/);if(a)s=a[1];else{const a=u.aiResponse.trim();if(a.startsWith("{")&&a.endsWith("}"))s=a;else{const a=u.aiResponse.indexOf("{"),e=u.aiResponse.lastIndexOf("}");-1!==a&&-1!==e&&e>a&&(s=u.aiResponse.substring(a,e+1))}}if(!s)return null;s=s.trim();const e=JSON.parse(s);return e&&"object"==typeof e?(e.overallAnalysis||(e.overallAnalysis={summary:"整体运势分析",trend:"运势走向",strategy:"行动策略"}),e.aspects||(e.aspects={}),e.precautions||(e.precautions={warnings:"",avoidances:"",recommendations:""}),e):null}catch(s){return null}});return(a,u)=>(r(),e("div",v,[l("div",y,[l("div",p,[u[0]||(u[0]=l("span",{class:"info-label"},"公历时间：",-1)),l("span",d,i(s.fortuneData.date),1)]),l("div",f,[u[1]||(u[1]=l("span",{class:"info-label"},"干支：",-1)),l("span",k,i(s.fortuneData.ganzhi?.year)+"年 "+i(s.fortuneData.ganzhi?.month)+"月 "+i(s.fortuneData.ganzhi?.day)+"日 "+i(s.fortuneData.ganzhi?.hour)+"时",1)]),s.showLucky?(r(),e("div",m,[u[2]||(u[2]=l("span",{class:"info-label"},"幸运数字：",-1)),l("span",h,i(s.fortuneData.lucky?.numbers?.join("、")||"暂无"),1)])):n("",!0),s.showLucky?(r(),e("div",g,[u[3]||(u[3]=l("span",{class:"info-label"},"幸运颜色：",-1)),l("span",D,i(s.fortuneData.lucky?.colors?.join("、")||"暂无"),1)])):n("",!0),s.showLucky?(r(),e("div",A,[u[4]||(u[4]=l("span",{class:"info-label"},"幸运方向：",-1)),l("span",b,i(s.fortuneData.lucky?.directions?.join("、")||"暂无"),1)])):n("",!0),s.showLucky?(r(),e("div",w,[u[5]||(u[5]=l("span",{class:"info-label"},"幸运时辰：",-1)),l("span",R,i(s.fortuneData.lucky?.time||"暂无"),1)])):n("",!0)]),l("div",j,[u[9]||(u[9]=l("h3",{class:"fortune-title"},"今日运势概览",-1)),l("div",q,[l("span",x,i(s.fortuneData.overall.luck)+"（"+i(s.fortuneData.overall.score)+"分）",1)]),l("p",L,i(s.fortuneData.overall.description),1),ls.value?.overallAnalysis?(r(),e("div",_,[l("div",z,[u[6]||(u[6]=l("strong",null,"运势概述：",-1)),t(i(ls.value.overallAnalysis.summary),1)]),l("div",I,[u[7]||(u[7]=l("strong",null,"运势走向：",-1)),t(i(ls.value.overallAnalysis.trend),1)]),l("div",O,[u[8]||(u[8]=l("strong",null,"行动策略：",-1)),t(i(ls.value.overallAnalysis.strategy),1)])])):n("",!0)]),l("div",S,[u[14]||(u[14]=l("h4",{class:"section-title"},"综合运势",-1)),(r(),e(o,null,c(es,a=>l("div",{key:a.key,class:"aspect-item"},[l("div",W,[l("span",B,i(a.icon),1),l("span",F,i(a.name)+"：",1),l("span",G,i(s.fortuneData.aspects[a.key].score)+"分",1)]),s.fortuneData.aspects[a.key].description?(r(),e("div",J,i(s.fortuneData.aspects[a.key].description),1)):n("",!0),ls.value?.aspects[a.key]?(r(),e("div",N,[l("div",C,[u[10]||(u[10]=l("strong",null,"详细分析：",-1)),t(i(ls.value.aspects[a.key].analysis),1)]),ls.value.aspects[a.key].opportunities?(r(),e("div",E,[u[11]||(u[11]=l("strong",null,"发展机会：",-1)),t(i(ls.value.aspects[a.key].opportunities),1)])):n("",!0),ls.value.aspects[a.key].challenges||ls.value.aspects[a.key].risks?(r(),e("div",H,[u[12]||(u[12]=l("strong",null,"风险挑战：",-1)),t(i(ls.value.aspects[a.key].challenges||ls.value.aspects[a.key].risks),1)])):n("",!0),ls.value.aspects[a.key].advice?(r(),e("div",K,[u[13]||(u[13]=l("strong",null,"行动建议：",-1)),t(i(ls.value.aspects[a.key].advice),1)])):n("",!0)])):n("",!0)])),64))]),ls.value?.qimenAnalysis?(r(),e("div",M,[u[18]||(u[18]=l("h4",{class:"section-title"},"奇门遁甲解析",-1)),l("div",P,[l("div",Q,[u[15]||(u[15]=l("strong",null,"格局特点：",-1)),t(i(ls.value.qimenAnalysis.patternAnalysis),1)]),l("div",T,[u[16]||(u[16]=l("strong",null,"宫位影响：",-1)),t(i(ls.value.qimenAnalysis.palaceInfluence),1)]),l("div",U,[u[17]||(u[17]=l("strong",null,"专业指导：",-1)),t(i(ls.value.qimenAnalysis.professionalGuidance),1)])])])):n("",!0),ls.value?.precautions?(r(),e("div",V,[u[22]||(u[22]=l("h4",{class:"section-title"},"注意事项",-1)),l("div",X,[ls.value.precautions.warnings?(r(),e("div",Y,[u[19]||(u[19]=l("strong",null,"特别提醒：",-1)),t(i(ls.value.precautions.warnings),1)])):n("",!0),ls.value.precautions.avoidances?(r(),e("div",Z,[u[20]||(u[20]=l("strong",null,"避免行为：",-1)),t(i(ls.value.precautions.avoidances),1)])):n("",!0),ls.value.precautions.recommendations?(r(),e("div",$,[u[21]||(u[21]=l("strong",null,"推荐活动：",-1)),t(i(ls.value.precautions.recommendations),1)])):n("",!0)])])):n("",!0),s.aiResponse&&!ls.value?(r(),e("div",ss,[u[23]||(u[23]=l("h4",{class:"section-title"},"AI大师解读",-1)),l("div",as,i(s.aiResponse),1)])):n("",!0)]))}}),[["__scopeId","data-v-1017d7a0"]]);export{es as D};
