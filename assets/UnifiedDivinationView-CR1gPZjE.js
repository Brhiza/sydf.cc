import{d as e,i as a,j as n,k as l,l as i,c as t,b as s,m as o,F as u,r as c,n as r,t as v,e as p,_ as d,o as g,p as k,q as y,s as m,v as h,x as C,f as b,y as f,z as w,A as T,h as q,B as x,u as R,C as I,D as _,E as V,G as A,H as j,I as L}from"./index-3ghV2dSu.js";import{d as D,D as $}from"./DivinationResult-D_QygeyL.js";const H={class:"inspiration-card"},S={class:"inspiration-tabs"},U=["onClick"],E={class:"category-heading"},B={class:"questions-wrapper"},P=["onClick"],F={class:"questions-wrapper"},M={class:"questions-wrapper"},N={class:"questions-wrapper"},z={class:"questions-wrapper"},G={class:"questions-wrapper"},K={class:"questions-wrapper"},O={class:"questions-wrapper"},Q={class:"questions-wrapper"},W={class:"questions-wrapper"},J={class:"questions-wrapper"},X={class:"questions-wrapper"},Y={class:"questions-wrapper"},Z={class:"questions-wrapper"},ee={class:"questions-wrapper"},ae={class:"questions-wrapper"},ne=d(e({__name:"InspirationPanel",props:{spreadType:{}},emits:["select","submit"],setup(e,{emit:d}){const g=e,k=d,y=a(()=>g.spreadType?n(g.spreadType):[]),m=a(()=>{var e;return g.spreadType&&(null==(e=l[g.spreadType])?void 0:e.name)||""}),h=a(()=>{const e=[{id:"ganqing",name:"æ„Ÿæƒ…"},{id:"shiye",name:"äº‹ä¸š"},{id:"caifu",name:"è´¢å¯Œ"},{id:"renji",name:"äººé™…"},{id:"rensheng",name:"æˆé•¿"}];return g.spreadType&&y.value.length>0?[{id:"spread",name:"ç‰Œé˜µ"},...e]:e}),C=i(g.spreadType&&n(g.spreadType).length>0?"spread":"ganqing");function b(e){document.querySelectorAll(".questions-wrapper p").forEach(a=>{a.textContent===e&&(a.classList.add("clicked"),setTimeout(()=>{a.classList.remove("clicked")},300))}),k("submit",e)}return(e,a)=>(p(),t("div",H,[a[104]||(a[104]=s("h3",{class:"inspiration-title"},"é—®é¢˜çµæ„Ÿ",-1)),s("div",S,[(p(!0),t(u,null,c(h.value,e=>(p(),t("button",{key:e.id,class:r(["tab-btn",{active:C.value===e.id}]),onClick:a=>C.value=e.id},v(e.name),11,U))),128))]),e.spreadType&&y.value.length>0?(p(),t("div",{key:0,id:"spread",class:r(["tab-pane",{active:"spread"===C.value}])},[s("h4",E,v(m.value)+"ä¸“å±é—®é¢˜",1),s("div",B,[(p(!0),t(u,null,c(y.value,e=>(p(),t("p",{key:e,onClick:a=>b(e)},v(e),9,P))),128))])],2)):o("",!0),s("div",{id:"ganqing",class:r(["tab-pane",{active:"ganqing"===C.value}])},[a[89]||(a[89]=s("h4",{class:"category-heading"},"æƒ…æ„Ÿå‘å±•",-1)),s("div",F,[s("p",{onClick:a[0]||(a[0]=e=>b("æˆ‘è¿‘æœŸçš„æ¡ƒèŠ±è¿æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘è¿‘æœŸçš„æ¡ƒèŠ±è¿æ€ä¹ˆæ ·ï¼Ÿ"),s("p",{onClick:a[1]||(a[1]=e=>b("æˆ‘ä»¬ç›®å‰çš„æ„Ÿæƒ…èµ°å‘å¦‚ä½•ï¼Ÿ"))},"æˆ‘ä»¬ç›®å‰çš„æ„Ÿæƒ…èµ°å‘å¦‚ä½•ï¼Ÿ"),s("p",{onClick:a[2]||(a[2]=e=>b("ä»–/å¥¹å¯¹æˆ‘çš„çœŸå®æƒ…æ„Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"))}," ä»–/å¥¹å¯¹æˆ‘çš„çœŸå®æƒ…æ„Ÿæ˜¯ä»€ä¹ˆï¼Ÿ "),s("p",{onClick:a[3]||(a[3]=e=>b("æˆ‘ä»¬ä¹‹é—´æœ‰æœªæ¥å—ï¼Ÿ"))},"æˆ‘ä»¬ä¹‹é—´æœ‰æœªæ¥å—ï¼Ÿ"),s("p",{onClick:a[4]||(a[4]=e=>b("å¦‚ä½•æ”¹å–„æˆ‘ä»¬ç›®å‰çš„å…³ç³»ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„æˆ‘ä»¬ç›®å‰çš„å…³ç³»ï¼Ÿ"),s("p",{onClick:a[5]||(a[5]=e=>b("è¿™æ®µæ„Ÿæƒ…å¯¹æˆ‘çš„å½±å“ï¼Ÿ"))},"è¿™æ®µæ„Ÿæƒ…å¯¹æˆ‘çš„å½±å“ï¼Ÿ")]),a[90]||(a[90]=s("h4",{class:"category-heading"},"æ­£ç¼˜å©šå§»",-1)),s("div",M,[s("p",{onClick:a[6]||(a[6]=e=>b("æˆ‘çš„æ­£ç¼˜ä»€ä¹ˆæ—¶å€™å‡ºç°ï¼Ÿ"))},"æˆ‘çš„æ­£ç¼˜ä»€ä¹ˆæ—¶å€™å‡ºç°ï¼Ÿ"),s("p",{onClick:a[7]||(a[7]=e=>b("æˆ‘çš„å¦ä¸€åŠæ˜¯ä»€ä¹ˆæ ·çš„äººï¼Ÿ"))},"æˆ‘çš„å¦ä¸€åŠæ˜¯ä»€ä¹ˆæ ·çš„äººï¼Ÿ"),s("p",{onClick:a[8]||(a[8]=e=>b("æˆ‘ä½•æ—¶ä¼šç»“å©šï¼Ÿ"))},"æˆ‘ä½•æ—¶ä¼šç»“å©šï¼Ÿ"),s("p",{onClick:a[9]||(a[9]=e=>b("æˆ‘é€‚åˆå’Œç°åœ¨çš„å¯¹è±¡ç»“å©šå—ï¼Ÿ"))}," æˆ‘é€‚åˆå’Œç°åœ¨çš„å¯¹è±¡ç»“å©šå—ï¼Ÿ "),s("p",{onClick:a[10]||(a[10]=e=>b("æˆ‘çš„å©šå§»ç”Ÿæ´»ä¼šå¹¸ç¦å—ï¼Ÿ"))},"æˆ‘çš„å©šå§»ç”Ÿæ´»ä¼šå¹¸ç¦å—ï¼Ÿ"),s("p",{onClick:a[11]||(a[11]=e=>b("å¦‚ä½•å¸å¼•æˆ‘çš„æ­£ç¼˜æ¡ƒèŠ±ï¼Ÿ"))},"å¦‚ä½•å¸å¼•æˆ‘çš„æ­£ç¼˜æ¡ƒèŠ±ï¼Ÿ")]),a[91]||(a[91]=s("h4",{class:"category-heading"},"å…³ç³»éš¾é¢˜",-1)),s("div",N,[s("p",{onClick:a[12]||(a[12]=e=>b("æˆ‘ä»¬ä¹‹é—´å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"))},"æˆ‘ä»¬ä¹‹é—´å‡ºäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ"),s("p",{onClick:a[13]||(a[13]=e=>b("å¦‚ä½•è§£å†³ç°åœ¨çš„æ„Ÿæƒ…å±æœºï¼Ÿ"))},"å¦‚ä½•è§£å†³ç°åœ¨çš„æ„Ÿæƒ…å±æœºï¼Ÿ"),s("p",{onClick:a[14]||(a[14]=e=>b("æˆ‘ä»¬æœ‰æœºä¼šå¤åˆå—ï¼Ÿ"))},"æˆ‘ä»¬æœ‰æœºä¼šå¤åˆå—ï¼Ÿ"),s("p",{onClick:a[15]||(a[15]=e=>b("æˆ‘åº”è¯¥æ”¾å¼ƒè¿™æ®µæ„Ÿæƒ…å—ï¼Ÿ"))},"æˆ‘åº”è¯¥æ”¾å¼ƒè¿™æ®µæ„Ÿæƒ…å—ï¼Ÿ"),s("p",{onClick:a[16]||(a[16]=e=>b("æˆ‘å’ŒTaçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"))},"æˆ‘å’ŒTaçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"),s("p",{onClick:a[17]||(a[17]=e=>b("æˆ‘çš„çµé­‚ä¼´ä¾£æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ"))},"æˆ‘çš„çµé­‚ä¼´ä¾£æœ‰ä»€ä¹ˆç‰¹å¾ï¼Ÿ")])],2),s("div",{id:"shiye",class:r(["tab-pane",{active:"shiye"===C.value}])},[a[92]||(a[92]=s("h4",{class:"category-heading"},"äº‹ä¸šå‘å±•",-1)),s("div",z,[s("p",{onClick:a[18]||(a[18]=e=>b("æˆ‘é€‚åˆç°åœ¨çš„å·¥ä½œ/è¡Œä¸šå—ï¼Ÿ"))}," æˆ‘é€‚åˆç°åœ¨çš„å·¥ä½œ/è¡Œä¸šå—ï¼Ÿ "),s("p",{onClick:a[19]||(a[19]=e=>b("æˆ‘çš„äº‹ä¸šä»€ä¹ˆæ—¶å€™èƒ½æˆåŠŸï¼Ÿ"))},"æˆ‘çš„äº‹ä¸šä»€ä¹ˆæ—¶å€™èƒ½æˆåŠŸï¼Ÿ"),s("p",{onClick:a[20]||(a[20]=e=>b("æˆ‘é€‚åˆè·³æ§½è¿˜æ˜¯ç»§ç»­åšå®ˆï¼Ÿ"))},"æˆ‘é€‚åˆè·³æ§½è¿˜æ˜¯ç»§ç»­åšå®ˆï¼Ÿ"),s("p",{onClick:a[21]||(a[21]=e=>b("æˆ‘äº‹ä¸šä¸Šçš„è´µäººä¼šæ˜¯è°ï¼Ÿ"))},"æˆ‘äº‹ä¸šä¸Šçš„è´µäººä¼šæ˜¯è°ï¼Ÿ"),s("p",{onClick:a[22]||(a[22]=e=>b("æˆ‘æœªæ¥çš„äº‹ä¸šèµ°å‘æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘æœªæ¥çš„äº‹ä¸šèµ°å‘æ€ä¹ˆæ ·ï¼Ÿ"),s("p",{onClick:a[23]||(a[23]=e=>b("æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œï¼Ÿ"))}," æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½æ‰¾åˆ°æ»¡æ„çš„å·¥ä½œï¼Ÿ ")]),a[93]||(a[93]=s("h4",{class:"category-heading"},"èŒåœºæœºé‡",-1)),s("div",G,[s("p",{onClick:a[24]||(a[24]=e=>b("æˆ‘ä»Šå¹´æœ‰æœºä¼šå‡èŒåŠ è–ªå—ï¼Ÿ"))},"æˆ‘ä»Šå¹´æœ‰æœºä¼šå‡èŒåŠ è–ªå—ï¼Ÿ"),s("p",{onClick:a[25]||(a[25]=e=>b("å¦‚ä½•å¾—åˆ°é¢†å¯¼çš„èµè¯†å’Œé‡ç”¨ï¼Ÿ"))}," å¦‚ä½•å¾—åˆ°é¢†å¯¼çš„èµè¯†å’Œé‡ç”¨ï¼Ÿ "),s("p",{onClick:a[26]||(a[26]=e=>b("æˆ‘åœ¨å…¬å¸çš„å‘å±•å‰æ™¯å¦‚ä½•ï¼Ÿ"))},"æˆ‘åœ¨å…¬å¸çš„å‘å±•å‰æ™¯å¦‚ä½•ï¼Ÿ"),s("p",{onClick:a[27]||(a[27]=e=>b("å¦‚ä½•æ”¹å–„å½“å‰çš„å·¥ä½œçŠ¶æ€ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„å½“å‰çš„å·¥ä½œçŠ¶æ€ï¼Ÿ"),s("p",{onClick:a[28]||(a[28]=e=>b("æˆ‘æœ€è¿‘çš„èŒåœºäººé™…è¿å¦‚ä½•ï¼Ÿ"))},"æˆ‘æœ€è¿‘çš„èŒåœºäººé™…è¿å¦‚ä½•ï¼Ÿ")]),a[94]||(a[94]=s("h4",{class:"category-heading"},"åˆ›ä¸šä¹‹è·¯",-1)),s("div",K,[s("p",{onClick:a[29]||(a[29]=e=>b("æˆ‘é€‚åˆåˆ›ä¸šå—ï¼Ÿ"))},"æˆ‘é€‚åˆåˆ›ä¸šå—ï¼Ÿ"),s("p",{onClick:a[30]||(a[30]=e=>b("æˆ‘çš„åˆ›ä¸šæœ€ä½³æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ"))}," æˆ‘çš„åˆ›ä¸šæœ€ä½³æ—¶æœºæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ "),s("p",{onClick:a[31]||(a[31]=e=>b("æˆ‘è¯¥å’Œä»€ä¹ˆæ ·çš„äººåˆä¼™ï¼Ÿ"))},"æˆ‘è¯¥å’Œä»€ä¹ˆæ ·çš„äººåˆä¼™ï¼Ÿ"),s("p",{onClick:a[32]||(a[32]=e=>b("æˆ‘çš„åˆ›ä¸šé¡¹ç›®å‰æ™¯å¦‚ä½•ï¼Ÿ"))},"æˆ‘çš„åˆ›ä¸šé¡¹ç›®å‰æ™¯å¦‚ä½•ï¼Ÿ"),s("p",{onClick:a[33]||(a[33]=e=>b("åˆ›ä¸šè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„å“ªäº›é£é™©ï¼Ÿ"))}," åˆ›ä¸šè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„å“ªäº›é£é™©ï¼Ÿ "),s("p",{onClick:a[34]||(a[34]=e=>b("æˆ‘çš„åˆ›ä¸šä¼šæˆåŠŸå—ï¼Ÿ"))},"æˆ‘çš„åˆ›ä¸šä¼šæˆåŠŸå—ï¼Ÿ")])],2),s("div",{id:"caifu",class:r(["tab-pane",{active:"caifu"===C.value}])},[a[95]||(a[95]=s("h4",{class:"category-heading"},"è´¢è¿è¶‹åŠ¿",-1)),s("div",O,[s("p",{onClick:a[35]||(a[35]=e=>b("æˆ‘è¿‘æœŸçš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘è¿‘æœŸçš„è´¢è¿æ€ä¹ˆæ ·ï¼Ÿ"),s("p",{onClick:a[36]||(a[36]=e=>b("æˆ‘è¿™è¾ˆå­è´¢è¿çš„æ•´ä½“è¶‹åŠ¿ï¼Ÿ"))},"æˆ‘è¿™è¾ˆå­è´¢è¿çš„æ•´ä½“è¶‹åŠ¿ï¼Ÿ"),s("p",{onClick:a[37]||(a[37]=e=>b("æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å‘è´¢ï¼Ÿ"))},"æˆ‘ä»€ä¹ˆæ—¶å€™èƒ½å‘è´¢ï¼Ÿ"),s("p",{onClick:a[38]||(a[38]=e=>b("æˆ‘é€‚åˆé ä»€ä¹ˆæ–¹å¼èµšé’±ï¼Ÿ"))},"æˆ‘é€‚åˆé ä»€ä¹ˆæ–¹å¼èµšé’±ï¼Ÿ"),s("p",{onClick:a[39]||(a[39]=e=>b("å¦‚ä½•æœ‰æ•ˆæå‡æˆ‘çš„è´¢è¿ï¼Ÿ"))},"å¦‚ä½•æœ‰æ•ˆæå‡æˆ‘çš„è´¢è¿ï¼Ÿ"),s("p",{onClick:a[40]||(a[40]=e=>b("æˆ‘è¿‘æœŸä¼šæœ‰æ„å¤–ä¹‹è´¢å—ï¼Ÿ"))},"æˆ‘è¿‘æœŸä¼šæœ‰æ„å¤–ä¹‹è´¢å—ï¼Ÿ")]),a[96]||(a[96]=s("h4",{class:"category-heading"},"æŠ•èµ„ç†è´¢",-1)),s("div",Q,[s("p",{onClick:a[41]||(a[41]=e=>b("æˆ‘é€‚åˆåšæŠ•èµ„å—ï¼Ÿ"))},"æˆ‘é€‚åˆåšæŠ•èµ„å—ï¼Ÿ"),s("p",{onClick:a[42]||(a[42]=e=>b("æˆ‘åº”è¯¥é€‰æ‹©ä»€ä¹ˆæ ·çš„æŠ•èµ„æ–¹å‘ï¼Ÿ"))}," æˆ‘åº”è¯¥é€‰æ‹©ä»€ä¹ˆæ ·çš„æŠ•èµ„æ–¹å‘ï¼Ÿ "),s("p",{onClick:a[43]||(a[43]=e=>b("è¿™ä¸ªæŠ•èµ„é¡¹ç›®èƒ½èµšé’±å—ï¼Ÿ"))},"è¿™ä¸ªæŠ•èµ„é¡¹ç›®èƒ½èµšé’±å—ï¼Ÿ"),s("p",{onClick:a[44]||(a[44]=e=>b("å¦‚ä½•æ‰èƒ½å®ˆä½æˆ‘çš„è´¢å¯Œï¼Ÿ"))},"å¦‚ä½•æ‰èƒ½å®ˆä½æˆ‘çš„è´¢å¯Œï¼Ÿ"),s("p",{onClick:a[45]||(a[45]=e=>b("æˆ‘çš„æŠ•èµ„é£é™©å¤§å—ï¼Ÿ"))},"æˆ‘çš„æŠ•èµ„é£é™©å¤§å—ï¼Ÿ"),s("p",{onClick:a[46]||(a[46]=e=>b("å¦‚ä½•æ›´å¥½åœ°ç®¡ç†æˆ‘çš„è´¢å¯Œï¼Ÿ"))},"å¦‚ä½•æ›´å¥½åœ°ç®¡ç†æˆ‘çš„è´¢å¯Œï¼Ÿ")]),a[97]||(a[97]=s("h4",{class:"category-heading"},"è´¢åŠ¡çŠ¶å†µ",-1)),s("div",W,[s("p",{onClick:a[47]||(a[47]=e=>b("æˆ‘ä¸ºä»€ä¹ˆæ€»æ˜¯å­˜ä¸ä½é’±ï¼Ÿ"))},"æˆ‘ä¸ºä»€ä¹ˆæ€»æ˜¯å­˜ä¸ä½é’±ï¼Ÿ"),s("p",{onClick:a[48]||(a[48]=e=>b("æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æˆ‘è´¢åŠ¡ç´§å¼ ï¼Ÿ"))}," æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æˆ‘è´¢åŠ¡ç´§å¼ ï¼Ÿ "),s("p",{onClick:a[49]||(a[49]=e=>b("æˆ‘æœ€è¿‘ä¼šæœ‰ç ´è´¢é£é™©å—ï¼Ÿ"))},"æˆ‘æœ€è¿‘ä¼šæœ‰ç ´è´¢é£é™©å—ï¼Ÿ"),s("p",{onClick:a[50]||(a[50]=e=>b("å¦‚ä½•é¿å…ä¸å¿…è¦çš„è´¢åŠ¡æŸå¤±ï¼Ÿ"))}," å¦‚ä½•é¿å…ä¸å¿…è¦çš„è´¢åŠ¡æŸå¤±ï¼Ÿ "),s("p",{onClick:a[51]||(a[51]=e=>b("æˆ‘éœ€è¦æ³¨æ„å“ªäº›å¹´ä»½çš„ç ´è´¢ï¼Ÿ"))}," æˆ‘éœ€è¦æ³¨æ„å“ªäº›å¹´ä»½çš„ç ´è´¢ï¼Ÿ "),s("p",{onClick:a[52]||(a[52]=e=>b("æˆ‘è¯¥å¦‚ä½•å¤„ç†æˆ‘çš„å€ºåŠ¡é—®é¢˜ï¼Ÿ"))}," æˆ‘è¯¥å¦‚ä½•å¤„ç†æˆ‘çš„å€ºåŠ¡é—®é¢˜ï¼Ÿ ")])],2),s("div",{id:"renji",class:r(["tab-pane",{active:"renji"===C.value}])},[a[98]||(a[98]=s("h4",{class:"category-heading"},"ç¤¾äº¤æ¨¡å¼",-1)),s("div",J,[s("p",{onClick:a[53]||(a[53]=e=>b("æˆ‘çš„äººé™…äº¤å¾€æ¨¡å¼æœ‰ä½•ä¼˜ç¼ºç‚¹ï¼Ÿ"))}," æˆ‘çš„äººé™…äº¤å¾€æ¨¡å¼æœ‰ä½•ä¼˜ç¼ºç‚¹ï¼Ÿ "),s("p",{onClick:a[54]||(a[54]=e=>b("å¦‚ä½•æ‹“å±•æˆ‘çš„é«˜è´¨é‡ç¤¾äº¤åœˆï¼Ÿ"))}," å¦‚ä½•æ‹“å±•æˆ‘çš„é«˜è´¨é‡ç¤¾äº¤åœˆï¼Ÿ "),s("p",{onClick:a[55]||(a[55]=e=>b("æˆ‘ç›®å‰çš„äººé™…å…³ç³»çŠ¶æ€å¦‚ä½•ï¼Ÿ"))}," æˆ‘ç›®å‰çš„äººé™…å…³ç³»çŠ¶æ€å¦‚ä½•ï¼Ÿ "),s("p",{onClick:a[56]||(a[56]=e=>b("æˆ‘ä¼šå¸å¼•å“ªäº›äººè¿›å…¥æˆ‘çš„ç”Ÿæ´»ï¼Ÿ"))}," æˆ‘ä¼šå¸å¼•å“ªäº›äººè¿›å…¥æˆ‘çš„ç”Ÿæ´»ï¼Ÿ "),s("p",{onClick:a[57]||(a[57]=e=>b("å¦‚ä½•è·å¾—ä»–äººçš„ä¿¡ä»»ä¸æ”¯æŒï¼Ÿ"))}," å¦‚ä½•è·å¾—ä»–äººçš„ä¿¡ä»»ä¸æ”¯æŒï¼Ÿ "),s("p",{onClick:a[58]||(a[58]=e=>b("å¦‚ä½•å¤„ç†ä¸æœ‹å‹çš„çŸ›ç›¾ï¼Ÿ"))},"å¦‚ä½•å¤„ç†ä¸æœ‹å‹çš„çŸ›ç›¾ï¼Ÿ")]),a[99]||(a[99]=s("h4",{class:"category-heading"},"è´µäººå–„ç¼˜",-1)),s("div",X,[s("p",{onClick:a[59]||(a[59]=e=>b("ä»€ä¹ˆæ ·çš„æœ‹å‹æ˜¯æˆ‘çš„è´µäººï¼Ÿ"))},"ä»€ä¹ˆæ ·çš„æœ‹å‹æ˜¯æˆ‘çš„è´µäººï¼Ÿ"),s("p",{onClick:a[60]||(a[60]=e=>b("æˆ‘åº”è¯¥è¿œç¦»ä»€ä¹ˆæ ·çš„æœ‹å‹ï¼Ÿ"))},"æˆ‘åº”è¯¥è¿œç¦»ä»€ä¹ˆæ ·çš„æœ‹å‹ï¼Ÿ"),s("p",{onClick:a[61]||(a[61]=e=>b("å¦‚ä½•ç»“äº¤æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹ï¼Ÿ"))}," å¦‚ä½•ç»“äº¤æ›´å¤šå¿—åŒé“åˆçš„æœ‹å‹ï¼Ÿ "),s("p",{onClick:a[62]||(a[62]=e=>b("æˆ‘è¯¥å¦‚ä½•ç»´ç³»é‡è¦çš„å‹è°Šï¼Ÿ"))},"æˆ‘è¯¥å¦‚ä½•ç»´ç³»é‡è¦çš„å‹è°Šï¼Ÿ"),s("p",{onClick:a[63]||(a[63]=e=>b("æˆ‘è¯¥ä¿¡ä»»æˆ‘èº«è¾¹çš„æœ‹å‹å—ï¼Ÿ"))},"æˆ‘è¯¥ä¿¡ä»»æˆ‘èº«è¾¹çš„æœ‹å‹å—ï¼Ÿ"),s("p",{onClick:a[64]||(a[64]=e=>b("å¦‚ä½•è·å¾—é¢†å¯¼æˆ–é•¿è¾ˆçš„èµè¯†ï¼Ÿ"))}," å¦‚ä½•è·å¾—é¢†å¯¼æˆ–é•¿è¾ˆçš„èµè¯†ï¼Ÿ ")]),a[100]||(a[100]=s("h4",{class:"category-heading"},"å®¶åº­å…³ç³»",-1)),s("div",Y,[s("p",{onClick:a[65]||(a[65]=e=>b("æˆ‘å’Œå®¶äººçš„å…³ç³»æ€ä¹ˆæ ·ï¼Ÿ"))},"æˆ‘å’Œå®¶äººçš„å…³ç³»æ€ä¹ˆæ ·ï¼Ÿ"),s("p",{onClick:a[66]||(a[66]=e=>b("æˆ‘çš„å®¶åº­å¯¹æˆ‘æœ‰ä»€ä¹ˆæ ·çš„å½±å“ï¼Ÿ"))}," æˆ‘çš„å®¶åº­å¯¹æˆ‘æœ‰ä»€ä¹ˆæ ·çš„å½±å“ï¼Ÿ "),s("p",{onClick:a[67]||(a[67]=e=>b("å¦‚ä½•æ”¹å–„æˆ‘ä¸å®¶äººçš„å…³ç³»ï¼Ÿ"))},"å¦‚ä½•æ”¹å–„æˆ‘ä¸å®¶äººçš„å…³ç³»ï¼Ÿ"),s("p",{onClick:a[68]||(a[68]=e=>b("æˆ‘è¯¥å¦‚ä½•å¤„ç†å®¶åº­çŸ›ç›¾ï¼Ÿ"))},"æˆ‘è¯¥å¦‚ä½•å¤„ç†å®¶åº­çŸ›ç›¾ï¼Ÿ"),s("p",{onClick:a[69]||(a[69]=e=>b("æˆ‘ä¸å®¶äººçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"))},"æˆ‘ä¸å®¶äººçš„ç¼˜åˆ†æœ‰å¤šæ·±ï¼Ÿ"),s("p",{onClick:a[70]||(a[70]=e=>b("å¦‚ä½•æ›´å¥½åœ°ä¸å®¶äººæ²Ÿé€šï¼Ÿ"))},"å¦‚ä½•æ›´å¥½åœ°ä¸å®¶äººæ²Ÿé€šï¼Ÿ")])],2),s("div",{id:"rensheng",class:r(["tab-pane",{active:"rensheng"===C.value}])},[a[101]||(a[101]=s("h4",{class:"category-heading"},"å­¦ä¸šè§„åˆ’",-1)),s("div",Z,[s("p",{onClick:a[71]||(a[71]=e=>b("æˆ‘çš„å­¦ä¸šè¿åŠ¿å¦‚ä½•ï¼Ÿ"))},"æˆ‘çš„å­¦ä¸šè¿åŠ¿å¦‚ä½•ï¼Ÿ"),s("p",{onClick:a[72]||(a[72]=e=>b("æˆ‘é€‚åˆè€ƒç ”/è€ƒå…¬å—ï¼Ÿ"))},"æˆ‘é€‚åˆè€ƒç ”/è€ƒå…¬å—ï¼Ÿ"),s("p",{onClick:a[73]||(a[73]=e=>b("æˆ‘é€‚åˆç»§ç»­æ·±é€ è¿˜æ˜¯å·¥ä½œï¼Ÿ"))},"æˆ‘é€‚åˆç»§ç»­æ·±é€ è¿˜æ˜¯å·¥ä½œï¼Ÿ"),s("p",{onClick:a[74]||(a[74]=e=>b("å¦‚ä½•æå‡æˆ‘çš„å­¦ä¹ æ•ˆç‡ï¼Ÿ"))},"å¦‚ä½•æå‡æˆ‘çš„å­¦ä¹ æ•ˆç‡ï¼Ÿ"),s("p",{onClick:a[75]||(a[75]=e=>b("æˆ‘è¯¥é€‰æ‹©å“ªä¸ªä¸“ä¸š/å­¦æ ¡ï¼Ÿ"))},"æˆ‘è¯¥é€‰æ‹©å“ªä¸ªä¸“ä¸š/å­¦æ ¡ï¼Ÿ"),s("p",{onClick:a[76]||(a[76]=e=>b("æˆ‘è¿™æ¬¡è€ƒè¯•èƒ½é€šè¿‡å—ï¼Ÿ"))},"æˆ‘è¿™æ¬¡è€ƒè¯•èƒ½é€šè¿‡å—ï¼Ÿ")]),a[102]||(a[102]=s("h4",{class:"category-heading"},"ä¸ªäººæˆé•¿",-1)),s("div",ee,[s("p",{onClick:a[77]||(a[77]=e=>b("æˆ‘çš„æ€§æ ¼ä¼˜åŠ¿å’ŒåŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"))}," æˆ‘çš„æ€§æ ¼ä¼˜åŠ¿å’ŒåŠ£åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ "),s("p",{onClick:a[78]||(a[78]=e=>b("æˆ‘çš„äººç”Ÿä¸»è¦è¯¾é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ"))},"æˆ‘çš„äººç”Ÿä¸»è¦è¯¾é¢˜æ˜¯ä»€ä¹ˆï¼Ÿ"),s("p",{onClick:a[79]||(a[79]=e=>b("å¦‚ä½•æ‰¾åˆ°æˆ‘çš„äººç”Ÿæ–¹å‘ï¼Ÿ"))},"å¦‚ä½•æ‰¾åˆ°æˆ‘çš„äººç”Ÿæ–¹å‘ï¼Ÿ"),s("p",{onClick:a[80]||(a[80]=e=>b("å¦‚ä½•å…‹æœæˆ‘æ€§æ ¼ä¸­çš„å¼±ç‚¹ï¼Ÿ"))},"å¦‚ä½•å…‹æœæˆ‘æ€§æ ¼ä¸­çš„å¼±ç‚¹ï¼Ÿ"),s("p",{onClick:a[81]||(a[81]=e=>b("å¦‚ä½•æœ‰æ•ˆæå‡è‡ªå·±çš„èƒ½é‡çŠ¶æ€ï¼Ÿ"))}," å¦‚ä½•æœ‰æ•ˆæå‡è‡ªå·±çš„èƒ½é‡çŠ¶æ€ï¼Ÿ "),s("p",{onClick:a[82]||(a[82]=e=>b("æˆ‘çš„äººç”Ÿè½¬æŠ˜ç‚¹åœ¨ä½•æ—¶ï¼Ÿ"))},"æˆ‘çš„äººç”Ÿè½¬æŠ˜ç‚¹åœ¨ä½•æ—¶ï¼Ÿ")]),a[103]||(a[103]=s("h4",{class:"category-heading"},"äººç”Ÿæœºé‡",-1)),s("div",ae,[s("p",{onClick:a[83]||(a[83]=e=>b("æˆ‘æœªæ¥åå¹´çš„äººç”Ÿå¤§è¿æ€ä¹ˆæ ·ï¼Ÿ"))}," æˆ‘æœªæ¥åå¹´çš„äººç”Ÿå¤§è¿æ€ä¹ˆæ ·ï¼Ÿ "),s("p",{onClick:a[84]||(a[84]=e=>b("æˆ‘è¯¥å¦‚ä½•å®ç°æˆ‘çš„äººç”Ÿç›®æ ‡ï¼Ÿ"))}," æˆ‘è¯¥å¦‚ä½•å®ç°æˆ‘çš„äººç”Ÿç›®æ ‡ï¼Ÿ "),s("p",{onClick:a[85]||(a[85]=e=>b("æˆ‘çš„äººç”Ÿä¼šæœ‰ä»€ä¹ˆé‡å¤§æœºé‡ï¼Ÿ"))}," æˆ‘çš„äººç”Ÿä¼šæœ‰ä»€ä¹ˆé‡å¤§æœºé‡ï¼Ÿ "),s("p",{onClick:a[86]||(a[86]=e=>b("æˆ‘åº”è¯¥æ³¨æ„å“ªäº›å¥åº·é—®é¢˜ï¼Ÿ"))},"æˆ‘åº”è¯¥æ³¨æ„å“ªäº›å¥åº·é—®é¢˜ï¼Ÿ"),s("p",{onClick:a[87]||(a[87]=e=>b("å¦‚ä½•æ‰èƒ½æ´»å‡ºæ›´ç²¾å½©çš„äººç”Ÿï¼Ÿ"))}," å¦‚ä½•æ‰èƒ½æ´»å‡ºæ›´ç²¾å½©çš„äººç”Ÿï¼Ÿ "),s("p",{onClick:a[88]||(a[88]=e=>b("æœªæ¥çš„äººç”Ÿä¹‹è·¯èµ°å‘å¦‚ä½•ï¼Ÿ"))},"æœªæ¥çš„äººç”Ÿä¹‹è·¯èµ°å‘å¦‚ä½•ï¼Ÿ")])],2)]))}}),[["__scopeId","data-v-597f1530"]]),le={class:"spread-bubbles-container"},ie={class:"spread-bubbles"},te=["onClick"],se={class:"bubble-icon"},oe={class:"bubble-text"},ue={key:0,class:"all-spreads-dropdown"},ce={class:"dropdown-content"},re=["onClick"],ve={class:"item-icon"},pe={class:"item-content"},de={class:"item-title"},ge={class:"item-description"},ke={class:"item-meta"},ye={class:"item-count"},me={key:1,class:"positions-detail"},he={class:"positions-grid"},Ce=d(e({__name:"TarotSpreadSelector",props:{modelValue:{default:"single"},showPositions:{type:Boolean,default:!1},maxVisibleSpreads:{default:4}},emits:["update:modelValue","change"],setup(e,{emit:n}){const d=e,h=n,C=i(d.modelValue),b=i(!1),f=i(0),w=i(),T=["single","three","love","career","decision","celtic","chakra","year"],q=a(()=>{if(0===f.value)return d.maxVisibleSpreads;const e=f.value<=480,a=f.value<=768;let n=95,l=75,i=6,t=10;e?(n=75,l=60,i=4,t=8):a&&(n=85,l=65,i=5,t=8);const s=f.value;if(s<n)return 1;if(T.length*n+(T.length-1)*i<=s)return T.length;const o=s-l-i-t;let u=1,c=n;for(let v=1;v<T.length;v++){const e=c+i+n;if(!(e<=o))break;u=v+1,c=e}const r=Math.min(2,T.length);return Math.max(r,u)}),x=a(()=>{const e=q.value,a=T.indexOf(C.value);return e>=T.length?T:a<e?T.slice(0,e):[...T.slice(0,e-1),C.value]}),R=a(()=>q.value<T.length);function I(e){C.value=e,h("update:modelValue",e),h("change",e)}function _(){b.value=!b.value}function V(){b.value=!1}function A(e){return{single:"ğŸ”®",three:"ğŸƒ",love:"ğŸ’•",career:"ğŸ’¼",decision:"âš–ï¸",celtic:"âœ¨",chakra:"ğŸ§˜",year:"ğŸ“…"}[e]||"ğŸ´"}function j(){if(w.value){const e=w.value.getBoundingClientRect();f.value=e.width}}function L(e){w.value&&!w.value.contains(e.target)&&V()}return g(()=>{setTimeout(()=>{j()},100),window.addEventListener("resize",j),document.addEventListener("click",L)}),k(()=>{window.removeEventListener("resize",j),document.removeEventListener("click",L)}),y(()=>d.modelValue,e=>{e&&e!==C.value&&(C.value=e)}),(e,a)=>(p(),t("div",{ref_key:"selectorRef",ref:w,class:"tarot-spread-selector"},[s("div",le,[s("div",ie,[(p(!0),t(u,null,c(x.value,e=>(p(),t("button",{key:e,class:r(["spread-bubble",{active:C.value===e}]),onClick:a=>I(e)},[s("span",se,v(A(e)),1),s("span",oe,v(m(l)[e].name),1)],10,te))),128)),R.value?(p(),t("button",{key:0,class:"spread-bubble expand-button",onClick:_},[...a[0]||(a[0]=[s("span",{class:"bubble-icon"},"â‹¯",-1),s("span",{class:"bubble-text"},"å…¨éƒ¨",-1)])])):o("",!0)])]),b.value?(p(),t("div",ue,[s("div",ce,[(p(),t(u,null,c(T,e=>s("div",{key:e,class:r(["spread-item",{active:C.value===e}]),onClick:a=>function(e){I(e),V()}(e)},[s("div",ve,v(A(e)),1),s("div",pe,[s("div",de,v(m(l)[e].name),1),s("div",ge,v(m(l)[e].description),1)]),s("div",ke,[s("span",ye,v(m(l)[e].cardCount)+"å¼ ",1)])],10,re)),64))])])):o("",!0),e.showPositions&&C.value?(p(),t("div",me,[a[1]||(a[1]=s("h4",null,"ç‰Œä½è¯´æ˜",-1)),s("div",he,[(p(!0),t(u,null,c(m(l)[C.value].positions,(e,a)=>(p(),t("span",{key:a,class:"position-item"},v(a+1)+". "+v(e),1))),128))])])):o("",!0)],512))}}),[["__scopeId","data-v-ad63d20b"]]),be={key:0,src:"/static/ssgw.jpg",alt:"ä¸‰å±±å›½ç‹",class:"card-image"},fe={class:"card-title"},we={class:"card-description"},Te={key:1,class:"tarot-spread-container"},qe={class:"input-container"},xe=["placeholder","disabled"],Re=["disabled"],Ie={key:0},_e={key:1,class:"loading-text"},Ve={key:2,class:"ssgw-process"},Ae={key:0,class:"shaking-animation"},je={class:"shaking-text"},Le={class:"shaking-visual"},De={class:"sign-container"},$e={key:1,class:"tossing-section"},He={class:"result-section"},Se={key:0,class:"result-section"},Ue=["innerHTML"],Ee={key:1,class:"bei-container"},Be=["src","alt"],Pe={key:2,class:"button-wrapper"},Fe=["disabled"],Me=d(e({__name:"DivinationInput",props:{title:{},description:{},placeholder:{default:"è¯·è¾“å…¥æ‚¨çš„é—®é¢˜"},buttonText:{default:"è¯¢é—®èµ›åšå¤§å¸ˆ"},loadingText:{default:"AIæ€è€ƒä¸­"},loading:{type:Boolean,default:!1},modelValue:{default:""},examples:{default:()=>[]},showInspiration:{type:Boolean,default:!0},hideAfterSubmit:{type:Boolean,default:!0},divinationType:{default:""}},emits:["update:modelValue","submit","typeChange","clear"],setup(e,{emit:n}){const d=e,k=n,m=h();R();const I=i(d.modelValue),_=i(O()),V=i("single"),A=i(!1),j=i(!1),L=i(""),D=i(0),$=i(!1),H=i(!1),S=i(0),U=i([]),E=i(""),B=i(0),P=i(!1),F=i(""),M=a(()=>"ssgw"===d.divinationType?"å¯è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œä¹Ÿå¯ç›´æ¥æ±‚ç­¾":d.placeholder),N=a(()=>"ssgw"!==d.divinationType&&!m.path.includes("/divination/ssgw")&&d.showInspiration),z=a(()=>m.path.includes("/divination/tarot")),G=a(()=>{if(z.value){const e=l[V.value];return e?`å¡”ç½—ç‰ŒÂ·${e.name}`:d.title}return d.title}),K=a(()=>{if(z.value){const e=l[V.value];return e?e.description:d.description}return d.description});function O(){const e=m.path;return e.includes("/divination/tarot_single")?"tarot_single":(e.includes("/divination/tarot"),"tarot")}function Q(){I.value="",A.value=!1}function W(){if("ssgw"===d.divinationType||m.path.includes("/ssgw")){const e=I.value.trim()||"å¿ƒä¸­æ‰€æƒ³ä¹‹äº‹";return A.value=!0,k("clear"),void J(e)}I.value.trim()&&!d.loading&&(A.value=!0,k("submit",{question:I.value.trim()}))}function J(e){F.value=e,j.value=!0,L.value="è¯·é™å¿ƒé»˜å¿µï¼Œå‡†å¤‡æ‘‡ç­¾...",D.value=0,setTimeout(()=>{L.value="æ­£åœ¨æ‘‡ç­¾ä¸­...";const e=setInterval(()=>{D.value++,D.value>=5&&(clearInterval(e),setTimeout(()=>{S.value=Math.floor(61*Math.random())+1,j.value=!1,H.value=!0,B.value=0,P.value=!1,U.value=[],E.value=""},1e3))},400)},2e3)}function X(){if($.value)return;$.value=!0,U.value=[],E.value="";const e=x();setTimeout(()=>{U.value=[e.bei1,e.bei2];const a=e.result;"åœ£æ¯"===a&&(P.value=!0),"åœ£æ¯"===a?(E.value="<strong>åœ£æ¯</strong> (ä¸€å¹³ä¸€å‡¸) - ç¥æ˜åŒæ„æ­¤ç­¾ã€‚",setTimeout(()=>{E.value+="<p>æ­£åœ¨ä¸ºæ‚¨è§£è¯»ç­¾æ–‡...</p>",setTimeout(()=>{k("submit",{question:F.value,signNumber:S.value})},2e3)},1e3)):(B.value++,E.value="ç¬‘æ¯"===a?"<strong>ç¬‘æ¯</strong> (ä¸¤å¹³) - ç¥æ˜ç¬‘è€Œä¸è¯­ï¼Œå¯èƒ½é—®é¢˜ä¸æ˜æˆ–æ—¶æœºæœªåˆ°ã€‚":"<strong>é˜´æ¯</strong> (ä¸¤å‡¸) - ç¥æ˜ä¸åŒæ„æ­¤ç­¾ã€‚",B.value>=3?(E.value+="<p>æ‚¨å·²è¿ç»­ä¸‰æ¬¡æœªèƒ½è·å¾—åœ£æ¯ï¼Œçœ‹æ¥ä»Šæ—¥ä¸å®œå†é—®æ­¤äº‹ï¼Œè¯·æ”¹æ—¥å†æ¥ã€‚</p>",$.value=!1):(E.value+="<p>è¯·é‡æ–°ä¸ºæ‚¨æ‘‡ç­¾...</p>",setTimeout(()=>{H.value=!1,U.value=[],E.value="",J(F.value)},2e3))),$.value=!1},1300)}function Y(e){if(d.loading)return;I.value=e;const a=document.getElementById("userInput");a&&a.focus()}function Z(e){d.loading||e&&e.trim()&&(I.value=e,A.value=!0,k("submit",{question:e}))}function ee(e){V.value=e,k("typeChange",`tarot_${e}`),I.value=""}return y(()=>d.modelValue,e=>{I.value=e}),y(I,e=>{k("update:modelValue",e)}),y(()=>d.divinationType,(e,a)=>{a&&e!==a&&Q()}),y(()=>m.path,()=>{z.value&&(_.value=O()),Q()}),g(()=>{z.value&&k("typeChange",`tarot_${V.value}`)}),(e,a)=>(p(),t(u,null,[s("div",{class:r(["input-card",{loading:e.loading}])},["ssgw"===e.divinationType?(p(),t("img",be)):o("",!0),s("h2",fe,v(G.value),1),s("p",we,v(K.value),1),z.value?(p(),t("div",Te,[b(Ce,{modelValue:V.value,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),onChange:ee},null,8,["modelValue"])])):o("",!0),s("div",qe,[f(s("input",{id:"userInput","onUpdate:modelValue":a[1]||(a[1]=e=>I.value=e),type:"text",placeholder:M.value,disabled:e.loading,class:"question-input",onKeyup:T(W,["enter"])},null,40,xe),[[w,I.value]]),a[2]||(a[2]=s("div",{class:"input-focus-border"},null,-1))]),s("div",{class:r(["button-wrapper",{"ai-thinking":e.loading}])},[s("button",{id:"submitButton",disabled:e.loading||"ssgw"!==e.divinationType&&!I.value.trim(),class:"submit-button",onClick:W},[e.loading?(p(),t("span",_e,[q(v(e.loadingText)+" ",1),a[3]||(a[3]=s("span",{class:"loading-dots"},[s("span",{class:"dot"}),s("span",{class:"dot"}),s("span",{class:"dot"})],-1))])):(p(),t("span",Ie,v(e.buttonText),1))],8,Re)],2),"ssgw"===e.divinationType&&(j.value||$.value||H.value)?(p(),t("div",Ve,[j.value?(p(),t("div",Ae,[s("p",je,v(L.value),1),s("div",Le,[s("div",De,[(p(),t(u,null,c(5,e=>s("div",{key:e,class:r(["sign-stick",{active:e<=D.value}])},null,2)),64))])])])):o("",!0),$.value||H.value?(p(),t("div",$e,[s("div",He,[s("p",null,[a[4]||(a[4]=q(" æ±‚å¾—ç¬¬ ",-1)),s("strong",null,v(S.value),1),a[5]||(a[5]=q(" ç­¾ã€‚ ",-1))]),a[6]||(a[6]=s("p",null,"è¯·æŠ•æ·åœ£æ¯ï¼Œè¯¢é—®ä¸‰å±±å›½ç‹æ˜¯å¦åŒæ„æ­¤ç­¾...",-1))]),E.value?(p(),t("div",Se,[s("p",{innerHTML:E.value},null,8,Ue)])):o("",!0),U.value.length>0?(p(),t("div",Ee,[(p(!0),t(u,null,c(U.value,(e,a)=>(p(),t("img",{key:a,src:`/static/${e}.png`,alt:e,class:"bei-image"},null,8,Be))),128))])):o("",!0),!P.value&&B.value<3?(p(),t("div",Pe,[s("button",{disabled:$.value,class:"toss-button",onClick:X},v($.value?"æŠ•æ·ä¸­...":"æŠ•æ·åœ£æ¯"),9,Fe)])):o("",!0)])):o("",!0)])):o("",!0)],2),N.value?(p(),C(ne,{key:0,"spread-type":z.value?V.value:null,onSelect:Y,onSubmit:Z},null,8,["spread-type"])):o("",!0)],64))}}),[["__scopeId","data-v-a4205aea"]]);function Ne(e){const n=h(),l=R(),t=a(()=>e.divinationType),s=i(""),o=i(!1),u=i(null),c=i(""),r=i(null),v=i(!1),p=i(!1),d=i(!1),g=i(null),k=i(!1),y=i([]),m=i(""),C=i(!1),b=a(()=>null!==u.value),f=a(()=>""!==c.value);function w(e){p.value=!0;const a=V.getRecord(e);a?(s.value=a.question,u.value=a.result,c.value=a.result.aiResponse||"",y.value=[{id:`hist-sys-${a.id}`,role:"system",content:"ä½ æ˜¯ç²¾é€šå‘¨æ˜“ã€æ¢…èŠ±æ˜“æ•°ã€å¥‡é—¨éç”²ã€å¡”ç½—ç‰Œç­‰æœ¯æ•°çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®å åœç»“æœï¼Œä¸ºç”¨æˆ·æä¾›è§£è¯»ã€‚"},{id:`hist-user-${a.id}`,role:"user",content:a.question},{id:`hist-asst-${a.id}`,role:"assistant",content:a.result.aiResponse||""}]):l.push(`/divination/${t.value}`)}return{question:s,isLoading:o,result:u,aiResponse:c,error:r,isAiLoading:v,viewingHistory:p,isCopied:d,isCancelled:k,conversationHistory:y,followUpQuestion:m,isFollowUpLoading:C,hasResult:b,hasAiResponse:f,startDivination:async function(e={}){if(p.value)return;const{signNumber:a,spreadType:n}=e;if(!o.value&&s.value.trim()){o.value=!0,v.value=!0,r.value=null,u.value=null,c.value="",k.value=!1,g.value=new AbortController,y.value=[];try{const e={role:"system",content:"ä½ æ˜¯ç²¾é€šå‘¨æ˜“ã€æ¢…èŠ±æ˜“æ•°ã€å¥‡é—¨éç”²ã€å¡”ç½—ç‰Œç­‰æœ¯æ•°çš„AIåŠ©æ‰‹ã€‚è¯·æ ¹æ®å åœç»“æœï¼Œä¸ºç”¨æˆ·æä¾›è§£è¯»ã€‚"},l={id:`msg-${Date.now()}`,role:"user",content:s.value},p={id:`msg-${Date.now()+1}`,role:"assistant",content:i("")};y.value=[e,l,p],u.value={id:"",type:t.value,data:{},aiResponse:""},o.value=!1,_({type:t.value,question:s.value.trim(),signNumber:a,spreadType:n,signal:g.value.signal},e=>{c.value+=e,"object"==typeof p.content&&"value"in p.content&&(p.content.value+=e)},e=>{r.value=e,"object"==typeof p.content&&"value"in p.content&&(p.content.value=e)},e=>{v.value=!1,u.value&&(u.value.id=e.id,u.value.data=e.data,u.value.aiResponse=c.value)}).then(e=>{u.value&&(u.value.id=e.id,u.value.data=e.data)}).catch(e=>{r.value=e instanceof Error?e.message:"å åœå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",o.value=!1,v.value=!1})}catch(l){r.value=l instanceof Error?l.message:"å åœå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",o.value=!1}}},clearResult:function(){u.value=null,c.value="",r.value=null,s.value="",p.value=!1,y.value=[],m.value=""},loadResultFromHistory:w,regenerateAI:async function(){if(!u.value||v.value)return;v.value=!0,r.value=null,c.value="",k.value=!1,g.value=new AbortController;const e={id:`msg-${Date.now()}`,role:"assistant",content:i("")};y.value.push(e);try{const a=await _({type:t.value,question:s.value,signal:g.value.signal},a=>{c.value+=a,"object"==typeof e.content&&"value"in e.content&&(e.content.value+=a)},a=>{r.value=a,"object"==typeof e.content&&"value"in e.content&&(e.content.value=a)},()=>{v.value=!1,u.value&&(u.value.aiResponse=c.value)});a.aiResponse&&"object"==typeof e.content&&"value"in e.content&&(e.content.value=a.aiResponse),u.value&&(u.value.aiResponse=a.aiResponse||"")}catch(a){r.value="é‡æ–°ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•"}},handleHistoryParam:function(){const e=n.query.historyId;e&&w(e)},clearHistoryParam:function(){if(n.query.historyId){const e={...n.query};delete e.historyId,l.replace({path:n.path,query:e})}},shareResult:function(){if(!c.value)return;const e=function(e){if(!e)return"";const a=D.parse(e);return((new DOMParser).parseFromString(a,"text/html").body.textContent||"").replace(/"/g,'"').replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/'/g,"'").replace(/\n{3,}/g,"\n\n").trim()}(c.value);navigator.clipboard.writeText(e).then(()=>{d.value=!0,setTimeout(()=>{d.value=!1},2e3)})},cancelGeneration:function(){g.value&&(g.value.abort(),k.value=!0,v.value=!1)},handleSendFollowUp:function(){if(!m.value.trim()||C.value)return;const e={id:`msg-${Date.now()}`,role:"user",content:m.value.trim()};y.value.push(e);const a={id:`msg-${Date.now()+1}`,role:"assistant",content:i("")};y.value.push(a),m.value="",C.value=!0,I(y.value,e=>{c.value+=e,"object"==typeof a.content&&"value"in a.content&&(a.content.value+=e)},e=>{C.value=!1,u.value&&(u.value.aiResponse=e)},e=>{C.value=!1,"object"==typeof a.content&&"value"in a.content&&(a.content.value=e)})}}}const ze={class:"page-container"},Ge={key:1,class:"result-header-actions"},Ke={key:3,class:"ai-actions"},Oe={key:4,class:"content-card error-card"},Qe={class:"content-text"},We={key:5,class:"content-card follow-up-card"},Je={class:"follow-up-input"},Xe=["disabled"],Ye=["disabled"],Ze={key:0},ea={key:1},aa=d(e({__name:"UnifiedDivinationView",props:{divinationType:{}},setup(e){const n=e,l=h(),u=a(()=>A(n.divinationType)),{question:c,isLoading:r,result:d,aiResponse:k,error:b,isAiLoading:q,hasResult:x,hasAiResponse:R,viewingHistory:I,isCopied:_,isCancelled:V,startDivination:D,clearResult:H,shareResult:S,regenerateAI:U,handleHistoryParam:E,clearHistoryParam:B,cancelGeneration:P,conversationHistory:F,followUpQuestion:M,isFollowUpLoading:N,handleSendFollowUp:z}=Ne(n),G=a(()=>d.value?{data:d.value.data,aiResponse:k.value}:{data:{},aiResponse:""}),K=i("single");function O(e){if(e.startsWith("tarot_")){const a=e.replace("tarot_","");K.value=a}}function Q(e){e.question||c.value;e.question&&(c.value=e.question);const a={};"tarot"===n.divinationType?a.spreadType=K.value:"ssgw"===n.divinationType&&(a.signNumber=e.signNumber),D(a)}function W(){H(),B()}function J(){b.value=null}function X(){U()}return y(()=>n.divinationType,(e,a)=>{!I.value&&a&&e!==a&&(H(),B())}),y(u,e=>{}),y(()=>l.query.historyId,(e,a)=>{e&&"string"==typeof e?E():a&&!e&&H()},{immediate:!0}),g(()=>{E()}),(e,a)=>{var n,i,d,g,k;return p(),t("div",ze,[m(x)||m(r)?o("",!0):(p(),C(Me,{key:0,modelValue:m(c),"onUpdate:modelValue":a[0]||(a[0]=e=>j(c)?c.value=e:null),title:(null==(n=u.value)?void 0:n.title)||"",description:(null==(i=u.value)?void 0:i.description)||"","button-text":(null==(d=u.value)?void 0:d.buttonText)||"å¼€å§‹å åœ",loading:m(r),placeholder:(null==(g=u.value)?void 0:g.placeholder)||"",examples:(null==(k=u.value)?void 0:k.examples)||[],"divination-type":e.divinationType,"hide-after-submit":!1,onSubmit:Q,onTypeChange:O,onClear:m(H)},null,8,["modelValue","title","description","button-text","loading","placeholder","examples","divination-type","onClear"])),m(x)&&!m(l).query.historyId?(p(),t("div",Ge,[s("button",{class:"btn-secondary",onClick:W},"â† è¿”å›"),m(R)&&!m(q)?(p(),t("button",{key:0,class:"btn-secondary",onClick:a[1]||(a[1]=(...e)=>m(S)&&m(S)(...e))},v(m(_)?"å·²å¤åˆ¶!":"åˆ†äº«"),1)):o("",!0)])):o("",!0),m(x)?(p(),C($,{key:2,type:e.divinationType,result:G.value,"is-ai-loading":m(q)||m(N),error:m(b),question:m(c),"conversation-history":m(F),"is-follow-up-loading":m(N),onRetry:X},null,8,["type","result","is-ai-loading","error","question","conversation-history","is-follow-up-loading"])):o("",!0),m(x)?(p(),t("div",Ke,[m(q)?(p(),t("button",{key:0,class:"btn-secondary",onClick:a[2]||(a[2]=(...e)=>m(P)&&m(P)(...e))},"å–æ¶ˆç”Ÿæˆ")):o("",!0),m(q)||!m(b)&&!m(V)?o("",!0):(p(),t("button",{key:1,class:"btn-primary",onClick:X}," é‡æ–°ç”Ÿæˆ "))])):o("",!0),m(b)&&!m(x)?(p(),t("div",Oe,[s("p",Qe,v(m(b)),1),s("div",{class:"form-actions"},[s("button",{class:"btn-primary",onClick:J},"é‡è¯•")])])):o("",!0),m(R)&&!m(q)?(p(),t("div",We,[s("div",Je,[f(s("textarea",{"onUpdate:modelValue":a[3]||(a[3]=e=>j(M)?M.value=e:null),placeholder:"å¯¹AIçš„è§£è¯»è¿›è¡Œè¿½é—®...",disabled:m(N),onKeydown:a[4]||(a[4]=T(L((...e)=>m(z)&&m(z)(...e),["prevent"]),["enter"]))},null,40,Xe),[[w,m(M)]]),s("button",{onClick:a[5]||(a[5]=(...e)=>m(z)&&m(z)(...e)),disabled:m(N)},[m(N)?(p(),t("span",ea,"å‘é€ä¸­...")):(p(),t("span",Ze,"å‘é€"))],8,Ye)])])):o("",!0)])}}}),[["__scopeId","data-v-f88f8779"]]);export{aa as default};
