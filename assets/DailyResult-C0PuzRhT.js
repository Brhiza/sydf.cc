import{d as s,i as e,c as a,b as l,g as n,t as i,h as t,F as c,l as o,e as r}from"./vendor-BUyyYNCK.js";import{_ as u}from"./index-1KWhz6Xq.js";const v={class:"daily-fortune-result"},p={class:"fortune-overview"},y={class:"overall-score"},d={class:"score-text"},m={class:"score-description"},k={key:0,class:"ai-overall-analysis"},f={class:"analysis-item"},g={class:"analysis-item"},h={class:"analysis-item"},A={class:"aspects-section"},R={class:"aspect-header"},D={class:"aspect-icon"},b={class:"aspect-name"},q={class:"aspect-score"},w={key:0,class:"aspect-description"},x={key:1,class:"aspect-ai-analysis"},_={class:"analysis-subitem"},j={key:0,class:"analysis-subitem"},I={key:1,class:"analysis-subitem"},O={key:2,class:"analysis-subitem"},S={key:0,class:"qimen-section"},W={class:"qimen-analysis"},B={class:"analysis-item"},F={class:"analysis-item"},G={class:"analysis-item"},J={key:1,class:"precautions-section"},L={class:"precautions"},N={key:0,class:"analysis-item"},z={key:1,class:"analysis-item"},C={key:2,class:"analysis-item"},E={key:2,class:"ai-interpretation"},H={class:"ai-content"},K=u(s({__name:"DailyResult",props:{fortuneData:{},aiResponse:{},showLucky:{type:Boolean,default:!0},detailedAnalysis:{}},setup(s){const u=s,K=[{key:"career",name:"äº‹ä¸šè¿åŠ¿",icon:"ğŸ’¼"},{key:"wealth",name:"è´¢å¯Œè¿åŠ¿",icon:"ğŸ’°"},{key:"relationship",name:"æ„Ÿæƒ…è¿åŠ¿",icon:"ğŸ’•"},{key:"health",name:"å¥åº·è¿åŠ¿",icon:"ğŸ¥"}],M=e(()=>{if(u.detailedAnalysis)return u.detailedAnalysis;if(!u.aiResponse)return null;try{let s="";const e=u.aiResponse.match(/```json\s*([\s\S]*?)\s*```/);if(e)s=e[1];else{const e=u.aiResponse.trim();if(e.startsWith("{")&&e.endsWith("}"))s=e;else{const e=u.aiResponse.indexOf("{"),a=u.aiResponse.lastIndexOf("}");-1!==e&&-1!==a&&a>e&&(s=u.aiResponse.substring(e,a+1))}}if(!s)return null;s=s.trim();const a=JSON.parse(s);return a&&"object"==typeof a?(a.overallAnalysis||(a.overallAnalysis={summary:"æ•´ä½“è¿åŠ¿åˆ†æ",trend:"è¿åŠ¿èµ°å‘",strategy:"è¡ŒåŠ¨ç­–ç•¥"}),a.aspects||(a.aspects={}),a.precautions||(a.precautions={warnings:"",avoidances:"",recommendations:""}),a):null}catch(s){return null}});return(e,u)=>(r(),a("div",v,[l("div",p,[u[3]||(u[3]=l("h3",{class:"fortune-title"},"ä»Šæ—¥è¿åŠ¿æ¦‚è§ˆ",-1)),l("div",y,[l("span",d,i(s.fortuneData.overall.luck)+"ï¼ˆ"+i(s.fortuneData.overall.score)+"åˆ†ï¼‰",1)]),l("p",m,i(s.fortuneData.overall.description),1),M.value?.overallAnalysis?(r(),a("div",k,[l("div",f,[u[0]||(u[0]=l("strong",null,"è¿åŠ¿æ¦‚è¿°ï¼š",-1)),t(i(M.value.overallAnalysis.summary),1)]),l("div",g,[u[1]||(u[1]=l("strong",null,"è¿åŠ¿èµ°å‘ï¼š",-1)),t(i(M.value.overallAnalysis.trend),1)]),l("div",h,[u[2]||(u[2]=l("strong",null,"è¡ŒåŠ¨ç­–ç•¥ï¼š",-1)),t(i(M.value.overallAnalysis.strategy),1)])])):n("",!0)]),l("div",A,[u[8]||(u[8]=l("h4",{class:"section-title"},"ç»¼åˆè¿åŠ¿",-1)),(r(),a(c,null,o(K,e=>l("div",{key:e.key,class:"aspect-item"},[l("div",R,[l("span",D,i(e.icon),1),l("span",b,i(e.name)+"ï¼š",1),l("span",q,i(s.fortuneData.aspects[e.key].score)+"åˆ†",1)]),s.fortuneData.aspects[e.key].description?(r(),a("div",w,i(s.fortuneData.aspects[e.key].description),1)):n("",!0),M.value?.aspects[e.key]?(r(),a("div",x,[l("div",_,[u[4]||(u[4]=l("strong",null,"è¯¦ç»†åˆ†æï¼š",-1)),t(i(M.value.aspects[e.key].analysis),1)]),M.value.aspects[e.key].opportunities?(r(),a("div",j,[u[5]||(u[5]=l("strong",null,"å‘å±•æœºä¼šï¼š",-1)),t(i(M.value.aspects[e.key].opportunities),1)])):n("",!0),M.value.aspects[e.key].challenges||M.value.aspects[e.key].risks?(r(),a("div",I,[u[6]||(u[6]=l("strong",null,"é£é™©æŒ‘æˆ˜ï¼š",-1)),t(i(M.value.aspects[e.key].challenges||M.value.aspects[e.key].risks),1)])):n("",!0),M.value.aspects[e.key].advice?(r(),a("div",O,[u[7]||(u[7]=l("strong",null,"è¡ŒåŠ¨å»ºè®®ï¼š",-1)),t(i(M.value.aspects[e.key].advice),1)])):n("",!0)])):n("",!0)])),64))]),M.value?.qimenAnalysis?(r(),a("div",S,[u[12]||(u[12]=l("h4",{class:"section-title"},"å¥‡é—¨éç”²è§£æ",-1)),l("div",W,[l("div",B,[u[9]||(u[9]=l("strong",null,"æ ¼å±€ç‰¹ç‚¹ï¼š",-1)),t(i(M.value.qimenAnalysis.patternAnalysis),1)]),l("div",F,[u[10]||(u[10]=l("strong",null,"å®«ä½å½±å“ï¼š",-1)),t(i(M.value.qimenAnalysis.palaceInfluence),1)]),l("div",G,[u[11]||(u[11]=l("strong",null,"ä¸“ä¸šæŒ‡å¯¼ï¼š",-1)),t(i(M.value.qimenAnalysis.professionalGuidance),1)])])])):n("",!0),M.value?.precautions?(r(),a("div",J,[u[16]||(u[16]=l("h4",{class:"section-title"},"æ³¨æ„äº‹é¡¹",-1)),l("div",L,[M.value.precautions.warnings?(r(),a("div",N,[u[13]||(u[13]=l("strong",null,"ç‰¹åˆ«æé†’ï¼š",-1)),t(i(M.value.precautions.warnings),1)])):n("",!0),M.value.precautions.avoidances?(r(),a("div",z,[u[14]||(u[14]=l("strong",null,"é¿å…è¡Œä¸ºï¼š",-1)),t(i(M.value.precautions.avoidances),1)])):n("",!0),M.value.precautions.recommendations?(r(),a("div",C,[u[15]||(u[15]=l("strong",null,"æ¨èæ´»åŠ¨ï¼š",-1)),t(i(M.value.precautions.recommendations),1)])):n("",!0)])])):n("",!0),s.aiResponse&&!M.value?(r(),a("div",E,[u[17]||(u[17]=l("h4",{class:"section-title"},"AIå¤§å¸ˆè§£è¯»",-1)),l("div",H,i(s.aiResponse),1)])):n("",!0)]))}}),[["__scopeId","data-v-c8557c32"]]);export{K as D};
